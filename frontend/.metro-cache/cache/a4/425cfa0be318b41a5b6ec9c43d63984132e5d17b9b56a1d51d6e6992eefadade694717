{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@pdf-lib/upng","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"AoLTFvSb/zHYeydn/NqQkbTKgE8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"PngType\", {\n    enumerable: true,\n    get: function () {\n      return PngType;\n    }\n  });\n  Object.defineProperty(exports, \"PNG\", {\n    enumerable: true,\n    get: function () {\n      return PNG;\n    }\n  });\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[0], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _pdfLibUpng = require(_dependencyMap[2], \"@pdf-lib/upng\");\n  var UPNG = _interopDefault(_pdfLibUpng);\n  var getImageType = ctype => {\n    if (ctype === 0) return PngType.Greyscale;\n    if (ctype === 2) return PngType.Truecolour;\n    if (ctype === 3) return PngType.IndexedColour;\n    if (ctype === 4) return PngType.GreyscaleWithAlpha;\n    if (ctype === 6) return PngType.TruecolourWithAlpha;\n    throw new Error(`Unknown color type: ${ctype}`);\n  };\n  var splitAlphaChannel = rgbaChannel => {\n    var pixelCount = Math.floor(rgbaChannel.length / 4);\n    var rgbChannel = new Uint8Array(pixelCount * 3);\n    var alphaChannel = new Uint8Array(pixelCount * 1);\n    var rgbaOffset = 0;\n    var rgbOffset = 0;\n    var alphaOffset = 0;\n    while (rgbaOffset < rgbaChannel.length) {\n      rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n      rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n      rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n      alphaChannel[alphaOffset++] = rgbaChannel[rgbaOffset++];\n    }\n    return {\n      rgbChannel,\n      alphaChannel\n    };\n  };\n  var PngType;\n  (function (PngType) {\n    PngType[\"Greyscale\"] = \"Greyscale\";\n    PngType[\"Truecolour\"] = \"Truecolour\";\n    PngType[\"IndexedColour\"] = \"IndexedColour\";\n    PngType[\"GreyscaleWithAlpha\"] = \"GreyscaleWithAlpha\";\n    PngType[\"TruecolourWithAlpha\"] = \"TruecolourWithAlpha\";\n  })(PngType || (PngType = {}));\n  var PNG = /*#__PURE__*/(0, _createClass.default)(function PNG(pngData) {\n    (0, _classCallCheck.default)(this, PNG);\n    var upng = UPNG.default.decode(pngData);\n    var frames = UPNG.default.toRGBA8(upng);\n    if (frames.length > 1) throw new Error(`Animated PNGs are not supported`);\n    var frame = new Uint8Array(frames[0]);\n    var _splitAlphaChannel = splitAlphaChannel(frame),\n      rgbChannel = _splitAlphaChannel.rgbChannel,\n      alphaChannel = _splitAlphaChannel.alphaChannel;\n    this.rgbChannel = rgbChannel;\n    var hasAlphaValues = alphaChannel.some(a => a < 255);\n    if (hasAlphaValues) this.alphaChannel = alphaChannel;\n    this.type = getImageType(upng.ctype);\n    this.width = upng.width;\n    this.height = upng.height;\n    this.bitsPerComponent = 8;\n  });\n  PNG.load = pngData => new PNG(pngData);\n});","lineCount":82,"map":[[12,2,30,0,"Object"],[12,8,30,0],[12,9,30,0,"defineProperty"],[12,23,30,0],[12,24,30,0,"exports"],[12,31,30,0],[13,4,30,0,"enumerable"],[13,14,30,0],[14,4,30,0,"get"],[14,7,30,0],[14,18,30,0,"get"],[14,19,30,0],[15,6,30,0],[15,13,30,0,"PngType"],[15,20,30,0],[16,4,30,0],[17,2,30,0],[18,2,38,0,"Object"],[18,8,38,0],[18,9,38,0,"defineProperty"],[18,23,38,0],[18,24,38,0,"exports"],[18,31,38,0],[19,4,38,0,"enumerable"],[19,14,38,0],[20,4,38,0,"get"],[20,7,38,0],[20,18,38,0,"get"],[20,19,38,0],[21,6,38,0],[21,13,38,0,"PNG"],[21,16,38,0],[22,4,38,0],[23,2,38,0],[24,2,55,1],[24,6,55,1,"_babelRuntimeHelpersCreateClass"],[24,37,55,1],[24,40,55,1,"require"],[24,47,55,1],[24,48,55,1,"_dependencyMap"],[24,62,55,1],[25,2,55,1],[25,6,55,1,"_createClass"],[25,18,55,1],[25,21,55,1,"_interopDefault"],[25,36,55,1],[25,37,55,1,"_babelRuntimeHelpersCreateClass"],[25,68,55,1],[26,2,55,1],[26,6,55,1,"_babelRuntimeHelpersClassCallCheck"],[26,40,55,1],[26,43,55,1,"require"],[26,50,55,1],[26,51,55,1,"_dependencyMap"],[26,65,55,1],[27,2,55,1],[27,6,55,1,"_classCallCheck"],[27,21,55,1],[27,24,55,1,"_interopDefault"],[27,39,55,1],[27,40,55,1,"_babelRuntimeHelpersClassCallCheck"],[27,74,55,1],[28,2,1,0],[28,6,1,0,"_pdfLibUpng"],[28,17,1,0],[28,20,1,0,"require"],[28,27,1,0],[28,28,1,0,"_dependencyMap"],[28,42,1,0],[29,2,1,0],[29,6,1,0,"UPNG"],[29,10,1,0],[29,13,1,0,"_interopDefault"],[29,28,1,0],[29,29,1,0,"_pdfLibUpng"],[29,40,1,0],[30,2,2,0],[30,6,2,6,"getImageType"],[30,18,2,18],[30,21,2,22,"ctype"],[30,26,2,27],[30,30,2,32],[31,4,3,4],[31,8,3,8,"ctype"],[31,13,3,13],[31,18,3,18],[31,19,3,19],[31,21,4,8],[31,28,4,15,"PngType"],[31,35,4,22],[31,36,4,23,"Greyscale"],[31,45,4,32],[32,4,5,4],[32,8,5,8,"ctype"],[32,13,5,13],[32,18,5,18],[32,19,5,19],[32,21,6,8],[32,28,6,15,"PngType"],[32,35,6,22],[32,36,6,23,"Truecolour"],[32,46,6,33],[33,4,7,4],[33,8,7,8,"ctype"],[33,13,7,13],[33,18,7,18],[33,19,7,19],[33,21,8,8],[33,28,8,15,"PngType"],[33,35,8,22],[33,36,8,23,"IndexedColour"],[33,49,8,36],[34,4,9,4],[34,8,9,8,"ctype"],[34,13,9,13],[34,18,9,18],[34,19,9,19],[34,21,10,8],[34,28,10,15,"PngType"],[34,35,10,22],[34,36,10,23,"GreyscaleWithAlpha"],[34,54,10,41],[35,4,11,4],[35,8,11,8,"ctype"],[35,13,11,13],[35,18,11,18],[35,19,11,19],[35,21,12,8],[35,28,12,15,"PngType"],[35,35,12,22],[35,36,12,23,"TruecolourWithAlpha"],[35,55,12,42],[36,4,13,4],[36,10,13,10],[36,14,13,14,"Error"],[36,19,13,19],[36,20,13,20],[36,43,13,43,"ctype"],[36,48,13,48],[36,50,13,50],[36,51,13,51],[37,2,14,0],[37,3,14,1],[38,2,15,0],[38,6,15,6,"splitAlphaChannel"],[38,23,15,23],[38,26,15,27,"rgbaChannel"],[38,37,15,38],[38,41,15,43],[39,4,16,4],[39,8,16,10,"pixelCount"],[39,18,16,20],[39,21,16,23,"Math"],[39,25,16,27],[39,26,16,28,"floor"],[39,31,16,33],[39,32,16,34,"rgbaChannel"],[39,43,16,45],[39,44,16,46,"length"],[39,50,16,52],[39,53,16,55],[39,54,16,56],[39,55,16,57],[40,4,17,4],[40,8,17,10,"rgbChannel"],[40,18,17,20],[40,21,17,23],[40,25,17,27,"Uint8Array"],[40,35,17,37],[40,36,17,38,"pixelCount"],[40,46,17,48],[40,49,17,51],[40,50,17,52],[40,51,17,53],[41,4,18,4],[41,8,18,10,"alphaChannel"],[41,20,18,22],[41,23,18,25],[41,27,18,29,"Uint8Array"],[41,37,18,39],[41,38,18,40,"pixelCount"],[41,48,18,50],[41,51,18,53],[41,52,18,54],[41,53,18,55],[42,4,19,4],[42,8,19,8,"rgbaOffset"],[42,18,19,18],[42,21,19,21],[42,22,19,22],[43,4,20,4],[43,8,20,8,"rgbOffset"],[43,17,20,17],[43,20,20,20],[43,21,20,21],[44,4,21,4],[44,8,21,8,"alphaOffset"],[44,19,21,19],[44,22,21,22],[44,23,21,23],[45,4,22,4],[45,11,22,11,"rgbaOffset"],[45,21,22,21],[45,24,22,24,"rgbaChannel"],[45,35,22,35],[45,36,22,36,"length"],[45,42,22,42],[45,44,22,44],[46,6,23,8,"rgbChannel"],[46,16,23,18],[46,17,23,19,"rgbOffset"],[46,26,23,28],[46,28,23,30],[46,29,23,31],[46,32,23,34,"rgbaChannel"],[46,43,23,45],[46,44,23,46,"rgbaOffset"],[46,54,23,56],[46,56,23,58],[46,57,23,59],[47,6,24,8,"rgbChannel"],[47,16,24,18],[47,17,24,19,"rgbOffset"],[47,26,24,28],[47,28,24,30],[47,29,24,31],[47,32,24,34,"rgbaChannel"],[47,43,24,45],[47,44,24,46,"rgbaOffset"],[47,54,24,56],[47,56,24,58],[47,57,24,59],[48,6,25,8,"rgbChannel"],[48,16,25,18],[48,17,25,19,"rgbOffset"],[48,26,25,28],[48,28,25,30],[48,29,25,31],[48,32,25,34,"rgbaChannel"],[48,43,25,45],[48,44,25,46,"rgbaOffset"],[48,54,25,56],[48,56,25,58],[48,57,25,59],[49,6,26,8,"alphaChannel"],[49,18,26,20],[49,19,26,21,"alphaOffset"],[49,30,26,32],[49,32,26,34],[49,33,26,35],[49,36,26,38,"rgbaChannel"],[49,47,26,49],[49,48,26,50,"rgbaOffset"],[49,58,26,60],[49,60,26,62],[49,61,26,63],[50,4,27,4],[51,4,28,4],[51,11,28,11],[52,6,28,13,"rgbChannel"],[52,16,28,23],[53,6,28,25,"alphaChannel"],[54,4,28,38],[54,5,28,39],[55,2,29,0],[55,3,29,1],[56,2,30,7],[56,6,30,11,"PngType"],[56,13,30,18],[57,2,31,0],[57,3,31,1],[57,13,31,11,"PngType"],[57,20,31,18],[57,22,31,20],[58,4,32,4,"PngType"],[58,11,32,11],[58,12,32,12],[58,23,32,23],[58,24,32,24],[58,27,32,27],[58,38,32,38],[59,4,33,4,"PngType"],[59,11,33,11],[59,12,33,12],[59,24,33,24],[59,25,33,25],[59,28,33,28],[59,40,33,40],[60,4,34,4,"PngType"],[60,11,34,11],[60,12,34,12],[60,27,34,27],[60,28,34,28],[60,31,34,31],[60,46,34,46],[61,4,35,4,"PngType"],[61,11,35,11],[61,12,35,12],[61,32,35,32],[61,33,35,33],[61,36,35,36],[61,56,35,56],[62,4,36,4,"PngType"],[62,11,36,11],[62,12,36,12],[62,33,36,33],[62,34,36,34],[62,37,36,37],[62,58,36,58],[63,2,37,0],[63,3,37,1],[63,5,37,3,"PngType"],[63,12,37,10],[63,17,37,15,"PngType"],[63,24,37,22],[63,27,37,25],[63,28,37,26],[63,29,37,27],[63,30,37,28],[63,31,37,29],[64,2,37,30],[64,6,38,13,"PNG"],[64,9,38,16],[64,29,38,16,"_createClass"],[64,41,38,16],[64,42,38,16,"default"],[64,49,38,16],[64,51,39,4],[64,60,39,4,"PNG"],[64,64,39,16,"pngData"],[64,71,39,23],[64,73,39,25],[65,4,39,25],[65,8,39,25,"_classCallCheck"],[65,23,39,25],[65,24,39,25,"default"],[65,31,39,25],[65,39,39,25,"PNG"],[65,42,39,25],[66,4,40,8],[66,8,40,14,"upng"],[66,12,40,18],[66,15,40,21,"UPNG"],[66,19,40,25],[66,20,40,25,"default"],[66,27,40,25],[66,28,40,26,"decode"],[66,34,40,32],[66,35,40,33,"pngData"],[66,42,40,40],[66,43,40,41],[67,4,41,8],[67,8,41,14,"frames"],[67,14,41,20],[67,17,41,23,"UPNG"],[67,21,41,27],[67,22,41,27,"default"],[67,29,41,27],[67,30,41,28,"toRGBA8"],[67,37,41,35],[67,38,41,36,"upng"],[67,42,41,40],[67,43,41,41],[68,4,42,8],[68,8,42,12,"frames"],[68,14,42,18],[68,15,42,19,"length"],[68,21,42,25],[68,24,42,28],[68,25,42,29],[68,27,43,12],[68,33,43,18],[68,37,43,22,"Error"],[68,42,43,27],[68,43,43,28],[68,76,43,61],[68,77,43,62],[69,4,44,8],[69,8,44,14,"frame"],[69,13,44,19],[69,16,44,22],[69,20,44,26,"Uint8Array"],[69,30,44,36],[69,31,44,37,"frames"],[69,37,44,43],[69,38,44,44],[69,39,44,45],[69,40,44,46],[69,41,44,47],[70,4,45,8],[70,8,45,8,"_splitAlphaChannel"],[70,26,45,8],[70,29,45,45,"splitAlphaChannel"],[70,46,45,62],[70,47,45,63,"frame"],[70,52,45,68],[70,53,45,69],[71,6,45,16,"rgbChannel"],[71,16,45,26],[71,19,45,26,"_splitAlphaChannel"],[71,37,45,26],[71,38,45,16,"rgbChannel"],[71,48,45,26],[72,6,45,28,"alphaChannel"],[72,18,45,40],[72,21,45,40,"_splitAlphaChannel"],[72,39,45,40],[72,40,45,28,"alphaChannel"],[72,52,45,40],[73,4,46,8],[73,8,46,12],[73,9,46,13,"rgbChannel"],[73,19,46,23],[73,22,46,26,"rgbChannel"],[73,32,46,36],[74,4,47,8],[74,8,47,14,"hasAlphaValues"],[74,22,47,28],[74,25,47,31,"alphaChannel"],[74,37,47,43],[74,38,47,44,"some"],[74,42,47,48],[74,43,47,50,"a"],[74,44,47,51],[74,48,47,56,"a"],[74,49,47,57],[74,52,47,60],[74,55,47,63],[74,56,47,64],[75,4,48,8],[75,8,48,12,"hasAlphaValues"],[75,22,48,26],[75,24,49,12],[75,28,49,16],[75,29,49,17,"alphaChannel"],[75,41,49,29],[75,44,49,32,"alphaChannel"],[75,56,49,44],[76,4,50,8],[76,8,50,12],[76,9,50,13,"type"],[76,13,50,17],[76,16,50,20,"getImageType"],[76,28,50,32],[76,29,50,33,"upng"],[76,33,50,37],[76,34,50,38,"ctype"],[76,39,50,43],[76,40,50,44],[77,4,51,8],[77,8,51,12],[77,9,51,13,"width"],[77,14,51,18],[77,17,51,21,"upng"],[77,21,51,25],[77,22,51,26,"width"],[77,27,51,31],[78,4,52,8],[78,8,52,12],[78,9,52,13,"height"],[78,15,52,19],[78,18,52,22,"upng"],[78,22,52,26],[78,23,52,27,"height"],[78,29,52,33],[79,4,53,8],[79,8,53,12],[79,9,53,13,"bitsPerComponent"],[79,25,53,29],[79,28,53,32],[79,29,53,33],[80,2,54,4],[80,3,54,5],[81,2,56,0,"PNG"],[81,5,56,3],[81,6,56,4,"load"],[81,10,56,8],[81,13,56,12,"pngData"],[81,20,56,19],[81,24,56,24],[81,28,56,28,"PNG"],[81,31,56,31],[81,32,56,32,"pngData"],[81,39,56,39],[81,40,56,40],[82,0,56,41],[82,3]],"functionMap":{"names":["<global>","getImageType","splitAlphaChannel","<anonymous>","PNG","PNG#constructor","alphaChannel.some$argument_0","PNG.load"],"mappings":"AAA;qBCC;CDY;0BEC;CFc;CGE;CHM;OIC;ICC;iDCQ,cD;KDO;CJC;WOC,6BP"},"hasCjsExports":false},"type":"js/module"}]}