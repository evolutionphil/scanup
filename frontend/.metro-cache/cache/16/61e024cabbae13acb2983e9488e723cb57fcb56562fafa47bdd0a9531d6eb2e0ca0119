{"dependencies":[{"name":"./util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":11,"index":219},"end":{"line":8,"column":28,"index":236}}],"key":"hA8WsniBZrUJ/dmBZgrNdZcEmJ8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /* -*- Mode: js; js-indent-level: 2; -*- */\n  /*\n   * Copyright 2011 Mozilla Foundation and contributors\n   * Licensed under the New BSD license. See LICENSE or:\n   * http://opensource.org/licenses/BSD-3-Clause\n   */\n\n  var util = require(_dependencyMap[0], \"./util\");\n  var has = Object.prototype.hasOwnProperty;\n\n  /**\n   * A data structure which is a combination of an array and a set. Adding a new\n   * member is O(1), testing for membership is O(1), and finding the index of an\n   * element is O(1). Removing elements from the set is not supported. Only\n   * strings are supported for membership.\n   */\n  function ArraySet() {\n    this._array = [];\n    this._set = Object.create(null);\n  }\n\n  /**\n   * Static method for creating ArraySet instances from an existing array.\n   */\n  ArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n    var set = new ArraySet();\n    for (var i = 0, len = aArray.length; i < len; i++) {\n      set.add(aArray[i], aAllowDuplicates);\n    }\n    return set;\n  };\n\n  /**\n   * Return how many unique items are in this ArraySet. If duplicates have been\n   * added, than those do not count towards the size.\n   *\n   * @returns Number\n   */\n  ArraySet.prototype.size = function ArraySet_size() {\n    return Object.getOwnPropertyNames(this._set).length;\n  };\n\n  /**\n   * Add the given string to this set.\n   *\n   * @param String aStr\n   */\n  ArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n    var sStr = util.toSetString(aStr);\n    var isDuplicate = has.call(this._set, sStr);\n    var idx = this._array.length;\n    if (!isDuplicate || aAllowDuplicates) {\n      this._array.push(aStr);\n    }\n    if (!isDuplicate) {\n      this._set[sStr] = idx;\n    }\n  };\n\n  /**\n   * Is the given string a member of this set?\n   *\n   * @param String aStr\n   */\n  ArraySet.prototype.has = function ArraySet_has(aStr) {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  };\n\n  /**\n   * What is the index of the given string in the array?\n   *\n   * @param String aStr\n   */\n  ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n    throw new Error('\"' + aStr + '\" is not in the set.');\n  };\n\n  /**\n   * What is the element at the given index?\n   *\n   * @param Number aIdx\n   */\n  ArraySet.prototype.at = function ArraySet_at(aIdx) {\n    if (aIdx >= 0 && aIdx < this._array.length) {\n      return this._array[aIdx];\n    }\n    throw new Error('No element indexed by ' + aIdx);\n  };\n\n  /**\n   * Returns the array representation of this set (which has the proper indices\n   * indicated by indexOf). Note that this is a copy of the internal array used\n   * for storing the members so that no one can mess with internal state.\n   */\n  ArraySet.prototype.toArray = function ArraySet_toArray() {\n    return this._array.slice();\n  };\n  exports.ArraySet = ArraySet;\n});","lineCount":105,"map":[[2,2,1,0],[3,2,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[9,2,8,0],[9,6,8,4,"util"],[9,10,8,8],[9,13,8,11,"require"],[9,20,8,18],[9,21,8,18,"_dependencyMap"],[9,35,8,18],[9,48,8,27],[9,49,8,28],[10,2,9,0],[10,6,9,4,"has"],[10,9,9,7],[10,12,9,10,"Object"],[10,18,9,16],[10,19,9,17,"prototype"],[10,28,9,26],[10,29,9,27,"hasOwnProperty"],[10,43,9,41],[12,2,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,2,17,0],[18,11,17,9,"ArraySet"],[18,19,17,17,"ArraySet"],[18,20,17,17],[18,22,17,20],[19,4,18,2],[19,8,18,6],[19,9,18,7,"_array"],[19,15,18,13],[19,18,18,16],[19,20,18,18],[20,4,19,2],[20,8,19,6],[20,9,19,7,"_set"],[20,13,19,11],[20,16,19,14,"Object"],[20,22,19,20],[20,23,19,21,"create"],[20,29,19,27],[20,30,19,28],[20,34,19,32],[20,35,19,33],[21,2,20,0],[23,2,22,0],[24,0,23,0],[25,0,24,0],[26,2,25,0,"ArraySet"],[26,10,25,8],[26,11,25,9,"fromArray"],[26,20,25,18],[26,23,25,21],[26,32,25,30,"ArraySet_fromArray"],[26,50,25,48,"ArraySet_fromArray"],[26,51,25,49,"aArray"],[26,57,25,55],[26,59,25,57,"aAllowDuplicates"],[26,75,25,73],[26,77,25,75],[27,4,26,2],[27,8,26,6,"set"],[27,11,26,9],[27,14,26,12],[27,18,26,16,"ArraySet"],[27,26,26,24],[27,27,26,25],[27,28,26,26],[28,4,27,2],[28,9,27,7],[28,13,27,11,"i"],[28,14,27,12],[28,17,27,15],[28,18,27,16],[28,20,27,18,"len"],[28,23,27,21],[28,26,27,24,"aArray"],[28,32,27,30],[28,33,27,31,"length"],[28,39,27,37],[28,41,27,39,"i"],[28,42,27,40],[28,45,27,43,"len"],[28,48,27,46],[28,50,27,48,"i"],[28,51,27,49],[28,53,27,51],[28,55,27,53],[29,6,28,4,"set"],[29,9,28,7],[29,10,28,8,"add"],[29,13,28,11],[29,14,28,12,"aArray"],[29,20,28,18],[29,21,28,19,"i"],[29,22,28,20],[29,23,28,21],[29,25,28,23,"aAllowDuplicates"],[29,41,28,39],[29,42,28,40],[30,4,29,2],[31,4,30,2],[31,11,30,9,"set"],[31,14,30,12],[32,2,31,0],[32,3,31,1],[34,2,33,0],[35,0,34,0],[36,0,35,0],[37,0,36,0],[38,0,37,0],[39,0,38,0],[40,2,39,0,"ArraySet"],[40,10,39,8],[40,11,39,9,"prototype"],[40,20,39,18],[40,21,39,19,"size"],[40,25,39,23],[40,28,39,26],[40,37,39,35,"ArraySet_size"],[40,50,39,48,"ArraySet_size"],[40,51,39,48],[40,53,39,51],[41,4,40,2],[41,11,40,9,"Object"],[41,17,40,15],[41,18,40,16,"getOwnPropertyNames"],[41,37,40,35],[41,38,40,36],[41,42,40,40],[41,43,40,41,"_set"],[41,47,40,45],[41,48,40,46],[41,49,40,47,"length"],[41,55,40,53],[42,2,41,0],[42,3,41,1],[44,2,43,0],[45,0,44,0],[46,0,45,0],[47,0,46,0],[48,0,47,0],[49,2,48,0,"ArraySet"],[49,10,48,8],[49,11,48,9,"prototype"],[49,20,48,18],[49,21,48,19,"add"],[49,24,48,22],[49,27,48,25],[49,36,48,34,"ArraySet_add"],[49,48,48,46,"ArraySet_add"],[49,49,48,47,"aStr"],[49,53,48,51],[49,55,48,53,"aAllowDuplicates"],[49,71,48,69],[49,73,48,71],[50,4,49,2],[50,8,49,6,"sStr"],[50,12,49,10],[50,15,49,13,"util"],[50,19,49,17],[50,20,49,18,"toSetString"],[50,31,49,29],[50,32,49,30,"aStr"],[50,36,49,34],[50,37,49,35],[51,4,50,2],[51,8,50,6,"isDuplicate"],[51,19,50,17],[51,22,50,20,"has"],[51,25,50,23],[51,26,50,24,"call"],[51,30,50,28],[51,31,50,29],[51,35,50,33],[51,36,50,34,"_set"],[51,40,50,38],[51,42,50,40,"sStr"],[51,46,50,44],[51,47,50,45],[52,4,51,2],[52,8,51,6,"idx"],[52,11,51,9],[52,14,51,12],[52,18,51,16],[52,19,51,17,"_array"],[52,25,51,23],[52,26,51,24,"length"],[52,32,51,30],[53,4,52,2],[53,8,52,6],[53,9,52,7,"isDuplicate"],[53,20,52,18],[53,24,52,22,"aAllowDuplicates"],[53,40,52,38],[53,42,52,40],[54,6,53,4],[54,10,53,8],[54,11,53,9,"_array"],[54,17,53,15],[54,18,53,16,"push"],[54,22,53,20],[54,23,53,21,"aStr"],[54,27,53,25],[54,28,53,26],[55,4,54,2],[56,4,55,2],[56,8,55,6],[56,9,55,7,"isDuplicate"],[56,20,55,18],[56,22,55,20],[57,6,56,4],[57,10,56,8],[57,11,56,9,"_set"],[57,15,56,13],[57,16,56,14,"sStr"],[57,20,56,18],[57,21,56,19],[57,24,56,22,"idx"],[57,27,56,25],[58,4,57,2],[59,2,58,0],[59,3,58,1],[61,2,60,0],[62,0,61,0],[63,0,62,0],[64,0,63,0],[65,0,64,0],[66,2,65,0,"ArraySet"],[66,10,65,8],[66,11,65,9,"prototype"],[66,20,65,18],[66,21,65,19,"has"],[66,24,65,22],[66,27,65,25],[66,36,65,34,"ArraySet_has"],[66,48,65,46,"ArraySet_has"],[66,49,65,47,"aStr"],[66,53,65,51],[66,55,65,53],[67,4,66,2],[67,8,66,6,"sStr"],[67,12,66,10],[67,15,66,13,"util"],[67,19,66,17],[67,20,66,18,"toSetString"],[67,31,66,29],[67,32,66,30,"aStr"],[67,36,66,34],[67,37,66,35],[68,4,67,2],[68,11,67,9,"has"],[68,14,67,12],[68,15,67,13,"call"],[68,19,67,17],[68,20,67,18],[68,24,67,22],[68,25,67,23,"_set"],[68,29,67,27],[68,31,67,29,"sStr"],[68,35,67,33],[68,36,67,34],[69,2,68,0],[69,3,68,1],[71,2,70,0],[72,0,71,0],[73,0,72,0],[74,0,73,0],[75,0,74,0],[76,2,75,0,"ArraySet"],[76,10,75,8],[76,11,75,9,"prototype"],[76,20,75,18],[76,21,75,19,"indexOf"],[76,28,75,26],[76,31,75,29],[76,40,75,38,"ArraySet_indexOf"],[76,56,75,54,"ArraySet_indexOf"],[76,57,75,55,"aStr"],[76,61,75,59],[76,63,75,61],[77,4,76,2],[77,8,76,6,"sStr"],[77,12,76,10],[77,15,76,13,"util"],[77,19,76,17],[77,20,76,18,"toSetString"],[77,31,76,29],[77,32,76,30,"aStr"],[77,36,76,34],[77,37,76,35],[78,4,77,2],[78,8,77,6,"has"],[78,11,77,9],[78,12,77,10,"call"],[78,16,77,14],[78,17,77,15],[78,21,77,19],[78,22,77,20,"_set"],[78,26,77,24],[78,28,77,26,"sStr"],[78,32,77,30],[78,33,77,31],[78,35,77,33],[79,6,78,4],[79,13,78,11],[79,17,78,15],[79,18,78,16,"_set"],[79,22,78,20],[79,23,78,21,"sStr"],[79,27,78,25],[79,28,78,26],[80,4,79,2],[81,4,80,2],[81,10,80,8],[81,14,80,12,"Error"],[81,19,80,17],[81,20,80,18],[81,23,80,21],[81,26,80,24,"aStr"],[81,30,80,28],[81,33,80,31],[81,55,80,53],[81,56,80,54],[82,2,81,0],[82,3,81,1],[84,2,83,0],[85,0,84,0],[86,0,85,0],[87,0,86,0],[88,0,87,0],[89,2,88,0,"ArraySet"],[89,10,88,8],[89,11,88,9,"prototype"],[89,20,88,18],[89,21,88,19,"at"],[89,23,88,21],[89,26,88,24],[89,35,88,33,"ArraySet_at"],[89,46,88,44,"ArraySet_at"],[89,47,88,45,"aIdx"],[89,51,88,49],[89,53,88,51],[90,4,89,2],[90,8,89,6,"aIdx"],[90,12,89,10],[90,16,89,14],[90,17,89,15],[90,21,89,19,"aIdx"],[90,25,89,23],[90,28,89,26],[90,32,89,30],[90,33,89,31,"_array"],[90,39,89,37],[90,40,89,38,"length"],[90,46,89,44],[90,48,89,46],[91,6,90,4],[91,13,90,11],[91,17,90,15],[91,18,90,16,"_array"],[91,24,90,22],[91,25,90,23,"aIdx"],[91,29,90,27],[91,30,90,28],[92,4,91,2],[93,4,92,2],[93,10,92,8],[93,14,92,12,"Error"],[93,19,92,17],[93,20,92,18],[93,44,92,42],[93,47,92,45,"aIdx"],[93,51,92,49],[93,52,92,50],[94,2,93,0],[94,3,93,1],[96,2,95,0],[97,0,96,0],[98,0,97,0],[99,0,98,0],[100,0,99,0],[101,2,100,0,"ArraySet"],[101,10,100,8],[101,11,100,9,"prototype"],[101,20,100,18],[101,21,100,19,"toArray"],[101,28,100,26],[101,31,100,29],[101,40,100,38,"ArraySet_toArray"],[101,56,100,54,"ArraySet_toArray"],[101,57,100,54],[101,59,100,57],[102,4,101,2],[102,11,101,9],[102,15,101,13],[102,16,101,14,"_array"],[102,22,101,20],[102,23,101,21,"slice"],[102,28,101,26],[102,29,101,27],[102,30,101,28],[103,2,102,0],[103,3,102,1],[104,2,104,0,"exports"],[104,9,104,7],[104,10,104,8,"ArraySet"],[104,18,104,16],[104,21,104,19,"ArraySet"],[104,29,104,27],[105,0,104,28],[105,3]],"functionMap":{"names":["<global>","ArraySet","ArraySet_fromArray","ArraySet_size","ArraySet_add","ArraySet_has","ArraySet_indexOf","ArraySet_at","ArraySet_toArray"],"mappings":"AAA;ACgB;CDG;qBEK;CFM;0BGQ;CHE;yBIO;CJU;yBKO;CLG;6BMO;CNM;wBOO;CPK;6BQO;CRE"},"hasCjsExports":true},"type":"js/module"}]}