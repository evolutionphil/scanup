{"dependencies":[{"name":"../objects/PDFDict.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"ImuhvNfyhCWE6QzJIkmZ7+4NqIg=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFArray.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"+NOyjQOKVNJbbp57pTnxU3aHucs=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFName.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":44,"index":136}}],"key":"n98wTd1MATuKrvcBEI04SWaKgtU=","exportNames":["*"],"imports":1}},{"name":"./PDFAcroNonTerminal.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":57,"index":194}}],"key":"qwHGXHM6HtLkpQk1nZNXF807QXc=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":195},"end":{"line":5,"column":69,"index":264}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _objectsPDFDictJs = require(_dependencyMap[0], \"../objects/PDFDict.js\");\n  var PDFDict = _interopDefault(_objectsPDFDictJs);\n  var _objectsPDFArrayJs = require(_dependencyMap[1], \"../objects/PDFArray.js\");\n  var PDFArray = _interopDefault(_objectsPDFArrayJs);\n  var _objectsPDFNameJs = require(_dependencyMap[2], \"../objects/PDFName.js\");\n  var PDFName = _interopDefault(_objectsPDFNameJs);\n  var _PDFAcroNonTerminalJs = require(_dependencyMap[3], \"./PDFAcroNonTerminal.js\");\n  var PDFAcroNonTerminal = _interopDefault(_PDFAcroNonTerminalJs);\n  var _utilsJs = require(_dependencyMap[4], \"./utils.js\");\n  class PDFAcroForm {\n    constructor(dict) {\n      this.dict = dict;\n    }\n    Fields() {\n      const fields = this.dict.lookup(PDFName.default.of('Fields'));\n      if (fields instanceof PDFArray.default) return fields;\n      return undefined;\n    }\n    getFields() {\n      const {\n        Fields\n      } = this.normalizedEntries();\n      const fields = new Array(Fields.size());\n      for (let idx = 0, len = Fields.size(); idx < len; idx++) {\n        const ref = Fields.get(idx);\n        const dict = Fields.lookup(idx, PDFDict.default);\n        fields[idx] = [(0, _utilsJs.createPDFAcroField)(dict, ref), ref];\n      }\n      return fields;\n    }\n    getAllFields() {\n      const allFields = [];\n      const pushFields = fields => {\n        if (!fields) return;\n        for (let idx = 0, len = fields.length; idx < len; idx++) {\n          const field = fields[idx];\n          allFields.push(field);\n          const [fieldModel] = field;\n          if (fieldModel instanceof PDFAcroNonTerminal.default) {\n            pushFields((0, _utilsJs.createPDFAcroFields)(fieldModel.Kids()));\n          }\n        }\n      };\n      pushFields(this.getFields());\n      return allFields;\n    }\n    addField(field) {\n      const {\n        Fields\n      } = this.normalizedEntries();\n      Fields === null || Fields === void 0 ? void 0 : Fields.push(field);\n    }\n    removeField(field) {\n      const parent = field.getParent();\n      const fields = parent === undefined ? this.normalizedEntries().Fields : parent.Kids();\n      const index = fields === null || fields === void 0 ? void 0 : fields.indexOf(field.ref);\n      if (fields === undefined || index === undefined) {\n        throw new Error(`Tried to remove inexistent field ${field.getFullyQualifiedName()}`);\n      }\n      fields.remove(index);\n      if (parent !== undefined && fields.size() === 0) {\n        this.removeField(parent);\n      }\n    }\n    normalizedEntries() {\n      let Fields = this.Fields();\n      if (!Fields) {\n        Fields = this.dict.context.obj([]);\n        this.dict.set(PDFName.default.of('Fields'), Fields);\n      }\n      return {\n        Fields\n      };\n    }\n  }\n  PDFAcroForm.fromDict = dict => new PDFAcroForm(dict);\n  PDFAcroForm.create = context => {\n    const dict = context.obj({\n      Fields: []\n    });\n    return new PDFAcroForm(dict);\n  };\n  var _default = PDFAcroForm;\n});","lineCount":101,"map":[[12,2,73,0,"Object"],[12,8,73,0],[12,9,73,0,"defineProperty"],[12,23,73,0],[12,24,73,0,"exports"],[12,31,73,0],[13,4,73,0,"enumerable"],[13,14,73,0],[14,4,73,0,"get"],[14,7,73,0],[14,18,73,0,"get"],[14,19,73,0],[15,6,73,0],[15,13,73,0,"_default"],[15,21,73,0],[16,4,73,0],[17,2,73,0],[18,2,1,0],[18,6,1,0,"_objectsPDFDictJs"],[18,23,1,0],[18,26,1,0,"require"],[18,33,1,0],[18,34,1,0,"_dependencyMap"],[18,48,1,0],[19,2,1,0],[19,6,1,0,"PDFDict"],[19,13,1,0],[19,16,1,0,"_interopDefault"],[19,31,1,0],[19,32,1,0,"_objectsPDFDictJs"],[19,49,1,0],[20,2,2,0],[20,6,2,0,"_objectsPDFArrayJs"],[20,24,2,0],[20,27,2,0,"require"],[20,34,2,0],[20,35,2,0,"_dependencyMap"],[20,49,2,0],[21,2,2,0],[21,6,2,0,"PDFArray"],[21,14,2,0],[21,17,2,0,"_interopDefault"],[21,32,2,0],[21,33,2,0,"_objectsPDFArrayJs"],[21,51,2,0],[22,2,3,0],[22,6,3,0,"_objectsPDFNameJs"],[22,23,3,0],[22,26,3,0,"require"],[22,33,3,0],[22,34,3,0,"_dependencyMap"],[22,48,3,0],[23,2,3,0],[23,6,3,0,"PDFName"],[23,13,3,0],[23,16,3,0,"_interopDefault"],[23,31,3,0],[23,32,3,0,"_objectsPDFNameJs"],[23,49,3,0],[24,2,4,0],[24,6,4,0,"_PDFAcroNonTerminalJs"],[24,27,4,0],[24,30,4,0,"require"],[24,37,4,0],[24,38,4,0,"_dependencyMap"],[24,52,4,0],[25,2,4,0],[25,6,4,0,"PDFAcroNonTerminal"],[25,24,4,0],[25,27,4,0,"_interopDefault"],[25,42,4,0],[25,43,4,0,"_PDFAcroNonTerminalJs"],[25,64,4,0],[26,2,5,0],[26,6,5,0,"_utilsJs"],[26,14,5,0],[26,17,5,0,"require"],[26,24,5,0],[26,25,5,0,"_dependencyMap"],[26,39,5,0],[27,2,6,0],[27,8,6,6,"PDFAcroForm"],[27,19,6,17],[27,20,6,18],[28,4,7,4,"constructor"],[28,15,7,15,"constructor"],[28,16,7,16,"dict"],[28,20,7,20],[28,22,7,22],[29,6,8,8],[29,10,8,12],[29,11,8,13,"dict"],[29,15,8,17],[29,18,8,20,"dict"],[29,22,8,24],[30,4,9,4],[31,4,10,4,"Fields"],[31,10,10,10,"Fields"],[31,11,10,10],[31,13,10,13],[32,6,11,8],[32,12,11,14,"fields"],[32,18,11,20],[32,21,11,23],[32,25,11,27],[32,26,11,28,"dict"],[32,30,11,32],[32,31,11,33,"lookup"],[32,37,11,39],[32,38,11,40,"PDFName"],[32,45,11,47],[32,46,11,47,"default"],[32,53,11,47],[32,54,11,48,"of"],[32,56,11,50],[32,57,11,51],[32,65,11,59],[32,66,11,60],[32,67,11,61],[33,6,12,8],[33,10,12,12,"fields"],[33,16,12,18],[33,28,12,30,"PDFArray"],[33,36,12,38],[33,37,12,38,"default"],[33,44,12,38],[33,46,13,12],[33,53,13,19,"fields"],[33,59,13,25],[34,6,14,8],[34,13,14,15,"undefined"],[34,22,14,24],[35,4,15,4],[36,4,16,4,"getFields"],[36,13,16,13,"getFields"],[36,14,16,13],[36,16,16,16],[37,6,17,8],[37,12,17,14],[38,8,17,16,"Fields"],[39,6,17,23],[39,7,17,24],[39,10,17,27],[39,14,17,31],[39,15,17,32,"normalizedEntries"],[39,32,17,49],[39,33,17,50],[39,34,17,51],[40,6,18,8],[40,12,18,14,"fields"],[40,18,18,20],[40,21,18,23],[40,25,18,27,"Array"],[40,30,18,32],[40,31,18,33,"Fields"],[40,37,18,39],[40,38,18,40,"size"],[40,42,18,44],[40,43,18,45],[40,44,18,46],[40,45,18,47],[41,6,19,8],[41,11,19,13],[41,15,19,17,"idx"],[41,18,19,20],[41,21,19,23],[41,22,19,24],[41,24,19,26,"len"],[41,27,19,29],[41,30,19,32,"Fields"],[41,36,19,38],[41,37,19,39,"size"],[41,41,19,43],[41,42,19,44],[41,43,19,45],[41,45,19,47,"idx"],[41,48,19,50],[41,51,19,53,"len"],[41,54,19,56],[41,56,19,58,"idx"],[41,59,19,61],[41,61,19,63],[41,63,19,65],[42,8,20,12],[42,14,20,18,"ref"],[42,17,20,21],[42,20,20,24,"Fields"],[42,26,20,30],[42,27,20,31,"get"],[42,30,20,34],[42,31,20,35,"idx"],[42,34,20,38],[42,35,20,39],[43,8,21,12],[43,14,21,18,"dict"],[43,18,21,22],[43,21,21,25,"Fields"],[43,27,21,31],[43,28,21,32,"lookup"],[43,34,21,38],[43,35,21,39,"idx"],[43,38,21,42],[43,40,21,44,"PDFDict"],[43,47,21,51],[43,48,21,51,"default"],[43,55,21,51],[43,56,21,52],[44,8,22,12,"fields"],[44,14,22,18],[44,15,22,19,"idx"],[44,18,22,22],[44,19,22,23],[44,22,22,26],[44,23,22,27],[44,27,22,27,"createPDFAcroField"],[44,35,22,45],[44,36,22,45,"createPDFAcroField"],[44,54,22,45],[44,56,22,46,"dict"],[44,60,22,50],[44,62,22,52,"ref"],[44,65,22,55],[44,66,22,56],[44,68,22,58,"ref"],[44,71,22,61],[44,72,22,62],[45,6,23,8],[46,6,24,8],[46,13,24,15,"fields"],[46,19,24,21],[47,4,25,4],[48,4,26,4,"getAllFields"],[48,16,26,16,"getAllFields"],[48,17,26,16],[48,19,26,19],[49,6,27,8],[49,12,27,14,"allFields"],[49,21,27,23],[49,24,27,26],[49,26,27,28],[50,6,28,8],[50,12,28,14,"pushFields"],[50,22,28,24],[50,25,28,28,"fields"],[50,31,28,34],[50,35,28,39],[51,8,29,12],[51,12,29,16],[51,13,29,17,"fields"],[51,19,29,23],[51,21,30,16],[52,8,31,12],[52,13,31,17],[52,17,31,21,"idx"],[52,20,31,24],[52,23,31,27],[52,24,31,28],[52,26,31,30,"len"],[52,29,31,33],[52,32,31,36,"fields"],[52,38,31,42],[52,39,31,43,"length"],[52,45,31,49],[52,47,31,51,"idx"],[52,50,31,54],[52,53,31,57,"len"],[52,56,31,60],[52,58,31,62,"idx"],[52,61,31,65],[52,63,31,67],[52,65,31,69],[53,10,32,16],[53,16,32,22,"field"],[53,21,32,27],[53,24,32,30,"fields"],[53,30,32,36],[53,31,32,37,"idx"],[53,34,32,40],[53,35,32,41],[54,10,33,16,"allFields"],[54,19,33,25],[54,20,33,26,"push"],[54,24,33,30],[54,25,33,31,"field"],[54,30,33,36],[54,31,33,37],[55,10,34,16],[55,16,34,22],[55,17,34,23,"fieldModel"],[55,27,34,33],[55,28,34,34],[55,31,34,37,"field"],[55,36,34,42],[56,10,35,16],[56,14,35,20,"fieldModel"],[56,24,35,30],[56,36,35,42,"PDFAcroNonTerminal"],[56,54,35,60],[56,55,35,60,"default"],[56,62,35,60],[56,64,35,62],[57,12,36,20,"pushFields"],[57,22,36,30],[57,23,36,31],[57,27,36,31,"createPDFAcroFields"],[57,35,36,50],[57,36,36,50,"createPDFAcroFields"],[57,55,36,50],[57,57,36,51,"fieldModel"],[57,67,36,61],[57,68,36,62,"Kids"],[57,72,36,66],[57,73,36,67],[57,74,36,68],[57,75,36,69],[57,76,36,70],[58,10,37,16],[59,8,38,12],[60,6,39,8],[60,7,39,9],[61,6,40,8,"pushFields"],[61,16,40,18],[61,17,40,19],[61,21,40,23],[61,22,40,24,"getFields"],[61,31,40,33],[61,32,40,34],[61,33,40,35],[61,34,40,36],[62,6,41,8],[62,13,41,15,"allFields"],[62,22,41,24],[63,4,42,4],[64,4,43,4,"addField"],[64,12,43,12,"addField"],[64,13,43,13,"field"],[64,18,43,18],[64,20,43,20],[65,6,44,8],[65,12,44,14],[66,8,44,16,"Fields"],[67,6,44,23],[67,7,44,24],[67,10,44,27],[67,14,44,31],[67,15,44,32,"normalizedEntries"],[67,32,44,49],[67,33,44,50],[67,34,44,51],[68,6,45,8,"Fields"],[68,12,45,14],[68,17,45,19],[68,21,45,23],[68,25,45,27,"Fields"],[68,31,45,33],[68,36,45,38],[68,41,45,43],[68,42,45,44],[68,45,45,47],[68,50,45,52],[68,51,45,53],[68,54,45,56,"Fields"],[68,60,45,62],[68,61,45,63,"push"],[68,65,45,67],[68,66,45,68,"field"],[68,71,45,73],[68,72,45,74],[69,4,46,4],[70,4,47,4,"removeField"],[70,15,47,15,"removeField"],[70,16,47,16,"field"],[70,21,47,21],[70,23,47,23],[71,6,48,8],[71,12,48,14,"parent"],[71,18,48,20],[71,21,48,23,"field"],[71,26,48,28],[71,27,48,29,"getParent"],[71,36,48,38],[71,37,48,39],[71,38,48,40],[72,6,49,8],[72,12,49,14,"fields"],[72,18,49,20],[72,21,49,23,"parent"],[72,27,49,29],[72,32,49,34,"undefined"],[72,41,49,43],[72,44,49,46],[72,48,49,50],[72,49,49,51,"normalizedEntries"],[72,66,49,68],[72,67,49,69],[72,68,49,70],[72,69,49,71,"Fields"],[72,75,49,77],[72,78,49,80,"parent"],[72,84,49,86],[72,85,49,87,"Kids"],[72,89,49,91],[72,90,49,92],[72,91,49,93],[73,6,50,8],[73,12,50,14,"index"],[73,17,50,19],[73,20,50,22,"fields"],[73,26,50,28],[73,31,50,33],[73,35,50,37],[73,39,50,41,"fields"],[73,45,50,47],[73,50,50,52],[73,55,50,57],[73,56,50,58],[73,59,50,61],[73,64,50,66],[73,65,50,67],[73,68,50,70,"fields"],[73,74,50,76],[73,75,50,77,"indexOf"],[73,82,50,84],[73,83,50,85,"field"],[73,88,50,90],[73,89,50,91,"ref"],[73,92,50,94],[73,93,50,95],[74,6,51,8],[74,10,51,12,"fields"],[74,16,51,18],[74,21,51,23,"undefined"],[74,30,51,32],[74,34,51,36,"index"],[74,39,51,41],[74,44,51,46,"undefined"],[74,53,51,55],[74,55,51,57],[75,8,52,12],[75,14,52,18],[75,18,52,22,"Error"],[75,23,52,27],[75,24,52,28],[75,60,52,64,"field"],[75,65,52,69],[75,66,52,70,"getFullyQualifiedName"],[75,87,52,91],[75,88,52,92],[75,89,52,93],[75,91,52,95],[75,92,52,96],[76,6,53,8],[77,6,54,8,"fields"],[77,12,54,14],[77,13,54,15,"remove"],[77,19,54,21],[77,20,54,22,"index"],[77,25,54,27],[77,26,54,28],[78,6,55,8],[78,10,55,12,"parent"],[78,16,55,18],[78,21,55,23,"undefined"],[78,30,55,32],[78,34,55,36,"fields"],[78,40,55,42],[78,41,55,43,"size"],[78,45,55,47],[78,46,55,48],[78,47,55,49],[78,52,55,54],[78,53,55,55],[78,55,55,57],[79,8,56,12],[79,12,56,16],[79,13,56,17,"removeField"],[79,24,56,28],[79,25,56,29,"parent"],[79,31,56,35],[79,32,56,36],[80,6,57,8],[81,4,58,4],[82,4,59,4,"normalizedEntries"],[82,21,59,21,"normalizedEntries"],[82,22,59,21],[82,24,59,24],[83,6,60,8],[83,10,60,12,"Fields"],[83,16,60,18],[83,19,60,21],[83,23,60,25],[83,24,60,26,"Fields"],[83,30,60,32],[83,31,60,33],[83,32,60,34],[84,6,61,8],[84,10,61,12],[84,11,61,13,"Fields"],[84,17,61,19],[84,19,61,21],[85,8,62,12,"Fields"],[85,14,62,18],[85,17,62,21],[85,21,62,25],[85,22,62,26,"dict"],[85,26,62,30],[85,27,62,31,"context"],[85,34,62,38],[85,35,62,39,"obj"],[85,38,62,42],[85,39,62,43],[85,41,62,45],[85,42,62,46],[86,8,63,12],[86,12,63,16],[86,13,63,17,"dict"],[86,17,63,21],[86,18,63,22,"set"],[86,21,63,25],[86,22,63,26,"PDFName"],[86,29,63,33],[86,30,63,33,"default"],[86,37,63,33],[86,38,63,34,"of"],[86,40,63,36],[86,41,63,37],[86,49,63,45],[86,50,63,46],[86,52,63,48,"Fields"],[86,58,63,54],[86,59,63,55],[87,6,64,8],[88,6,65,8],[88,13,65,15],[89,8,65,17,"Fields"],[90,6,65,24],[90,7,65,25],[91,4,66,4],[92,2,67,0],[93,2,68,0,"PDFAcroForm"],[93,13,68,11],[93,14,68,12,"fromDict"],[93,22,68,20],[93,25,68,24,"dict"],[93,29,68,28],[93,33,68,33],[93,37,68,37,"PDFAcroForm"],[93,48,68,48],[93,49,68,49,"dict"],[93,53,68,53],[93,54,68,54],[94,2,69,0,"PDFAcroForm"],[94,13,69,11],[94,14,69,12,"create"],[94,20,69,18],[94,23,69,22,"context"],[94,30,69,29],[94,34,69,34],[95,4,70,4],[95,10,70,10,"dict"],[95,14,70,14],[95,17,70,17,"context"],[95,24,70,24],[95,25,70,25,"obj"],[95,28,70,28],[95,29,70,29],[96,6,70,31,"Fields"],[96,12,70,37],[96,14,70,39],[97,4,70,42],[97,5,70,43],[97,6,70,44],[98,4,71,4],[98,11,71,11],[98,15,71,15,"PDFAcroForm"],[98,26,71,26],[98,27,71,27,"dict"],[98,31,71,31],[98,32,71,32],[99,2,72,0],[99,3,72,1],[100,2,73,0],[100,6,73,0,"_default"],[100,14,73,0],[100,17,73,15,"PDFAcroForm"],[100,28,73,26],[101,0,73,27],[101,3]],"functionMap":{"names":["<global>","PDFAcroForm","constructor","Fields","getFields","getAllFields","pushFields","addField","removeField","normalizedEntries","fromDict","create"],"mappings":"AAA;ACK;ICC;KDE;IEC;KFK;IGC;KHS;IIC;2BCE;SDW;KJG;IMC;KNG;IOC;KPW;IQC;KRO;CDC;uBUC,+BV;qBWC;CXG"},"hasCjsExports":false},"type":"js/module"}]}