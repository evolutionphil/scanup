{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./analytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":44,"index":128}}],"key":"Wq1/hNtnG4SYctbqvN6XajKGNCk=","exportNames":["*"],"imports":1}},{"name":"./crashlytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":129},"end":{"line":4,"column":124,"index":253}}],"key":"u7ezk4wLEXpqZtHRqMa4l7uDIPk=","exportNames":["*"],"imports":1}},{"name":"./messaging","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":254},"end":{"line":5,"column":153,"index":407}}],"key":"IK8gRkK9nLlEPfhEsx4lMxX4by8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"initializeFirebase\", {\n    enumerable: true,\n    get: function () {\n      return initializeFirebase;\n    }\n  });\n  Object.defineProperty(exports, \"setupPushNotifications\", {\n    enumerable: true,\n    get: function () {\n      return setupPushNotifications;\n    }\n  });\n  Object.defineProperty(exports, \"setUserContext\", {\n    enumerable: true,\n    get: function () {\n      return setUserContext;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _analytics = require(_dependencyMap[1], \"./analytics\");\n  Object.keys(_analytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _analytics[k];\n        }\n      });\n    }\n  });\n  var _crashlytics = require(_dependencyMap[2], \"./crashlytics\");\n  Object.keys(_crashlytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _crashlytics[k];\n        }\n      });\n    }\n  });\n  var _messaging = require(_dependencyMap[3], \"./messaging\");\n  Object.keys(_messaging).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _messaging[k];\n        }\n      });\n    }\n  });\n  // Central Firebase initialization service\n\n  // Initialize all Firebase services\n  const initializeFirebase = async () => {\n    if (Platform.default.OS === 'web') {\n      console.log('[Firebase] Skipping initialization on web');\n      return;\n    }\n    console.log('[Firebase] Initializing Firebase services...');\n    try {\n      // Initialize Analytics\n      await (0, _analytics.initAnalytics)();\n\n      // Initialize Crashlytics\n      await (0, _crashlytics.initCrashlytics)();\n\n      // Initialize Messaging\n      await (0, _messaging.initMessaging)();\n      console.log('[Firebase] All Firebase services initialized');\n    } catch (error) {\n      console.error('[Firebase] Failed to initialize Firebase services:', error);\n    }\n  };\n\n  // Setup push notifications - call after user grants permission\n  const setupPushNotifications = async userId => {\n    if (Platform.default.OS === 'web') {\n      return null;\n    }\n    try {\n      // Request permission\n      const hasPermission = await (0, _messaging.requestNotificationPermission)();\n      if (!hasPermission) {\n        console.log('[Firebase] Push notification permission denied');\n        return null;\n      }\n\n      // Get FCM Token\n      const fcmToken = await (0, _messaging.getFCMToken)();\n      if (fcmToken) {\n        console.log('[Firebase] FCM Token obtained');\n\n        // Subscribe to all users topic\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.ALL_USERS);\n\n        // Subscribe to appropriate topic based on user type\n        if (userId) {\n          await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.NEW_FEATURES);\n        }\n      }\n      return fcmToken;\n    } catch (error) {\n      console.error('[Firebase] Failed to setup push notifications:', error);\n      return null;\n    }\n  };\n\n  // Set user context for Crashlytics and Analytics\n  const setUserContext = async (userId, email, isPremium) => {\n    if (Platform.default.OS === 'web') {\n      return;\n    }\n    try {\n      // Set user ID in Crashlytics\n      await (0, _crashlytics.setUserId)(userId);\n\n      // Set additional attributes\n      await (0, _crashlytics.setAttributes)({\n        email: email || 'unknown',\n        is_premium: isPremium ? 'true' : 'false'\n      });\n\n      // Subscribe to appropriate notification topics based on premium status\n      if (isPremium) {\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.PREMIUM_USERS);\n      } else {\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.FREE_USERS);\n      }\n      console.log('[Firebase] User context set');\n    } catch (error) {\n      console.error('[Firebase] Failed to set user context:', error);\n    }\n  };\n\n  // Export all services for direct access\n});","lineCount":150,"map":[[12,2,8,0,"Object"],[12,8,8,0],[12,9,8,0,"defineProperty"],[12,23,8,0],[12,24,8,0,"exports"],[12,31,8,0],[13,4,8,0,"enumerable"],[13,14,8,0],[14,4,8,0,"get"],[14,7,8,0],[14,18,8,0,"get"],[14,19,8,0],[15,6,8,0],[15,13,8,0,"initializeFirebase"],[15,31,8,0],[16,4,8,0],[17,2,8,0],[18,2,33,0,"Object"],[18,8,33,0],[18,9,33,0,"defineProperty"],[18,23,33,0],[18,24,33,0,"exports"],[18,31,33,0],[19,4,33,0,"enumerable"],[19,14,33,0],[20,4,33,0,"get"],[20,7,33,0],[20,18,33,0,"get"],[20,19,33,0],[21,6,33,0],[21,13,33,0,"setupPushNotifications"],[21,35,33,0],[22,4,33,0],[23,2,33,0],[24,2,70,0,"Object"],[24,8,70,0],[24,9,70,0,"defineProperty"],[24,23,70,0],[24,24,70,0,"exports"],[24,31,70,0],[25,4,70,0,"enumerable"],[25,14,70,0],[26,4,70,0,"get"],[26,7,70,0],[26,18,70,0,"get"],[26,19,70,0],[27,6,70,0],[27,13,70,0,"setUserContext"],[27,27,70,0],[28,4,70,0],[29,2,70,0],[30,2,96,2],[30,6,96,2,"_reactNativeWebDistExportsPlatform"],[30,40,96,2],[30,43,96,2,"require"],[30,50,96,2],[30,51,96,2,"_dependencyMap"],[30,65,96,2],[31,2,96,2],[31,6,96,2,"Platform"],[31,14,96,2],[31,17,96,2,"_interopDefault"],[31,32,96,2],[31,33,96,2,"_reactNativeWebDistExportsPlatform"],[31,67,96,2],[32,2,3,0],[32,6,3,0,"_analytics"],[32,16,3,0],[32,19,3,0,"require"],[32,26,3,0],[32,27,3,0,"_dependencyMap"],[32,41,3,0],[33,2,99,0,"Object"],[33,8,99,0],[33,9,99,0,"keys"],[33,13,99,0],[33,14,99,0,"_analytics"],[33,24,99,0],[33,26,99,0,"forEach"],[33,33,99,0],[33,44,99,0,"k"],[33,45,99,0],[34,4,99,0],[34,8,99,0,"k"],[34,9,99,0],[34,28,99,0,"Object"],[34,34,99,0],[34,35,99,0,"prototype"],[34,44,99,0],[34,45,99,0,"hasOwnProperty"],[34,59,99,0],[34,60,99,0,"call"],[34,64,99,0],[34,65,99,0,"exports"],[34,72,99,0],[34,74,99,0,"k"],[34,75,99,0],[35,6,99,0,"Object"],[35,12,99,0],[35,13,99,0,"defineProperty"],[35,27,99,0],[35,28,99,0,"exports"],[35,35,99,0],[35,37,99,0,"k"],[35,38,99,0],[36,8,99,0,"enumerable"],[36,18,99,0],[37,8,99,0,"get"],[37,11,99,0],[37,22,99,0,"get"],[37,23,99,0],[38,10,99,0],[38,17,99,0,"_analytics"],[38,27,99,0],[38,28,99,0,"k"],[38,29,99,0],[39,8,99,0],[40,6,99,0],[41,4,99,0],[42,2,99,0],[43,2,4,0],[43,6,4,0,"_crashlytics"],[43,18,4,0],[43,21,4,0,"require"],[43,28,4,0],[43,29,4,0,"_dependencyMap"],[43,43,4,0],[44,2,100,0,"Object"],[44,8,100,0],[44,9,100,0,"keys"],[44,13,100,0],[44,14,100,0,"_crashlytics"],[44,26,100,0],[44,28,100,0,"forEach"],[44,35,100,0],[44,46,100,0,"k"],[44,47,100,0],[45,4,100,0],[45,8,100,0,"k"],[45,9,100,0],[45,28,100,0,"Object"],[45,34,100,0],[45,35,100,0,"prototype"],[45,44,100,0],[45,45,100,0,"hasOwnProperty"],[45,59,100,0],[45,60,100,0,"call"],[45,64,100,0],[45,65,100,0,"exports"],[45,72,100,0],[45,74,100,0,"k"],[45,75,100,0],[46,6,100,0,"Object"],[46,12,100,0],[46,13,100,0,"defineProperty"],[46,27,100,0],[46,28,100,0,"exports"],[46,35,100,0],[46,37,100,0,"k"],[46,38,100,0],[47,8,100,0,"enumerable"],[47,18,100,0],[48,8,100,0,"get"],[48,11,100,0],[48,22,100,0,"get"],[48,23,100,0],[49,10,100,0],[49,17,100,0,"_crashlytics"],[49,29,100,0],[49,30,100,0,"k"],[49,31,100,0],[50,8,100,0],[51,6,100,0],[52,4,100,0],[53,2,100,0],[54,2,5,0],[54,6,5,0,"_messaging"],[54,16,5,0],[54,19,5,0,"require"],[54,26,5,0],[54,27,5,0,"_dependencyMap"],[54,41,5,0],[55,2,101,0,"Object"],[55,8,101,0],[55,9,101,0,"keys"],[55,13,101,0],[55,14,101,0,"_messaging"],[55,24,101,0],[55,26,101,0,"forEach"],[55,33,101,0],[55,44,101,0,"k"],[55,45,101,0],[56,4,101,0],[56,8,101,0,"k"],[56,9,101,0],[56,28,101,0,"Object"],[56,34,101,0],[56,35,101,0,"prototype"],[56,44,101,0],[56,45,101,0,"hasOwnProperty"],[56,59,101,0],[56,60,101,0,"call"],[56,64,101,0],[56,65,101,0,"exports"],[56,72,101,0],[56,74,101,0,"k"],[56,75,101,0],[57,6,101,0,"Object"],[57,12,101,0],[57,13,101,0,"defineProperty"],[57,27,101,0],[57,28,101,0,"exports"],[57,35,101,0],[57,37,101,0,"k"],[57,38,101,0],[58,8,101,0,"enumerable"],[58,18,101,0],[59,8,101,0,"get"],[59,11,101,0],[59,22,101,0,"get"],[59,23,101,0],[60,10,101,0],[60,17,101,0,"_messaging"],[60,27,101,0],[60,28,101,0,"k"],[60,29,101,0],[61,8,101,0],[62,6,101,0],[63,4,101,0],[64,2,101,0],[65,2,1,0],[67,2,7,0],[68,2,8,7],[68,8,8,13,"initializeFirebase"],[68,26,8,31],[68,29,8,34],[68,35,8,34,"initializeFirebase"],[68,36,8,34],[68,41,8,46],[69,4,9,2],[69,8,9,6,"Platform"],[69,16,9,14],[69,17,9,14,"default"],[69,24,9,14],[69,25,9,15,"OS"],[69,27,9,17],[69,32,9,22],[69,37,9,27],[69,39,9,29],[70,6,10,4,"console"],[70,13,10,11],[70,14,10,12,"log"],[70,17,10,15],[70,18,10,16],[70,61,10,59],[70,62,10,60],[71,6,11,4],[72,4,12,2],[73,4,14,2,"console"],[73,11,14,9],[73,12,14,10,"log"],[73,15,14,13],[73,16,14,14],[73,62,14,60],[73,63,14,61],[74,4,16,2],[74,8,16,6],[75,6,17,4],[76,6,18,4],[76,12,18,10],[76,16,18,10,"initAnalytics"],[76,26,18,23],[76,27,18,23,"initAnalytics"],[76,40,18,23],[76,42,18,24],[76,43,18,25],[78,6,20,4],[79,6,21,4],[79,12,21,10],[79,16,21,10,"initCrashlytics"],[79,28,21,25],[79,29,21,25,"initCrashlytics"],[79,44,21,25],[79,46,21,26],[79,47,21,27],[81,6,23,4],[82,6,24,4],[82,12,24,10],[82,16,24,10,"initMessaging"],[82,26,24,23],[82,27,24,23,"initMessaging"],[82,40,24,23],[82,42,24,24],[82,43,24,25],[83,6,26,4,"console"],[83,13,26,11],[83,14,26,12,"log"],[83,17,26,15],[83,18,26,16],[83,64,26,62],[83,65,26,63],[84,4,27,2],[84,5,27,3],[84,6,27,4],[84,13,27,11,"error"],[84,18,27,16],[84,20,27,18],[85,6,28,4,"console"],[85,13,28,11],[85,14,28,12,"error"],[85,19,28,17],[85,20,28,18],[85,72,28,70],[85,74,28,72,"error"],[85,79,28,77],[85,80,28,78],[86,4,29,2],[87,2,30,0],[87,3,30,1],[89,2,32,0],[90,2,33,7],[90,8,33,13,"setupPushNotifications"],[90,30,33,35],[90,33,33,38],[90,39,33,45,"userId"],[90,45,33,60],[90,49,33,65],[91,4,34,2],[91,8,34,6,"Platform"],[91,16,34,14],[91,17,34,14,"default"],[91,24,34,14],[91,25,34,15,"OS"],[91,27,34,17],[91,32,34,22],[91,37,34,27],[91,39,34,29],[92,6,35,4],[92,13,35,11],[92,17,35,15],[93,4,36,2],[94,4,38,2],[94,8,38,6],[95,6,39,4],[96,6,40,4],[96,12,40,10,"hasPermission"],[96,25,40,23],[96,28,40,26],[96,34,40,32],[96,38,40,32,"requestNotificationPermission"],[96,48,40,61],[96,49,40,61,"requestNotificationPermission"],[96,78,40,61],[96,80,40,62],[96,81,40,63],[97,6,42,4],[97,10,42,8],[97,11,42,9,"hasPermission"],[97,24,42,22],[97,26,42,24],[98,8,43,6,"console"],[98,15,43,13],[98,16,43,14,"log"],[98,19,43,17],[98,20,43,18],[98,68,43,66],[98,69,43,67],[99,8,44,6],[99,15,44,13],[99,19,44,17],[100,6,45,4],[102,6,47,4],[103,6,48,4],[103,12,48,10,"fcmToken"],[103,20,48,18],[103,23,48,21],[103,29,48,27],[103,33,48,27,"getFCMToken"],[103,43,48,38],[103,44,48,38,"getFCMToken"],[103,55,48,38],[103,57,48,39],[103,58,48,40],[104,6,50,4],[104,10,50,8,"fcmToken"],[104,18,50,16],[104,20,50,18],[105,8,51,6,"console"],[105,15,51,13],[105,16,51,14,"log"],[105,19,51,17],[105,20,51,18],[105,51,51,49],[105,52,51,50],[107,8,53,6],[108,8,54,6],[108,14,54,12],[108,18,54,12,"subscribeToTopic"],[108,28,54,28],[108,29,54,28,"subscribeToTopic"],[108,45,54,28],[108,47,54,29,"NotificationTopics"],[108,57,54,47],[108,58,54,47,"NotificationTopics"],[108,76,54,47],[108,77,54,48,"ALL_USERS"],[108,86,54,57],[108,87,54,58],[110,8,56,6],[111,8,57,6],[111,12,57,10,"userId"],[111,18,57,16],[111,20,57,18],[112,10,58,8],[112,16,58,14],[112,20,58,14,"subscribeToTopic"],[112,30,58,30],[112,31,58,30,"subscribeToTopic"],[112,47,58,30],[112,49,58,31,"NotificationTopics"],[112,59,58,49],[112,60,58,49,"NotificationTopics"],[112,78,58,49],[112,79,58,50,"NEW_FEATURES"],[112,91,58,62],[112,92,58,63],[113,8,59,6],[114,6,60,4],[115,6,62,4],[115,13,62,11,"fcmToken"],[115,21,62,19],[116,4,63,2],[116,5,63,3],[116,6,63,4],[116,13,63,11,"error"],[116,18,63,16],[116,20,63,18],[117,6,64,4,"console"],[117,13,64,11],[117,14,64,12,"error"],[117,19,64,17],[117,20,64,18],[117,68,64,66],[117,70,64,68,"error"],[117,75,64,73],[117,76,64,74],[118,6,65,4],[118,13,65,11],[118,17,65,15],[119,4,66,2],[120,2,67,0],[120,3,67,1],[122,2,69,0],[123,2,70,7],[123,8,70,13,"setUserContext"],[123,22,70,27],[123,25,70,30],[123,31,70,30,"setUserContext"],[123,32,70,37,"userId"],[123,38,70,51],[123,40,70,53,"email"],[123,45,70,67],[123,47,70,69,"isPremium"],[123,56,70,88],[123,61,70,93],[124,4,71,2],[124,8,71,6,"Platform"],[124,16,71,14],[124,17,71,14,"default"],[124,24,71,14],[124,25,71,15,"OS"],[124,27,71,17],[124,32,71,22],[124,37,71,27],[124,39,71,29],[125,6,72,4],[126,4,73,2],[127,4,75,2],[127,8,75,6],[128,6,76,4],[129,6,77,4],[129,12,77,10],[129,16,77,10,"setCrashlyticsUser"],[129,28,77,28],[129,29,77,28,"setUserId"],[129,38,77,28],[129,40,77,29,"userId"],[129,46,77,35],[129,47,77,36],[131,6,79,4],[132,6,80,4],[132,12,80,10],[132,16,80,10,"setCrashlyticsAttributes"],[132,28,80,34],[132,29,80,34,"setAttributes"],[132,42,80,34],[132,44,80,35],[133,8,81,6,"email"],[133,13,81,11],[133,15,81,13,"email"],[133,20,81,18],[133,24,81,22],[133,33,81,31],[134,8,82,6,"is_premium"],[134,18,82,16],[134,20,82,18,"isPremium"],[134,29,82,27],[134,32,82,30],[134,38,82,36],[134,41,82,39],[135,6,83,4],[135,7,83,5],[135,8,83,6],[137,6,85,4],[138,6,86,4],[138,10,86,8,"isPremium"],[138,19,86,17],[138,21,86,19],[139,8,87,6],[139,14,87,12],[139,18,87,12,"subscribeToTopic"],[139,28,87,28],[139,29,87,28,"subscribeToTopic"],[139,45,87,28],[139,47,87,29,"NotificationTopics"],[139,57,87,47],[139,58,87,47,"NotificationTopics"],[139,76,87,47],[139,77,87,48,"PREMIUM_USERS"],[139,90,87,61],[139,91,87,62],[140,6,88,4],[140,7,88,5],[140,13,88,11],[141,8,89,6],[141,14,89,12],[141,18,89,12,"subscribeToTopic"],[141,28,89,28],[141,29,89,28,"subscribeToTopic"],[141,45,89,28],[141,47,89,29,"NotificationTopics"],[141,57,89,47],[141,58,89,47,"NotificationTopics"],[141,76,89,47],[141,77,89,48,"FREE_USERS"],[141,87,89,58],[141,88,89,59],[142,6,90,4],[143,6,92,4,"console"],[143,13,92,11],[143,14,92,12,"log"],[143,17,92,15],[143,18,92,16],[143,47,92,45],[143,48,92,46],[144,4,93,2],[144,5,93,3],[144,6,93,4],[144,13,93,11,"error"],[144,18,93,16],[144,20,93,18],[145,6,94,4,"console"],[145,13,94,11],[145,14,94,12,"error"],[145,19,94,17],[145,20,94,18],[145,60,94,58],[145,62,94,60,"error"],[145,67,94,65],[145,68,94,66],[146,4,95,2],[147,2,96,0],[147,3,96,1],[149,2,98,0],[150,0,98,0],[150,3]],"functionMap":{"names":["<global>","initializeFirebase","setupPushNotifications","setUserContext"],"mappings":"AAA;kCCO;CDsB;sCEG;CFkC;8BGG;CH0B"},"hasCjsExports":false},"type":"js/module"}]}