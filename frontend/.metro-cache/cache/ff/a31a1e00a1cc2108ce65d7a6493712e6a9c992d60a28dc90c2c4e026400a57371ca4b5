{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./analytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":145},"end":{"line":4,"column":44,"index":189}}],"key":"Wq1/hNtnG4SYctbqvN6XajKGNCk=","exportNames":["*"],"imports":1}},{"name":"./crashlytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":190},"end":{"line":5,"column":124,"index":314}}],"key":"u7ezk4wLEXpqZtHRqMa4l7uDIPk=","exportNames":["*"],"imports":1}},{"name":"./messaging","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":315},"end":{"line":6,"column":123,"index":438}}],"key":"IK8gRkK9nLlEPfhEsx4lMxX4by8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"initializeFirebase\", {\n    enumerable: true,\n    get: function () {\n      return initializeFirebase;\n    }\n  });\n  Object.defineProperty(exports, \"setupPushNotifications\", {\n    enumerable: true,\n    get: function () {\n      return setupPushNotifications;\n    }\n  });\n  Object.defineProperty(exports, \"setUserContext\", {\n    enumerable: true,\n    get: function () {\n      return setUserContext;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _analytics = require(_dependencyMap[1], \"./analytics\");\n  Object.keys(_analytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _analytics[k];\n        }\n      });\n    }\n  });\n  var _crashlytics = require(_dependencyMap[2], \"./crashlytics\");\n  Object.keys(_crashlytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _crashlytics[k];\n        }\n      });\n    }\n  });\n  var _messaging = require(_dependencyMap[3], \"./messaging\");\n  Object.keys(_messaging).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _messaging[k];\n        }\n      });\n    }\n  });\n  // Central Firebase/Notification initialization service\n  // Using Expo Notifications instead of Firebase\n\n  // Initialize all services\n  const initializeFirebase = async () => {\n    if (Platform.default.OS === 'web') {\n      console.log('[Services] Skipping initialization on web');\n      return;\n    }\n    console.log('[Services] Initializing services...');\n    try {\n      // Initialize Analytics (NO-OP for now)\n      await (0, _analytics.initAnalytics)();\n\n      // Initialize Crashlytics (NO-OP for now)\n      await (0, _crashlytics.initCrashlytics)();\n\n      // Initialize Expo Notifications\n      await (0, _messaging.initMessaging)();\n      console.log('[Services] All services initialized');\n    } catch (error) {\n      console.error('[Services] Init error:', error);\n    }\n  };\n\n  // Setup push notifications - call after user grants permission\n  const setupPushNotifications = async userId => {\n    if (Platform.default.OS === 'web') {\n      return null;\n    }\n    try {\n      // Get Expo Push Token\n      const pushToken = await (0, _messaging.getPushToken)();\n      if (pushToken) {\n        console.log('[Services] Push token obtained');\n\n        // Subscribe to all users topic (handled by backend)\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.ALL_USERS);\n        if (userId) {\n          await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.NEW_FEATURES);\n        }\n      }\n      return pushToken;\n    } catch (error) {\n      console.error('[Services] Push notification setup error:', error);\n      return null;\n    }\n  };\n\n  // Set user context\n  const setUserContext = async (userId, email, isPremium) => {\n    if (Platform.default.OS === 'web') {\n      return;\n    }\n    try {\n      // Set user ID in Crashlytics (NO-OP)\n      await (0, _crashlytics.setUserId)(userId);\n\n      // Set additional attributes (NO-OP)\n      await (0, _crashlytics.setAttributes)({\n        email: email || 'unknown',\n        is_premium: isPremium ? 'true' : 'false'\n      });\n\n      // Subscribe to appropriate notification topics based on premium status\n      if (isPremium) {\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.PREMIUM_USERS);\n      } else {\n        await (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.FREE_USERS);\n      }\n      console.log('[Services] User context set');\n    } catch (error) {\n      console.error('[Services] Set user context error:', error);\n    }\n  };\n\n  // Export all services\n});","lineCount":142,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"initializeFirebase"],[15,31,9,0],[16,4,9,0],[17,2,9,0],[18,2,34,0,"Object"],[18,8,34,0],[18,9,34,0,"defineProperty"],[18,23,34,0],[18,24,34,0,"exports"],[18,31,34,0],[19,4,34,0,"enumerable"],[19,14,34,0],[20,4,34,0,"get"],[20,7,34,0],[20,18,34,0,"get"],[20,19,34,0],[21,6,34,0],[21,13,34,0,"setupPushNotifications"],[21,35,34,0],[22,4,34,0],[23,2,34,0],[24,2,62,0,"Object"],[24,8,62,0],[24,9,62,0,"defineProperty"],[24,23,62,0],[24,24,62,0,"exports"],[24,31,62,0],[25,4,62,0,"enumerable"],[25,14,62,0],[26,4,62,0,"get"],[26,7,62,0],[26,18,62,0,"get"],[26,19,62,0],[27,6,62,0],[27,13,62,0,"setUserContext"],[27,27,62,0],[28,4,62,0],[29,2,62,0],[30,2,88,2],[30,6,88,2,"_reactNativeWebDistExportsPlatform"],[30,40,88,2],[30,43,88,2,"require"],[30,50,88,2],[30,51,88,2,"_dependencyMap"],[30,65,88,2],[31,2,88,2],[31,6,88,2,"Platform"],[31,14,88,2],[31,17,88,2,"_interopDefault"],[31,32,88,2],[31,33,88,2,"_reactNativeWebDistExportsPlatform"],[31,67,88,2],[32,2,4,0],[32,6,4,0,"_analytics"],[32,16,4,0],[32,19,4,0,"require"],[32,26,4,0],[32,27,4,0,"_dependencyMap"],[32,41,4,0],[33,2,91,0,"Object"],[33,8,91,0],[33,9,91,0,"keys"],[33,13,91,0],[33,14,91,0,"_analytics"],[33,24,91,0],[33,26,91,0,"forEach"],[33,33,91,0],[33,44,91,0,"k"],[33,45,91,0],[34,4,91,0],[34,8,91,0,"k"],[34,9,91,0],[34,28,91,0,"Object"],[34,34,91,0],[34,35,91,0,"prototype"],[34,44,91,0],[34,45,91,0,"hasOwnProperty"],[34,59,91,0],[34,60,91,0,"call"],[34,64,91,0],[34,65,91,0,"exports"],[34,72,91,0],[34,74,91,0,"k"],[34,75,91,0],[35,6,91,0,"Object"],[35,12,91,0],[35,13,91,0,"defineProperty"],[35,27,91,0],[35,28,91,0,"exports"],[35,35,91,0],[35,37,91,0,"k"],[35,38,91,0],[36,8,91,0,"enumerable"],[36,18,91,0],[37,8,91,0,"get"],[37,11,91,0],[37,22,91,0,"get"],[37,23,91,0],[38,10,91,0],[38,17,91,0,"_analytics"],[38,27,91,0],[38,28,91,0,"k"],[38,29,91,0],[39,8,91,0],[40,6,91,0],[41,4,91,0],[42,2,91,0],[43,2,5,0],[43,6,5,0,"_crashlytics"],[43,18,5,0],[43,21,5,0,"require"],[43,28,5,0],[43,29,5,0,"_dependencyMap"],[43,43,5,0],[44,2,92,0,"Object"],[44,8,92,0],[44,9,92,0,"keys"],[44,13,92,0],[44,14,92,0,"_crashlytics"],[44,26,92,0],[44,28,92,0,"forEach"],[44,35,92,0],[44,46,92,0,"k"],[44,47,92,0],[45,4,92,0],[45,8,92,0,"k"],[45,9,92,0],[45,28,92,0,"Object"],[45,34,92,0],[45,35,92,0,"prototype"],[45,44,92,0],[45,45,92,0,"hasOwnProperty"],[45,59,92,0],[45,60,92,0,"call"],[45,64,92,0],[45,65,92,0,"exports"],[45,72,92,0],[45,74,92,0,"k"],[45,75,92,0],[46,6,92,0,"Object"],[46,12,92,0],[46,13,92,0,"defineProperty"],[46,27,92,0],[46,28,92,0,"exports"],[46,35,92,0],[46,37,92,0,"k"],[46,38,92,0],[47,8,92,0,"enumerable"],[47,18,92,0],[48,8,92,0,"get"],[48,11,92,0],[48,22,92,0,"get"],[48,23,92,0],[49,10,92,0],[49,17,92,0,"_crashlytics"],[49,29,92,0],[49,30,92,0,"k"],[49,31,92,0],[50,8,92,0],[51,6,92,0],[52,4,92,0],[53,2,92,0],[54,2,6,0],[54,6,6,0,"_messaging"],[54,16,6,0],[54,19,6,0,"require"],[54,26,6,0],[54,27,6,0,"_dependencyMap"],[54,41,6,0],[55,2,93,0,"Object"],[55,8,93,0],[55,9,93,0,"keys"],[55,13,93,0],[55,14,93,0,"_messaging"],[55,24,93,0],[55,26,93,0,"forEach"],[55,33,93,0],[55,44,93,0,"k"],[55,45,93,0],[56,4,93,0],[56,8,93,0,"k"],[56,9,93,0],[56,28,93,0,"Object"],[56,34,93,0],[56,35,93,0,"prototype"],[56,44,93,0],[56,45,93,0,"hasOwnProperty"],[56,59,93,0],[56,60,93,0,"call"],[56,64,93,0],[56,65,93,0,"exports"],[56,72,93,0],[56,74,93,0,"k"],[56,75,93,0],[57,6,93,0,"Object"],[57,12,93,0],[57,13,93,0,"defineProperty"],[57,27,93,0],[57,28,93,0,"exports"],[57,35,93,0],[57,37,93,0,"k"],[57,38,93,0],[58,8,93,0,"enumerable"],[58,18,93,0],[59,8,93,0,"get"],[59,11,93,0],[59,22,93,0,"get"],[59,23,93,0],[60,10,93,0],[60,17,93,0,"_messaging"],[60,27,93,0],[60,28,93,0,"k"],[60,29,93,0],[61,8,93,0],[62,6,93,0],[63,4,93,0],[64,2,93,0],[65,2,1,0],[66,2,2,0],[68,2,8,0],[69,2,9,7],[69,8,9,13,"initializeFirebase"],[69,26,9,31],[69,29,9,34],[69,35,9,34,"initializeFirebase"],[69,36,9,34],[69,41,9,46],[70,4,10,2],[70,8,10,6,"Platform"],[70,16,10,14],[70,17,10,14,"default"],[70,24,10,14],[70,25,10,15,"OS"],[70,27,10,17],[70,32,10,22],[70,37,10,27],[70,39,10,29],[71,6,11,4,"console"],[71,13,11,11],[71,14,11,12,"log"],[71,17,11,15],[71,18,11,16],[71,61,11,59],[71,62,11,60],[72,6,12,4],[73,4,13,2],[74,4,15,2,"console"],[74,11,15,9],[74,12,15,10,"log"],[74,15,15,13],[74,16,15,14],[74,53,15,51],[74,54,15,52],[75,4,17,2],[75,8,17,6],[76,6,18,4],[77,6,19,4],[77,12,19,10],[77,16,19,10,"initAnalytics"],[77,26,19,23],[77,27,19,23,"initAnalytics"],[77,40,19,23],[77,42,19,24],[77,43,19,25],[79,6,21,4],[80,6,22,4],[80,12,22,10],[80,16,22,10,"initCrashlytics"],[80,28,22,25],[80,29,22,25,"initCrashlytics"],[80,44,22,25],[80,46,22,26],[80,47,22,27],[82,6,24,4],[83,6,25,4],[83,12,25,10],[83,16,25,10,"initMessaging"],[83,26,25,23],[83,27,25,23,"initMessaging"],[83,40,25,23],[83,42,25,24],[83,43,25,25],[84,6,27,4,"console"],[84,13,27,11],[84,14,27,12,"log"],[84,17,27,15],[84,18,27,16],[84,55,27,53],[84,56,27,54],[85,4,28,2],[85,5,28,3],[85,6,28,4],[85,13,28,11,"error"],[85,18,28,16],[85,20,28,18],[86,6,29,4,"console"],[86,13,29,11],[86,14,29,12,"error"],[86,19,29,17],[86,20,29,18],[86,44,29,42],[86,46,29,44,"error"],[86,51,29,49],[86,52,29,50],[87,4,30,2],[88,2,31,0],[88,3,31,1],[90,2,33,0],[91,2,34,7],[91,8,34,13,"setupPushNotifications"],[91,30,34,35],[91,33,34,38],[91,39,34,45,"userId"],[91,45,34,60],[91,49,34,65],[92,4,35,2],[92,8,35,6,"Platform"],[92,16,35,14],[92,17,35,14,"default"],[92,24,35,14],[92,25,35,15,"OS"],[92,27,35,17],[92,32,35,22],[92,37,35,27],[92,39,35,29],[93,6,36,4],[93,13,36,11],[93,17,36,15],[94,4,37,2],[95,4,39,2],[95,8,39,6],[96,6,40,4],[97,6,41,4],[97,12,41,10,"pushToken"],[97,21,41,19],[97,24,41,22],[97,30,41,28],[97,34,41,28,"getPushToken"],[97,44,41,40],[97,45,41,40,"getPushToken"],[97,57,41,40],[97,59,41,41],[97,60,41,42],[98,6,43,4],[98,10,43,8,"pushToken"],[98,19,43,17],[98,21,43,19],[99,8,44,6,"console"],[99,15,44,13],[99,16,44,14,"log"],[99,19,44,17],[99,20,44,18],[99,52,44,50],[99,53,44,51],[101,8,46,6],[102,8,47,6],[102,14,47,12],[102,18,47,12,"subscribeToTopic"],[102,28,47,28],[102,29,47,28,"subscribeToTopic"],[102,45,47,28],[102,47,47,29,"NotificationTopics"],[102,57,47,47],[102,58,47,47,"NotificationTopics"],[102,76,47,47],[102,77,47,48,"ALL_USERS"],[102,86,47,57],[102,87,47,58],[103,8,49,6],[103,12,49,10,"userId"],[103,18,49,16],[103,20,49,18],[104,10,50,8],[104,16,50,14],[104,20,50,14,"subscribeToTopic"],[104,30,50,30],[104,31,50,30,"subscribeToTopic"],[104,47,50,30],[104,49,50,31,"NotificationTopics"],[104,59,50,49],[104,60,50,49,"NotificationTopics"],[104,78,50,49],[104,79,50,50,"NEW_FEATURES"],[104,91,50,62],[104,92,50,63],[105,8,51,6],[106,6,52,4],[107,6,54,4],[107,13,54,11,"pushToken"],[107,22,54,20],[108,4,55,2],[108,5,55,3],[108,6,55,4],[108,13,55,11,"error"],[108,18,55,16],[108,20,55,18],[109,6,56,4,"console"],[109,13,56,11],[109,14,56,12,"error"],[109,19,56,17],[109,20,56,18],[109,63,56,61],[109,65,56,63,"error"],[109,70,56,68],[109,71,56,69],[110,6,57,4],[110,13,57,11],[110,17,57,15],[111,4,58,2],[112,2,59,0],[112,3,59,1],[114,2,61,0],[115,2,62,7],[115,8,62,13,"setUserContext"],[115,22,62,27],[115,25,62,30],[115,31,62,30,"setUserContext"],[115,32,62,37,"userId"],[115,38,62,51],[115,40,62,53,"email"],[115,45,62,67],[115,47,62,69,"isPremium"],[115,56,62,88],[115,61,62,93],[116,4,63,2],[116,8,63,6,"Platform"],[116,16,63,14],[116,17,63,14,"default"],[116,24,63,14],[116,25,63,15,"OS"],[116,27,63,17],[116,32,63,22],[116,37,63,27],[116,39,63,29],[117,6,64,4],[118,4,65,2],[119,4,67,2],[119,8,67,6],[120,6,68,4],[121,6,69,4],[121,12,69,10],[121,16,69,10,"setCrashlyticsUser"],[121,28,69,28],[121,29,69,28,"setUserId"],[121,38,69,28],[121,40,69,29,"userId"],[121,46,69,35],[121,47,69,36],[123,6,71,4],[124,6,72,4],[124,12,72,10],[124,16,72,10,"setCrashlyticsAttributes"],[124,28,72,34],[124,29,72,34,"setAttributes"],[124,42,72,34],[124,44,72,35],[125,8,73,6,"email"],[125,13,73,11],[125,15,73,13,"email"],[125,20,73,18],[125,24,73,22],[125,33,73,31],[126,8,74,6,"is_premium"],[126,18,74,16],[126,20,74,18,"isPremium"],[126,29,74,27],[126,32,74,30],[126,38,74,36],[126,41,74,39],[127,6,75,4],[127,7,75,5],[127,8,75,6],[129,6,77,4],[130,6,78,4],[130,10,78,8,"isPremium"],[130,19,78,17],[130,21,78,19],[131,8,79,6],[131,14,79,12],[131,18,79,12,"subscribeToTopic"],[131,28,79,28],[131,29,79,28,"subscribeToTopic"],[131,45,79,28],[131,47,79,29,"NotificationTopics"],[131,57,79,47],[131,58,79,47,"NotificationTopics"],[131,76,79,47],[131,77,79,48,"PREMIUM_USERS"],[131,90,79,61],[131,91,79,62],[132,6,80,4],[132,7,80,5],[132,13,80,11],[133,8,81,6],[133,14,81,12],[133,18,81,12,"subscribeToTopic"],[133,28,81,28],[133,29,81,28,"subscribeToTopic"],[133,45,81,28],[133,47,81,29,"NotificationTopics"],[133,57,81,47],[133,58,81,47,"NotificationTopics"],[133,76,81,47],[133,77,81,48,"FREE_USERS"],[133,87,81,58],[133,88,81,59],[134,6,82,4],[135,6,84,4,"console"],[135,13,84,11],[135,14,84,12,"log"],[135,17,84,15],[135,18,84,16],[135,47,84,45],[135,48,84,46],[136,4,85,2],[136,5,85,3],[136,6,85,4],[136,13,85,11,"error"],[136,18,85,16],[136,20,85,18],[137,6,86,4,"console"],[137,13,86,11],[137,14,86,12,"error"],[137,19,86,17],[137,20,86,18],[137,56,86,54],[137,58,86,56,"error"],[137,63,86,61],[137,64,86,62],[138,4,87,2],[139,2,88,0],[139,3,88,1],[141,2,90,0],[142,0,90,0],[142,3]],"functionMap":{"names":["<global>","initializeFirebase","setupPushNotifications","setUserContext"],"mappings":"AAA;kCCQ;CDsB;sCEG;CFyB;8BGG;CH0B"},"hasCjsExports":false},"type":"js/module"}]}