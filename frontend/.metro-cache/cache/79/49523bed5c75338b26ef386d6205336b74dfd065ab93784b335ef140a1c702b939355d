{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFString.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"3Qhl74R91V/A3UrIdCSF7t1UGxg=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFHexString.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":54,"index":103}}],"key":"6YgZriOXHpqHcpt3Yy3oAwRvFRA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"AFRelationship\", {\n    enumerable: true,\n    get: function () {\n      return AFRelationship;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _objectsPDFStringJs = require(_dependencyMap[3], \"../objects/PDFString.js\");\n  var PDFString = _interopDefault(_objectsPDFStringJs);\n  var _objectsPDFHexStringJs = require(_dependencyMap[4], \"../objects/PDFHexString.js\");\n  var PDFHexString = _interopDefault(_objectsPDFHexStringJs);\n  /**\n   * From the PDF-A3 specification, section **3.1. Requirements - General**.\n   * See:\n   * * https://www.pdfa.org/wp-content/uploads/2018/10/PDF20_AN002-AF.pdf\n   */\n  var AFRelationship;\n  (function (AFRelationship) {\n    AFRelationship[\"Source\"] = \"Source\";\n    AFRelationship[\"Data\"] = \"Data\";\n    AFRelationship[\"Alternative\"] = \"Alternative\";\n    AFRelationship[\"Supplement\"] = \"Supplement\";\n    AFRelationship[\"EncryptedPayload\"] = \"EncryptedPayload\";\n    AFRelationship[\"FormData\"] = \"EncryptedPayload\";\n    AFRelationship[\"Schema\"] = \"Schema\";\n    AFRelationship[\"Unspecified\"] = \"Unspecified\";\n  })(AFRelationship || (AFRelationship = {}));\n  var FileEmbedder = /*#__PURE__*/function () {\n    function FileEmbedder(fileData, fileName) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      (0, _classCallCheck.default)(this, FileEmbedder);\n      this.fileData = fileData;\n      this.fileName = fileName;\n      this.options = options;\n    }\n    return (0, _createClass.default)(FileEmbedder, [{\n      key: \"embedIntoContext\",\n      value: function () {\n        var _embedIntoContext = (0, _asyncToGenerator.default)(function* (context, ref) {\n          var _this$options = this.options,\n            mimeType = _this$options.mimeType,\n            description = _this$options.description,\n            creationDate = _this$options.creationDate,\n            modificationDate = _this$options.modificationDate,\n            afRelationship = _this$options.afRelationship;\n          var embeddedFileStream = context.flateStream(this.fileData, {\n            Type: 'EmbeddedFile',\n            Subtype: mimeType !== null && mimeType !== void 0 ? mimeType : undefined,\n            Params: {\n              Size: this.fileData.length,\n              CreationDate: creationDate ? PDFString.default.fromDate(creationDate) : undefined,\n              ModDate: modificationDate ? PDFString.default.fromDate(modificationDate) : undefined\n            }\n          });\n          var embeddedFileStreamRef = context.register(embeddedFileStream);\n          var fileSpecDict = context.obj({\n            Type: 'Filespec',\n            F: PDFString.default.of(this.fileName),\n            UF: PDFHexString.default.fromText(this.fileName),\n            EF: {\n              F: embeddedFileStreamRef\n            },\n            Desc: description ? PDFHexString.default.fromText(description) : undefined,\n            AFRelationship: afRelationship !== null && afRelationship !== void 0 ? afRelationship : undefined\n          });\n          if (ref) {\n            context.assign(ref, fileSpecDict);\n            return ref;\n          } else {\n            return context.register(fileSpecDict);\n          }\n        });\n        function embedIntoContext(_x, _x2) {\n          return _embedIntoContext.apply(this, arguments);\n        }\n        return embedIntoContext;\n      }()\n    }], [{\n      key: \"for\",\n      value: function _for(bytes, fileName) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return new FileEmbedder(bytes, fileName, options);\n      }\n    }]);\n  }();\n  var _default = FileEmbedder;\n});","lineCount":109,"map":[[12,2,61,0,"Object"],[12,8,61,0],[12,9,61,0,"defineProperty"],[12,23,61,0],[12,24,61,0,"exports"],[12,31,61,0],[13,4,61,0,"enumerable"],[13,14,61,0],[14,4,61,0,"get"],[14,7,61,0],[14,18,61,0,"get"],[14,19,61,0],[15,6,61,0],[15,13,61,0,"_default"],[15,21,61,0],[16,4,61,0],[17,2,61,0],[18,2,8,0,"Object"],[18,8,8,0],[18,9,8,0,"defineProperty"],[18,23,8,0],[18,24,8,0,"exports"],[18,31,8,0],[19,4,8,0,"enumerable"],[19,14,8,0],[20,4,8,0,"get"],[20,7,8,0],[20,18,8,0,"get"],[20,19,8,0],[21,6,8,0],[21,13,8,0,"AFRelationship"],[21,27,8,0],[22,4,8,0],[23,2,8,0],[24,2,8,26],[24,6,8,26,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,8,26],[24,45,8,26,"require"],[24,52,8,26],[24,53,8,26,"_dependencyMap"],[24,67,8,26],[25,2,8,26],[25,6,8,26,"_asyncToGenerator"],[25,23,8,26],[25,26,8,26,"_interopDefault"],[25,41,8,26],[25,42,8,26,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,8,26],[26,2,8,26],[26,6,8,26,"_babelRuntimeHelpersClassCallCheck"],[26,40,8,26],[26,43,8,26,"require"],[26,50,8,26],[26,51,8,26,"_dependencyMap"],[26,65,8,26],[27,2,8,26],[27,6,8,26,"_classCallCheck"],[27,21,8,26],[27,24,8,26,"_interopDefault"],[27,39,8,26],[27,40,8,26,"_babelRuntimeHelpersClassCallCheck"],[27,74,8,26],[28,2,8,26],[28,6,8,26,"_babelRuntimeHelpersCreateClass"],[28,37,8,26],[28,40,8,26,"require"],[28,47,8,26],[28,48,8,26,"_dependencyMap"],[28,62,8,26],[29,2,8,26],[29,6,8,26,"_createClass"],[29,18,8,26],[29,21,8,26,"_interopDefault"],[29,36,8,26],[29,37,8,26,"_babelRuntimeHelpersCreateClass"],[29,68,8,26],[30,2,1,0],[30,6,1,0,"_objectsPDFStringJs"],[30,25,1,0],[30,28,1,0,"require"],[30,35,1,0],[30,36,1,0,"_dependencyMap"],[30,50,1,0],[31,2,1,0],[31,6,1,0,"PDFString"],[31,15,1,0],[31,18,1,0,"_interopDefault"],[31,33,1,0],[31,34,1,0,"_objectsPDFStringJs"],[31,53,1,0],[32,2,2,0],[32,6,2,0,"_objectsPDFHexStringJs"],[32,28,2,0],[32,31,2,0,"require"],[32,38,2,0],[32,39,2,0,"_dependencyMap"],[32,53,2,0],[33,2,2,0],[33,6,2,0,"PDFHexString"],[33,18,2,0],[33,21,2,0,"_interopDefault"],[33,36,2,0],[33,37,2,0,"_objectsPDFHexStringJs"],[33,59,2,0],[34,2,3,0],[35,0,4,0],[36,0,5,0],[37,0,6,0],[38,0,7,0],[39,2,8,7],[39,6,8,11,"AFRelationship"],[39,20,8,25],[40,2,9,0],[40,3,9,1],[40,13,9,11,"AFRelationship"],[40,27,9,25],[40,29,9,27],[41,4,10,4,"AFRelationship"],[41,18,10,18],[41,19,10,19],[41,27,10,27],[41,28,10,28],[41,31,10,31],[41,39,10,39],[42,4,11,4,"AFRelationship"],[42,18,11,18],[42,19,11,19],[42,25,11,25],[42,26,11,26],[42,29,11,29],[42,35,11,35],[43,4,12,4,"AFRelationship"],[43,18,12,18],[43,19,12,19],[43,32,12,32],[43,33,12,33],[43,36,12,36],[43,49,12,49],[44,4,13,4,"AFRelationship"],[44,18,13,18],[44,19,13,19],[44,31,13,31],[44,32,13,32],[44,35,13,35],[44,47,13,47],[45,4,14,4,"AFRelationship"],[45,18,14,18],[45,19,14,19],[45,37,14,37],[45,38,14,38],[45,41,14,41],[45,59,14,59],[46,4,15,4,"AFRelationship"],[46,18,15,18],[46,19,15,19],[46,29,15,29],[46,30,15,30],[46,33,15,33],[46,51,15,51],[47,4,16,4,"AFRelationship"],[47,18,16,18],[47,19,16,19],[47,27,16,27],[47,28,16,28],[47,31,16,31],[47,39,16,39],[48,4,17,4,"AFRelationship"],[48,18,17,18],[48,19,17,19],[48,32,17,32],[48,33,17,33],[48,36,17,36],[48,49,17,49],[49,2,18,0],[49,3,18,1],[49,5,18,3,"AFRelationship"],[49,19,18,17],[49,24,18,22,"AFRelationship"],[49,38,18,36],[49,41,18,39],[49,42,18,40],[49,43,18,41],[49,44,18,42],[49,45,18,43],[50,2,18,44],[50,6,19,6,"FileEmbedder"],[50,18,19,18],[51,4,23,4],[51,13,23,4,"FileEmbedder"],[51,26,23,16,"fileData"],[51,34,23,24],[51,36,23,26,"fileName"],[51,44,23,34],[51,46,23,50],[52,6,23,50],[52,10,23,36,"options"],[52,17,23,43],[52,20,23,43,"arguments"],[52,29,23,43],[52,30,23,43,"length"],[52,36,23,43],[52,44,23,43,"arguments"],[52,53,23,43],[52,61,23,43,"undefined"],[52,70,23,43],[52,73,23,43,"arguments"],[52,82,23,43],[52,88,23,46],[52,89,23,47],[52,90,23,48],[53,6,23,48],[53,10,23,48,"_classCallCheck"],[53,25,23,48],[53,26,23,48,"default"],[53,33,23,48],[53,41,23,48,"FileEmbedder"],[53,53,23,48],[54,6,24,8],[54,10,24,12],[54,11,24,13,"fileData"],[54,19,24,21],[54,22,24,24,"fileData"],[54,30,24,32],[55,6,25,8],[55,10,25,12],[55,11,25,13,"fileName"],[55,19,25,21],[55,22,25,24,"fileName"],[55,30,25,32],[56,6,26,8],[56,10,26,12],[56,11,26,13,"options"],[56,18,26,20],[56,21,26,23,"options"],[56,28,26,30],[57,4,27,4],[58,4,27,5],[58,15,27,5,"_createClass"],[58,27,27,5],[58,28,27,5,"default"],[58,35,27,5],[58,37,27,5,"FileEmbedder"],[58,49,27,5],[59,6,27,5,"key"],[59,9,27,5],[60,6,27,5,"value"],[60,11,27,5],[61,8,27,5],[61,12,27,5,"_embedIntoContext"],[61,29,27,5],[61,36,27,5,"_asyncToGenerator"],[61,53,27,5],[61,54,27,5,"default"],[61,61,27,5],[61,63,28,4],[61,74,28,27,"context"],[61,81,28,34],[61,83,28,36,"ref"],[61,86,28,39],[61,88,28,41],[62,10,29,8],[62,14,29,8,"_this$options"],[62,27,29,8],[62,30,29,91],[62,34,29,95],[62,35,29,96,"options"],[62,42,29,103],[63,12,29,16,"mimeType"],[63,20,29,24],[63,23,29,24,"_this$options"],[63,36,29,24],[63,37,29,16,"mimeType"],[63,45,29,24],[64,12,29,26,"description"],[64,23,29,37],[64,26,29,37,"_this$options"],[64,39,29,37],[64,40,29,26,"description"],[64,51,29,37],[65,12,29,39,"creationDate"],[65,24,29,51],[65,27,29,51,"_this$options"],[65,40,29,51],[65,41,29,39,"creationDate"],[65,53,29,51],[66,12,29,53,"modificationDate"],[66,28,29,69],[66,31,29,69,"_this$options"],[66,44,29,69],[66,45,29,53,"modificationDate"],[66,61,29,69],[67,12,29,71,"afRelationship"],[67,26,29,85],[67,29,29,85,"_this$options"],[67,42,29,85],[67,43,29,71,"afRelationship"],[67,57,29,85],[68,10,30,8],[68,14,30,14,"embeddedFileStream"],[68,32,30,32],[68,35,30,35,"context"],[68,42,30,42],[68,43,30,43,"flateStream"],[68,54,30,54],[68,55,30,55],[68,59,30,59],[68,60,30,60,"fileData"],[68,68,30,68],[68,70,30,70],[69,12,31,12,"Type"],[69,16,31,16],[69,18,31,18],[69,32,31,32],[70,12,32,12,"Subtype"],[70,19,32,19],[70,21,32,21,"mimeType"],[70,29,32,29],[70,34,32,34],[70,38,32,38],[70,42,32,42,"mimeType"],[70,50,32,50],[70,55,32,55],[70,60,32,60],[70,61,32,61],[70,64,32,64,"mimeType"],[70,72,32,72],[70,75,32,75,"undefined"],[70,84,32,84],[71,12,33,12,"Params"],[71,18,33,18],[71,20,33,20],[72,14,34,16,"Size"],[72,18,34,20],[72,20,34,22],[72,24,34,26],[72,25,34,27,"fileData"],[72,33,34,35],[72,34,34,36,"length"],[72,40,34,42],[73,14,35,16,"CreationDate"],[73,26,35,28],[73,28,35,30,"creationDate"],[73,40,35,42],[73,43,36,22,"PDFString"],[73,52,36,31],[73,53,36,31,"default"],[73,60,36,31],[73,61,36,32,"fromDate"],[73,69,36,40],[73,70,36,41,"creationDate"],[73,82,36,53],[73,83,36,54],[73,86,37,22,"undefined"],[73,95,37,31],[74,14,38,16,"ModDate"],[74,21,38,23],[74,23,38,25,"modificationDate"],[74,39,38,41],[74,42,39,22,"PDFString"],[74,51,39,31],[74,52,39,31,"default"],[74,59,39,31],[74,60,39,32,"fromDate"],[74,68,39,40],[74,69,39,41,"modificationDate"],[74,85,39,57],[74,86,39,58],[74,89,40,22,"undefined"],[75,12,41,12],[76,10,42,8],[76,11,42,9],[76,12,42,10],[77,10,43,8],[77,14,43,14,"embeddedFileStreamRef"],[77,35,43,35],[77,38,43,38,"context"],[77,45,43,45],[77,46,43,46,"register"],[77,54,43,54],[77,55,43,55,"embeddedFileStream"],[77,73,43,73],[77,74,43,74],[78,10,44,8],[78,14,44,14,"fileSpecDict"],[78,26,44,26],[78,29,44,29,"context"],[78,36,44,36],[78,37,44,37,"obj"],[78,40,44,40],[78,41,44,41],[79,12,45,12,"Type"],[79,16,45,16],[79,18,45,18],[79,28,45,28],[80,12,46,12,"F"],[80,13,46,13],[80,15,46,15,"PDFString"],[80,24,46,24],[80,25,46,24,"default"],[80,32,46,24],[80,33,46,25,"of"],[80,35,46,27],[80,36,46,28],[80,40,46,32],[80,41,46,33,"fileName"],[80,49,46,41],[80,50,46,42],[81,12,47,12,"UF"],[81,14,47,14],[81,16,47,16,"PDFHexString"],[81,28,47,28],[81,29,47,28,"default"],[81,36,47,28],[81,37,47,29,"fromText"],[81,45,47,37],[81,46,47,38],[81,50,47,42],[81,51,47,43,"fileName"],[81,59,47,51],[81,60,47,52],[82,12,48,12,"EF"],[82,14,48,14],[82,16,48,16],[83,14,48,18,"F"],[83,15,48,19],[83,17,48,21,"embeddedFileStreamRef"],[84,12,48,43],[84,13,48,44],[85,12,49,12,"Desc"],[85,16,49,16],[85,18,49,18,"description"],[85,29,49,29],[85,32,49,32,"PDFHexString"],[85,44,49,44],[85,45,49,44,"default"],[85,52,49,44],[85,53,49,45,"fromText"],[85,61,49,53],[85,62,49,54,"description"],[85,73,49,65],[85,74,49,66],[85,77,49,69,"undefined"],[85,86,49,78],[86,12,50,12,"AFRelationship"],[86,26,50,26],[86,28,50,28,"afRelationship"],[86,42,50,42],[86,47,50,47],[86,51,50,51],[86,55,50,55,"afRelationship"],[86,69,50,69],[86,74,50,74],[86,79,50,79],[86,80,50,80],[86,83,50,83,"afRelationship"],[86,97,50,97],[86,100,50,100,"undefined"],[87,10,51,8],[87,11,51,9],[87,12,51,10],[88,10,52,8],[88,14,52,12,"ref"],[88,17,52,15],[88,19,52,17],[89,12,53,12,"context"],[89,19,53,19],[89,20,53,20,"assign"],[89,26,53,26],[89,27,53,27,"ref"],[89,30,53,30],[89,32,53,32,"fileSpecDict"],[89,44,53,44],[89,45,53,45],[90,12,54,12],[90,19,54,19,"ref"],[90,22,54,22],[91,10,55,8],[91,11,55,9],[91,17,56,13],[92,12,57,12],[92,19,57,19,"context"],[92,26,57,26],[92,27,57,27,"register"],[92,35,57,35],[92,36,57,36,"fileSpecDict"],[92,48,57,48],[92,49,57,49],[93,10,58,8],[94,8,59,4],[94,9,59,5],[95,8,59,5],[95,17,28,10,"embedIntoContext"],[95,33,28,26,"embedIntoContext"],[95,34,28,26,"_x"],[95,36,28,26],[95,38,28,26,"_x2"],[95,41,28,26],[96,10,28,26],[96,17,28,26,"_embedIntoContext"],[96,34,28,26],[96,35,28,26,"apply"],[96,40,28,26],[96,47,28,26,"arguments"],[96,56,28,26],[97,8,28,26],[98,8,28,26],[98,15,28,10,"embedIntoContext"],[98,31,28,26],[99,6,28,26],[100,4,28,26],[101,6,28,26,"key"],[101,9,28,26],[102,6,28,26,"value"],[102,11,28,26],[102,13,20,4],[102,22,20,11,"for"],[102,26,20,14,"for"],[102,27,20,15,"bytes"],[102,32,20,20],[102,34,20,22,"fileName"],[102,42,20,30],[102,44,20,46],[103,8,20,46],[103,12,20,32,"options"],[103,19,20,39],[103,22,20,39,"arguments"],[103,31,20,39],[103,32,20,39,"length"],[103,38,20,39],[103,46,20,39,"arguments"],[103,55,20,39],[103,63,20,39,"undefined"],[103,72,20,39],[103,75,20,39,"arguments"],[103,84,20,39],[103,90,20,42],[103,91,20,43],[103,92,20,44],[104,8,21,8],[104,15,21,15],[104,19,21,19,"FileEmbedder"],[104,31,21,31],[104,32,21,32,"bytes"],[104,37,21,37],[104,39,21,39,"fileName"],[104,47,21,47],[104,49,21,49,"options"],[104,56,21,56],[104,57,21,57],[105,6,22,4],[106,4,22,5],[107,2,22,5],[108,2,61,0],[108,6,61,0,"_default"],[108,14,61,0],[108,17,61,15,"FileEmbedder"],[108,29,61,27],[109,0,61,28],[109,3]],"functionMap":{"names":["<global>","<anonymous>","FileEmbedder","_for","constructor","embedIntoContext"],"mappings":"AAA;CCQ;CDS;AEC;ICC;KDE;IEC;KFI;IGC;KH+B;CFC"},"hasCjsExports":false},"type":"js/module"}]}