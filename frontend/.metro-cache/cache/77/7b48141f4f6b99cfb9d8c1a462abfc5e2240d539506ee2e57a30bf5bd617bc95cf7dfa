{"dependencies":[{"name":"ts-tiny-invariant","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"s2Xq7RPZVq2dryRAXhdoiPopJtk=","exportNames":["*"],"imports":1}},{"name":"./shape-registry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":49,"index":92}}],"key":"w2J2SJ9i2ZfKSIcbKFNL94MF0rA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"swapComposition\", {\n    enumerable: true,\n    get: function () {\n      return swapComposition;\n    }\n  });\n  var _tsTinyInvariant = require(_dependencyMap[0], \"ts-tiny-invariant\");\n  var invariant = _interopDefault(_tsTinyInvariant);\n  var _shapeRegistry = require(_dependencyMap[1], \"./shape-registry\");\n  const srcImageNames = ['srcImage', 'inputImage'];\n  const dstImageNames = ['dstImage', 'inputBackgroundImage', 'inputMask', 'inputGradientImage', 'inputTargetImage', 'inputDisplacementImage', 'inputTexture', 'inputShadingImage'];\n  const swapComposition = (config, resizeCanvasTo) => {\n    const shape = _shapeRegistry.ShapeRegistry.shape(config.name);\n    const dstImage = Object.keys(shape).find(key => dstImageNames.some(name => name === key));\n    const srcImage = Object.keys(shape).find(key => srcImageNames.some(name => name === key));\n    (0, invariant.default)(srcImage !== undefined, `ImageFilterKit: can't find srcImage in ${config.name} shape.`);\n    (0, invariant.default)(dstImage !== undefined, `ImageFilterKit: can't find dstImage in ${config.name} shape.`);\n    if (dstImage && srcImage) {\n      const dst = dstImage.replace('dstImage', 'dst');\n      const src = srcImage.replace('srcImage', 'src');\n      return Object.assign(Object.assign({}, config), {\n        [dstImage]: config[srcImage],\n        [srcImage]: config[dstImage],\n        [dst + 'Transform']: config[src + 'Transform'],\n        [src + 'Transform']: config[dst + 'Transform'],\n        resizeCanvasTo,\n        swapImages: true\n      });\n    }\n    return config;\n  };\n});","lineCount":43,"map":[[12,2,14,0,"Object"],[12,8,14,0],[12,9,14,0,"defineProperty"],[12,23,14,0],[12,24,14,0,"exports"],[12,31,14,0],[13,4,14,0,"enumerable"],[13,14,14,0],[14,4,14,0,"get"],[14,7,14,0],[14,18,14,0,"get"],[14,19,14,0],[15,6,14,0],[15,13,14,0,"swapComposition"],[15,28,14,0],[16,4,14,0],[17,2,14,0],[18,2,1,0],[18,6,1,0,"_tsTinyInvariant"],[18,22,1,0],[18,25,1,0,"require"],[18,32,1,0],[18,33,1,0,"_dependencyMap"],[18,47,1,0],[19,2,1,0],[19,6,1,0,"invariant"],[19,15,1,0],[19,18,1,0,"_interopDefault"],[19,33,1,0],[19,34,1,0,"_tsTinyInvariant"],[19,50,1,0],[20,2,2,0],[20,6,2,0,"_shapeRegistry"],[20,20,2,0],[20,23,2,0,"require"],[20,30,2,0],[20,31,2,0,"_dependencyMap"],[20,45,2,0],[21,2,3,0],[21,8,3,6,"srcImageNames"],[21,21,3,19],[21,24,3,22],[21,25,3,23],[21,35,3,33],[21,37,3,35],[21,49,3,47],[21,50,3,48],[22,2,4,0],[22,8,4,6,"dstImageNames"],[22,21,4,19],[22,24,4,22],[22,25,5,4],[22,35,5,14],[22,37,6,4],[22,59,6,26],[22,61,7,4],[22,72,7,15],[22,74,8,4],[22,94,8,24],[22,96,9,4],[22,114,9,22],[22,116,10,4],[22,140,10,28],[22,142,11,4],[22,156,11,18],[22,158,12,4],[22,177,12,23],[22,178,13,1],[23,2,14,7],[23,8,14,13,"swapComposition"],[23,23,14,28],[23,26,14,31,"swapComposition"],[23,27,14,32,"config"],[23,33,14,38],[23,35,14,40,"resizeCanvasTo"],[23,49,14,54],[23,54,14,59],[24,4,15,4],[24,10,15,10,"shape"],[24,15,15,15],[24,18,15,18,"ShapeRegistry"],[24,32,15,31],[24,33,15,31,"ShapeRegistry"],[24,46,15,31],[24,47,15,32,"shape"],[24,52,15,37],[24,53,15,38,"config"],[24,59,15,44],[24,60,15,45,"name"],[24,64,15,49],[24,65,15,50],[25,4,16,4],[25,10,16,10,"dstImage"],[25,18,16,18],[25,21,16,21,"Object"],[25,27,16,27],[25,28,16,28,"keys"],[25,32,16,32],[25,33,16,33,"shape"],[25,38,16,38],[25,39,16,39],[25,40,16,40,"find"],[25,44,16,44],[25,45,16,46,"key"],[25,48,16,49],[25,52,16,54,"dstImageNames"],[25,65,16,67],[25,66,16,68,"some"],[25,70,16,72],[25,71,16,74,"name"],[25,75,16,78],[25,79,16,83,"name"],[25,83,16,87],[25,88,16,92,"key"],[25,91,16,95],[25,92,16,96],[25,93,16,97],[26,4,17,4],[26,10,17,10,"srcImage"],[26,18,17,18],[26,21,17,21,"Object"],[26,27,17,27],[26,28,17,28,"keys"],[26,32,17,32],[26,33,17,33,"shape"],[26,38,17,38],[26,39,17,39],[26,40,17,40,"find"],[26,44,17,44],[26,45,17,46,"key"],[26,48,17,49],[26,52,17,54,"srcImageNames"],[26,65,17,67],[26,66,17,68,"some"],[26,70,17,72],[26,71,17,74,"name"],[26,75,17,78],[26,79,17,83,"name"],[26,83,17,87],[26,88,17,92,"key"],[26,91,17,95],[26,92,17,96],[26,93,17,97],[27,4,18,4],[27,8,18,4,"invariant"],[27,17,18,13],[27,18,18,13,"default"],[27,25,18,13],[27,27,18,14,"srcImage"],[27,35,18,22],[27,40,18,27,"undefined"],[27,49,18,36],[27,51,18,38],[27,93,18,80,"config"],[27,99,18,86],[27,100,18,87,"name"],[27,104,18,91],[27,113,18,100],[27,114,18,101],[28,4,19,4],[28,8,19,4,"invariant"],[28,17,19,13],[28,18,19,13,"default"],[28,25,19,13],[28,27,19,14,"dstImage"],[28,35,19,22],[28,40,19,27,"undefined"],[28,49,19,36],[28,51,19,38],[28,93,19,80,"config"],[28,99,19,86],[28,100,19,87,"name"],[28,104,19,91],[28,113,19,100],[28,114,19,101],[29,4,20,4],[29,8,20,8,"dstImage"],[29,16,20,16],[29,20,20,20,"srcImage"],[29,28,20,28],[29,30,20,30],[30,6,21,8],[30,12,21,14,"dst"],[30,15,21,17],[30,18,21,20,"dstImage"],[30,26,21,28],[30,27,21,29,"replace"],[30,34,21,36],[30,35,21,37],[30,45,21,47],[30,47,21,49],[30,52,21,54],[30,53,21,55],[31,6,22,8],[31,12,22,14,"src"],[31,15,22,17],[31,18,22,20,"srcImage"],[31,26,22,28],[31,27,22,29,"replace"],[31,34,22,36],[31,35,22,37],[31,45,22,47],[31,47,22,49],[31,52,22,54],[31,53,22,55],[32,6,23,8],[32,13,23,15,"Object"],[32,19,23,21],[32,20,23,22,"assign"],[32,26,23,28],[32,27,23,29,"Object"],[32,33,23,35],[32,34,23,36,"assign"],[32,40,23,42],[32,41,23,43],[32,42,23,44],[32,43,23,45],[32,45,23,47,"config"],[32,51,23,53],[32,52,23,54],[32,54,23,56],[33,8,23,58],[33,9,23,59,"dstImage"],[33,17,23,67],[33,20,23,70,"config"],[33,26,23,76],[33,27,23,77,"srcImage"],[33,35,23,85],[33,36,23,86],[34,8,23,88],[34,9,23,89,"srcImage"],[34,17,23,97],[34,20,23,100,"config"],[34,26,23,106],[34,27,23,107,"dstImage"],[34,35,23,115],[34,36,23,116],[35,8,23,118],[35,9,23,119,"dst"],[35,12,23,122],[35,15,23,125],[35,26,23,136],[35,29,23,139,"config"],[35,35,23,145],[35,36,23,146,"src"],[35,39,23,149],[35,42,23,152],[35,53,23,163],[35,54,23,164],[36,8,23,166],[36,9,23,167,"src"],[36,12,23,170],[36,15,23,173],[36,26,23,184],[36,29,23,187,"config"],[36,35,23,193],[36,36,23,194,"dst"],[36,39,23,197],[36,42,23,200],[36,53,23,211],[36,54,23,212],[37,8,23,214,"resizeCanvasTo"],[37,22,23,228],[38,8,23,230,"swapImages"],[38,18,23,240],[38,20,23,242],[39,6,23,247],[39,7,23,248],[39,8,23,249],[40,4,24,4],[41,4,25,4],[41,11,25,11,"config"],[41,17,25,17],[42,2,26,0],[42,3,26,1],[43,0,26,2],[43,3]],"functionMap":{"names":["<global>","swapComposition","Object.keys.find$argument_0","dstImageNames.some$argument_0","srcImageNames.some$argument_0"],"mappings":"AAA;+BCa;6CCE,4BC,sBD,CD;6CCC,4BE,sBF,CD;CDS"},"hasCjsExports":false},"type":"js/module"}]}