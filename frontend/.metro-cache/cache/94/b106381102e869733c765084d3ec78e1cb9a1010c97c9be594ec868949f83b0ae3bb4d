{"dependencies":[{"name":"../CameraError","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":19,"index":142},"end":{"line":7,"column":44,"index":167}}],"key":"OyHSTdqjVmm47w7H0fMoEbg1uYc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getCameraFormat=function(s,p){const n=o(p);let h=s.formats[0];if(null==h)throw new t.CameraRuntimeError('device/invalid-device',`The given Camera Device (${s.id}) does not have any formats!`);for(const t of s.formats){let o=0,s=0;if(null!=n.videoResolution){const p=h.videoWidth*h.videoHeight,u=t.videoWidth*t.videoHeight;if('max'===n.videoResolution.target)p>u&&(o+=n.videoResolution.priority),u>p&&(s+=n.videoResolution.priority);else{const t=n.videoResolution.target.width*n.videoResolution.target.height,h=Math.abs(p-t),l=Math.abs(u-t);h<l&&(o+=n.videoResolution.priority),l<h&&(s+=n.videoResolution.priority)}}if(null!=n.photoResolution){const p=h.photoWidth*h.photoHeight,u=t.photoWidth*t.photoHeight;if('max'===n.photoResolution.target)p>u&&(o+=n.photoResolution.priority),u>p&&(s+=n.photoResolution.priority);else{const t=n.photoResolution.target.width*n.photoResolution.target.height,h=Math.abs(p-t),l=Math.abs(u-t);h<l&&(o+=n.photoResolution.priority),l<h&&(s+=n.photoResolution.priority)}}if(null!=n.videoAspectRatio){const p=h.videoWidth/h.videoHeight,u=t.videoWidth/t.videoHeight,l=Math.abs(p-n.videoAspectRatio.target),v=Math.abs(u-n.videoAspectRatio.target);l<v&&(o+=n.videoAspectRatio.priority),v<l&&(s+=n.videoAspectRatio.priority)}if(null!=n.photoAspectRatio){const p=h.photoWidth/h.photoHeight,u=t.photoWidth/t.photoHeight,l=Math.abs(p-n.photoAspectRatio.target),v=Math.abs(u-n.photoAspectRatio.target);l<v&&(o+=n.photoAspectRatio.priority),v<l&&(s+=n.photoAspectRatio.priority)}null!=n.fps&&('max'===n.fps.target?(h.maxFps>t.maxFps&&(o+=n.fps.priority),t.maxFps>h.maxFps&&(s+=n.fps.priority)):(h.maxFps>=n.fps.target&&(o+=n.fps.priority),t.maxFps>=n.fps.target&&(s+=n.fps.priority))),null!=n.iso&&('max'===n.iso.target?(h.maxISO>t.maxISO&&(o+=n.iso.priority),t.maxISO>h.maxISO&&(s+=n.iso.priority)):'min'===n.iso.target?(h.minISO<t.minISO&&(o+=n.iso.priority),t.minISO<h.minISO&&(s+=n.iso.priority)):(n.iso.target>=h.minISO&&n.iso.target<=h.maxISO&&(o+=n.iso.priority),n.iso.target>=t.minISO&&n.iso.target<=t.maxISO&&(s+=n.iso.priority))),null!=n.videoStabilizationMode&&(h.videoStabilizationModes.includes(n.videoStabilizationMode.target)&&(o+=n.videoStabilizationMode.priority),t.videoStabilizationModes.includes(n.videoStabilizationMode.target)&&(s+=n.videoStabilizationMode.priority)),null!=n.photoHdr&&(h.supportsPhotoHdr===n.photoHdr.target&&(o+=n.photoHdr.priority),t.supportsPhotoHdr===n.photoHdr.target&&(s+=n.photoHdr.priority)),null!=n.videoHdr&&(h.supportsVideoHdr===n.videoHdr.target&&(o+=n.videoHdr.priority),t.supportsVideoHdr===n.videoHdr.target&&(s+=n.videoHdr.priority)),null!=n.autoFocusSystem&&(h.autoFocusSystem===n.autoFocusSystem.target&&(o+=n.autoFocusSystem.priority),t.autoFocusSystem===n.autoFocusSystem.target&&(s+=n.autoFocusSystem.priority)),s>o&&(h=t)}return h};var t=r(d[0]);function o(t){return t.reduce((o,s,p)=>{for(const n in s)o[n]={target:s[n],priority:t.length-p};return o},{})}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"getCameraFormat"],[1,108,41,0],[1,117,41,25,"device"],[1,119,41,33,"filters"],[1,122,43,2],[1,128,43,8,"filter"],[1,130,43,17,"filtersToFilterMap"],[1,132,43,36,"filters"],[1,135,44,2],[1,139,44,6,"bestFormat"],[1,141,44,19,"device"],[1,143,44,26,"formats"],[1,151,44,34],[1,154,45,2],[1,157,45,20],[1,163,45,6,"bestFormat"],[1,165,45,26],[1,171,45,32],[1,175,45,36,"_CameraError"],[1,177,45,49,"CameraRuntimeError"],[1,196,45,68],[1,220,45,93],[1,248,45,121,"device"],[1,250,45,128,"id"],[1,284,48,2],[1,288,48,7],[1,294,48,13,"format"],[1,299,48,23,"device"],[1,301,48,30,"formats"],[1,309,48,39],[1,310,49,4],[1,314,49,8,"leftPoints"],[1,316,49,21],[1,318,50,8,"rightPoints"],[1,320,50,22],[1,322,53,4],[1,325,53,34],[1,331,53,8,"filter"],[1,333,53,15,"videoResolution"],[1,349,53,40],[1,350,54,6],[1,356,54,12,"leftVideoResolution"],[1,358,54,34,"bestFormat"],[1,360,54,45,"videoWidth"],[1,371,54,58,"bestFormat"],[1,373,54,69,"videoHeight"],[1,385,55,12,"rightVideoResolution"],[1,387,55,35,"format"],[1,389,55,42,"videoWidth"],[1,400,55,55,"format"],[1,402,55,62,"videoHeight"],[1,414,56,6],[1,417,56,44],[1,425,56,10,"filter"],[1,427,56,17,"videoResolution"],[1,443,56,33,"target"],[1,450,58,12,"leftVideoResolution"],[1,452,58,34,"rightVideoResolution"],[1,456,58,56,"leftPoints"],[1,459,58,70,"filter"],[1,461,58,77,"videoResolution"],[1,477,58,93,"priority"],[1,487,59,12,"rightVideoResolution"],[1,489,59,35,"leftVideoResolution"],[1,493,59,56,"rightPoints"],[1,496,59,71,"filter"],[1,498,59,78,"videoResolution"],[1,514,59,94,"priority"],[1,528,60,13],[1,529,62,8],[1,535,62,14,"targetResolution"],[1,537,62,33,"filter"],[1,539,62,40,"videoResolution"],[1,555,62,56,"target"],[1,562,62,63,"width"],[1,568,62,71,"filter"],[1,570,62,78,"videoResolution"],[1,586,62,94,"target"],[1,593,62,101,"height"],[1,600,63,14,"leftDiff"],[1,602,63,25,"Math"],[1,607,63,30,"abs"],[1,611,63,34,"leftVideoResolution"],[1,613,63,56,"targetResolution"],[1,616,64,14,"rightDiff"],[1,618,64,26,"Math"],[1,623,64,31,"abs"],[1,627,64,35,"rightVideoResolution"],[1,629,64,58,"targetResolution"],[1,632,65,12,"leftDiff"],[1,634,65,23,"rightDiff"],[1,638,65,34,"leftPoints"],[1,641,65,48,"filter"],[1,643,65,55,"videoResolution"],[1,659,65,71,"priority"],[1,669,66,12,"rightDiff"],[1,671,66,24,"leftDiff"],[1,675,66,34,"rightPoints"],[1,678,66,49,"filter"],[1,680,66,56,"videoResolution"],[1,696,66,72,"priority"],[1,705,67,6],[1,706,68,4],[1,707,71,4],[1,710,71,34],[1,716,71,8,"filter"],[1,718,71,15,"photoResolution"],[1,734,71,40],[1,735,72,6],[1,741,72,12,"leftPhotoResolution"],[1,743,72,34,"bestFormat"],[1,745,72,45,"photoWidth"],[1,756,72,58,"bestFormat"],[1,758,72,69,"photoHeight"],[1,770,73,12,"rightPhotoResolution"],[1,772,73,35,"format"],[1,774,73,42,"photoWidth"],[1,785,73,55,"format"],[1,787,73,62,"photoHeight"],[1,799,74,6],[1,802,74,44],[1,810,74,10,"filter"],[1,812,74,17,"photoResolution"],[1,828,74,33,"target"],[1,835,76,12,"leftPhotoResolution"],[1,837,76,34,"rightPhotoResolution"],[1,841,76,56,"leftPoints"],[1,844,76,70,"filter"],[1,846,76,77,"photoResolution"],[1,862,76,93,"priority"],[1,872,77,12,"rightPhotoResolution"],[1,874,77,35,"leftPhotoResolution"],[1,878,77,56,"rightPoints"],[1,881,77,71,"filter"],[1,883,77,78,"photoResolution"],[1,899,77,94,"priority"],[1,913,78,13],[1,914,80,8],[1,920,80,14,"targetResolution"],[1,922,80,33,"filter"],[1,924,80,40,"photoResolution"],[1,940,80,56,"target"],[1,947,80,63,"width"],[1,953,80,71,"filter"],[1,955,80,78,"photoResolution"],[1,971,80,94,"target"],[1,978,80,101,"height"],[1,985,81,14,"leftDiff"],[1,987,81,25,"Math"],[1,992,81,30,"abs"],[1,996,81,34,"leftPhotoResolution"],[1,998,81,56,"targetResolution"],[1,1001,82,14,"rightDiff"],[1,1003,82,26,"Math"],[1,1008,82,31,"abs"],[1,1012,82,35,"rightPhotoResolution"],[1,1014,82,58,"targetResolution"],[1,1017,83,12,"leftDiff"],[1,1019,83,23,"rightDiff"],[1,1023,83,34,"leftPoints"],[1,1026,83,48,"filter"],[1,1028,83,55,"photoResolution"],[1,1044,83,71,"priority"],[1,1054,84,12,"rightDiff"],[1,1056,84,24,"leftDiff"],[1,1060,84,34,"rightPoints"],[1,1063,84,49,"filter"],[1,1065,84,56,"photoResolution"],[1,1081,84,72,"priority"],[1,1090,85,6],[1,1091,86,4],[1,1092,89,4],[1,1095,89,35],[1,1101,89,8,"filter"],[1,1103,89,15,"videoAspectRatio"],[1,1120,89,41],[1,1121,90,6],[1,1127,90,12,"leftAspect"],[1,1129,90,25,"bestFormat"],[1,1131,90,36,"videoWidth"],[1,1142,90,49,"bestFormat"],[1,1144,90,60,"videoHeight"],[1,1156,91,12,"rightAspect"],[1,1158,91,26,"format"],[1,1160,91,33,"videoWidth"],[1,1171,91,46,"format"],[1,1173,91,53,"videoHeight"],[1,1185,92,12,"leftDiff"],[1,1187,92,23,"Math"],[1,1192,92,28,"abs"],[1,1196,92,32,"leftAspect"],[1,1198,92,45,"filter"],[1,1200,92,52,"videoAspectRatio"],[1,1217,92,69,"target"],[1,1225,93,12,"rightDiff"],[1,1227,93,24,"Math"],[1,1232,93,29,"abs"],[1,1236,93,33,"rightAspect"],[1,1238,93,47,"filter"],[1,1240,93,54,"videoAspectRatio"],[1,1257,93,71,"target"],[1,1265,94,10,"leftDiff"],[1,1267,94,21,"rightDiff"],[1,1271,94,32,"leftPoints"],[1,1274,94,46,"filter"],[1,1276,94,53,"videoAspectRatio"],[1,1293,94,70,"priority"],[1,1303,95,10,"rightDiff"],[1,1305,95,22,"leftDiff"],[1,1309,95,32,"rightPoints"],[1,1312,95,47,"filter"],[1,1314,95,54,"videoAspectRatio"],[1,1331,95,71,"priority"],[1,1340,96,4],[1,1341,99,4],[1,1344,99,35],[1,1350,99,8,"filter"],[1,1352,99,15,"photoAspectRatio"],[1,1369,99,41],[1,1370,100,6],[1,1376,100,12,"leftAspect"],[1,1378,100,25,"bestFormat"],[1,1380,100,36,"photoWidth"],[1,1391,100,49,"bestFormat"],[1,1393,100,60,"photoHeight"],[1,1405,101,12,"rightAspect"],[1,1407,101,26,"format"],[1,1409,101,33,"photoWidth"],[1,1420,101,46,"format"],[1,1422,101,53,"photoHeight"],[1,1434,102,12,"leftDiff"],[1,1436,102,23,"Math"],[1,1441,102,28,"abs"],[1,1445,102,32,"leftAspect"],[1,1447,102,45,"filter"],[1,1449,102,52,"photoAspectRatio"],[1,1466,102,69,"target"],[1,1474,103,12,"rightDiff"],[1,1476,103,24,"Math"],[1,1481,103,29,"abs"],[1,1485,103,33,"rightAspect"],[1,1487,103,47,"filter"],[1,1489,103,54,"photoAspectRatio"],[1,1506,103,71,"target"],[1,1514,104,10,"leftDiff"],[1,1516,104,21,"rightDiff"],[1,1520,104,32,"leftPoints"],[1,1523,104,46,"filter"],[1,1525,104,53,"photoAspectRatio"],[1,1542,104,70,"priority"],[1,1552,105,10,"rightDiff"],[1,1554,105,22,"leftDiff"],[1,1558,105,32,"rightPoints"],[1,1561,105,47,"filter"],[1,1563,105,54,"photoAspectRatio"],[1,1580,105,71,"priority"],[1,1589,106,4],[1,1590,109,22],[1,1596,109,8,"filter"],[1,1598,109,15,"fps"],[1,1604,110,32],[1,1612,110,10,"filter"],[1,1614,110,17,"fps"],[1,1618,110,21,"target"],[1,1626,111,12,"bestFormat"],[1,1628,111,23,"maxFps"],[1,1635,111,32,"format"],[1,1637,111,39,"maxFps"],[1,1646,111,47,"leftPoints"],[1,1649,111,61,"filter"],[1,1651,111,68,"fps"],[1,1655,111,72,"priority"],[1,1665,112,12,"format"],[1,1667,112,19,"maxFps"],[1,1674,112,28,"bestFormat"],[1,1676,112,39,"maxFps"],[1,1685,112,47,"rightPoints"],[1,1688,112,62,"filter"],[1,1690,112,69,"fps"],[1,1694,112,73,"priority"],[1,1706,114,12,"bestFormat"],[1,1708,114,23,"maxFps"],[1,1716,114,33,"filter"],[1,1718,114,40,"fps"],[1,1722,114,44,"target"],[1,1731,114,52,"leftPoints"],[1,1734,114,66,"filter"],[1,1736,114,73,"fps"],[1,1740,114,77,"priority"],[1,1750,115,12,"format"],[1,1752,115,19,"maxFps"],[1,1760,115,29,"filter"],[1,1762,115,36,"fps"],[1,1766,115,40,"target"],[1,1775,115,48,"rightPoints"],[1,1778,115,63,"filter"],[1,1780,115,70,"fps"],[1,1784,115,74,"priority"],[1,1796,120,22],[1,1802,120,8,"filter"],[1,1804,120,15,"iso"],[1,1810,121,32],[1,1818,121,10,"filter"],[1,1820,121,17,"iso"],[1,1824,121,21,"target"],[1,1832,122,12,"bestFormat"],[1,1834,122,23,"maxISO"],[1,1841,122,32,"format"],[1,1843,122,39,"maxISO"],[1,1852,122,47,"leftPoints"],[1,1855,122,61,"filter"],[1,1857,122,68,"iso"],[1,1861,122,72,"priority"],[1,1871,123,12,"format"],[1,1873,123,19,"maxISO"],[1,1880,123,28,"bestFormat"],[1,1882,123,39,"maxISO"],[1,1891,123,47,"rightPoints"],[1,1894,123,62,"filter"],[1,1896,123,69,"iso"],[1,1900,123,73,"priority"],[1,1911,124,39],[1,1919,124,17,"filter"],[1,1921,124,24,"iso"],[1,1925,124,28,"target"],[1,1933,125,12,"bestFormat"],[1,1935,125,23,"minISO"],[1,1942,125,32,"format"],[1,1944,125,39,"minISO"],[1,1953,125,47,"leftPoints"],[1,1956,125,61,"filter"],[1,1958,125,68,"iso"],[1,1962,125,72,"priority"],[1,1972,126,12,"format"],[1,1974,126,19,"minISO"],[1,1981,126,28,"bestFormat"],[1,1983,126,39,"minISO"],[1,1992,126,47,"rightPoints"],[1,1995,126,62,"filter"],[1,1997,126,69,"iso"],[1,2001,126,73,"priority"],[1,2013,128,12,"filter"],[1,2015,128,19,"iso"],[1,2019,128,23,"target"],[1,2027,128,33,"bestFormat"],[1,2029,128,44,"minISO"],[1,2037,128,54,"filter"],[1,2039,128,61,"iso"],[1,2043,128,65,"target"],[1,2051,128,75,"bestFormat"],[1,2053,128,86,"maxISO"],[1,2062,128,94,"leftPoints"],[1,2065,128,108,"filter"],[1,2067,128,115,"iso"],[1,2071,128,119,"priority"],[1,2081,129,12,"filter"],[1,2083,129,19,"iso"],[1,2087,129,23,"target"],[1,2095,129,33,"format"],[1,2097,129,40,"minISO"],[1,2105,129,50,"filter"],[1,2107,129,57,"iso"],[1,2111,129,61,"target"],[1,2119,129,71,"format"],[1,2121,129,78,"maxISO"],[1,2130,129,86,"rightPoints"],[1,2133,129,101,"filter"],[1,2135,129,108,"iso"],[1,2139,129,112,"priority"],[1,2151,134,41],[1,2157,134,8,"filter"],[1,2159,134,15,"videoStabilizationMode"],[1,2184,135,10,"bestFormat"],[1,2186,135,21,"videoStabilizationModes"],[1,2210,135,45,"includes"],[1,2219,135,54,"filter"],[1,2221,135,61,"videoStabilizationMode"],[1,2244,135,84,"target"],[1,2254,135,93,"leftPoints"],[1,2257,135,107,"filter"],[1,2259,135,114,"videoStabilizationMode"],[1,2282,135,137,"priority"],[1,2292,136,10,"format"],[1,2294,136,17,"videoStabilizationModes"],[1,2318,136,41,"includes"],[1,2327,136,50,"filter"],[1,2329,136,57,"videoStabilizationMode"],[1,2352,136,80,"target"],[1,2362,136,89,"rightPoints"],[1,2365,136,104,"filter"],[1,2367,136,111,"videoStabilizationMode"],[1,2390,136,134,"priority"],[1,2401,140,27],[1,2407,140,8,"filter"],[1,2409,140,15,"photoHdr"],[1,2420,141,10,"bestFormat"],[1,2422,141,21,"supportsPhotoHdr"],[1,2441,141,42,"filter"],[1,2443,141,49,"photoHdr"],[1,2452,141,58,"target"],[1,2461,141,66,"leftPoints"],[1,2464,141,80,"filter"],[1,2466,141,87,"photoHdr"],[1,2475,141,96,"priority"],[1,2485,142,10,"format"],[1,2487,142,17,"supportsPhotoHdr"],[1,2506,142,38,"filter"],[1,2508,142,45,"photoHdr"],[1,2517,142,54,"target"],[1,2526,142,62,"rightPoints"],[1,2529,142,77,"filter"],[1,2531,142,84,"photoHdr"],[1,2540,142,93,"priority"],[1,2551,146,27],[1,2557,146,8,"filter"],[1,2559,146,15,"videoHdr"],[1,2570,147,10,"bestFormat"],[1,2572,147,21,"supportsVideoHdr"],[1,2591,147,42,"filter"],[1,2593,147,49,"videoHdr"],[1,2602,147,58,"target"],[1,2611,147,66,"leftPoints"],[1,2614,147,80,"filter"],[1,2616,147,87,"videoHdr"],[1,2625,147,96,"priority"],[1,2635,148,10,"format"],[1,2637,148,17,"supportsVideoHdr"],[1,2656,148,38,"filter"],[1,2658,148,45,"videoHdr"],[1,2667,148,54,"target"],[1,2676,148,62,"rightPoints"],[1,2679,148,77,"filter"],[1,2681,148,84,"videoHdr"],[1,2690,148,93,"priority"],[1,2701,152,34],[1,2707,152,8,"filter"],[1,2709,152,15,"autoFocusSystem"],[1,2727,153,10,"bestFormat"],[1,2729,153,21,"autoFocusSystem"],[1,2747,153,41,"filter"],[1,2749,153,48,"autoFocusSystem"],[1,2765,153,64,"target"],[1,2774,153,72,"leftPoints"],[1,2777,153,86,"filter"],[1,2779,153,93,"autoFocusSystem"],[1,2795,153,109,"priority"],[1,2805,154,10,"format"],[1,2807,154,17,"autoFocusSystem"],[1,2825,154,37,"filter"],[1,2827,154,44,"autoFocusSystem"],[1,2843,154,60,"target"],[1,2852,154,68,"rightPoints"],[1,2855,154,83,"filter"],[1,2857,154,90,"autoFocusSystem"],[1,2873,154,106,"priority"],[1,2884,156,8,"rightPoints"],[1,2886,156,22,"leftPoints"],[1,2890,156,34,"bestFormat"],[1,2892,156,47,"format"],[1,2894,157,2],[1,2895,158,2],[1,2902,158,9,"bestFormat"],[1,2903,159,0],[1,2905,7,0],[1,2909,7,4,"_CameraError"],[1,2911,7,19,"require"],[1,2913,7,26,"d"],[1,2915,7,26],[1,2919,8,0],[1,2928,8,9,"filtersToFilterMap"],[1,2930,8,28,"filters"],[1,2933,9,2],[1,2940,9,9,"filters"],[1,2942,9,17,"reduce"],[1,2949,9,24],[1,2950,9,25,"map"],[1,2952,9,30,"curr"],[1,2954,9,36,"index"],[1,2959,10,4],[1,2963,10,9],[1,2969,10,15,"key"],[1,2974,10,22,"curr"],[1,2976,12,6,"map"],[1,2978,12,10,"key"],[1,2981,12,17],[1,2982,15,8,"target"],[1,2989,15,16,"curr"],[1,2991,15,21,"key"],[1,2994,16,8,"priority"],[1,3003,16,18,"filters"],[1,3005,16,26,"length"],[1,3012,16,35,"index"],[1,3015,19,4],[1,3022,19,11,"map"],[1,3025,20,5],[1,3026,20,6],[1,3028,21,0],[1,3029,159,1],[1,3032]],"functionMap":{"names":["<global>","filtersToFilterMap","filters.reduce$argument_0","getCameraFormat"],"mappings":"AAA;ACO;wBCC;GDW;CDC;AGoB;CHsH"},"hasCjsExports":true},"type":"js/module"}]}