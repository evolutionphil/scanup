{"dependencies":[{"name":"./PDFDocument.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"rL88CHLSvTrm6q277pIG25+D/8c=","exportNames":["*"],"imports":1}},{"name":"../core/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":85,"index":129}}],"key":"uYibmgiuaz/CrXy37RQIsJGcmz0=","exportNames":["*"],"imports":1}},{"name":"../utils/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":64,"index":194}}],"key":"yx9DX+1vet++JoKlU5V/nikNahM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return PDFFont;\n    }\n  });\n  var _PDFDocumentJs = require(_dependencyMap[0], \"./PDFDocument.js\");\n  var PDFDocument = _interopDefault(_PDFDocumentJs);\n  var _coreIndexJs = require(_dependencyMap[1], \"../core/index.js\");\n  var _utilsIndexJs = require(_dependencyMap[2], \"../utils/index.js\");\n  /**\n   * Represents a font that has been embedded in a [[PDFDocument]].\n   */\n  class PDFFont {\n    constructor(ref, doc, embedder) {\n      this.modified = true;\n      (0, _utilsIndexJs.assertIs)(ref, 'ref', [[_coreIndexJs.PDFRef, 'PDFRef']]);\n      (0, _utilsIndexJs.assertIs)(doc, 'doc', [[PDFDocument.default, 'PDFDocument']]);\n      (0, _utilsIndexJs.assertIs)(embedder, 'embedder', [[_coreIndexJs.CustomFontEmbedder, 'CustomFontEmbedder'], [_coreIndexJs.StandardFontEmbedder, 'StandardFontEmbedder']]);\n      this.ref = ref;\n      this.doc = doc;\n      this.name = embedder.fontName;\n      this.embedder = embedder;\n    }\n    /**\n     * > **NOTE:** You probably don't need to call this method directly. The\n     * > [[PDFPage.drawText]] method will automatically encode the text it is\n     * > given.\n     *\n     * Encodes a string of text in this font.\n     *\n     * @param text The text to be encoded.\n     * @returns The encoded text as a hex string.\n     */\n    encodeText(text) {\n      (0, _utilsIndexJs.assertIs)(text, 'text', ['string']);\n      this.modified = true;\n      return this.embedder.encodeText(text);\n    }\n    /**\n     * Measure the width of a string of text drawn in this font at a given size.\n     * For example:\n     * ```js\n     * const width = font.widthOfTextAtSize('Foo Bar Qux Baz', 36)\n     * ```\n     * @param text The string of text to be measured.\n     * @param size The font size to be used for this measurement.\n     * @returns The width of the string of text when drawn in this font at the\n     *          given size.\n     */\n    widthOfTextAtSize(text, size) {\n      (0, _utilsIndexJs.assertIs)(text, 'text', ['string']);\n      (0, _utilsIndexJs.assertIs)(size, 'size', ['number']);\n      return this.embedder.widthOfTextAtSize(text, size);\n    }\n    /**\n     * Measure the height of this font at a given size. For example:\n     * ```js\n     * const height = font.heightAtSize(24)\n     * ```\n     *\n     * The `options.descender` value controls whether or not the font's\n     * descender is included in the height calculation.\n     *\n     * @param size The font size to be used for this measurement.\n     * @param options The options to be used when computing this measurement.\n     * @returns The height of this font at the given size.\n     */\n    heightAtSize(size, options) {\n      var _a;\n      (0, _utilsIndexJs.assertIs)(size, 'size', ['number']);\n      (0, _utilsIndexJs.assertOrUndefined)(options === null || options === void 0 ? void 0 : options.descender, 'options.descender', ['boolean']);\n      return this.embedder.heightOfFontAtSize(size, {\n        descender: (_a = options === null || options === void 0 ? void 0 : options.descender) !== null && _a !== void 0 ? _a : true\n      });\n    }\n    /**\n     * Compute the font size at which this font is a given height. For example:\n     * ```js\n     * const fontSize = font.sizeAtHeight(12)\n     * ```\n     * @param height The height to be used for this calculation.\n     * @returns The font size at which this font is the given height.\n     */\n    sizeAtHeight(height) {\n      (0, _utilsIndexJs.assertIs)(height, 'height', ['number']);\n      return this.embedder.sizeOfFontAtHeight(height);\n    }\n    /**\n     * Get the set of unicode code points that can be represented by this font.\n     * @returns The set of unicode code points supported by this font.\n     */\n    getCharacterSet() {\n      if (this.embedder instanceof _coreIndexJs.StandardFontEmbedder) {\n        return this.embedder.encoding.supportedCodePoints;\n      } else {\n        return this.embedder.font.characterSet;\n      }\n    }\n    /**\n     * > **NOTE:** You probably don't need to call this method directly. The\n     * > [[PDFDocument.save]] and [[PDFDocument.saveAsBase64]] methods will\n     * > automatically ensure all fonts get embedded.\n     *\n     * Embed this font in its document.\n     *\n     * @returns Resolves when the embedding is complete.\n     */\n    async embed() {\n      // TODO: Cleanup orphan embedded objects if a font is embedded multiple times...\n      if (this.modified) {\n        await this.embedder.embedIntoContext(this.doc.context, this.ref);\n        this.modified = false;\n      }\n    }\n  }\n  /**\n   * > **NOTE:** You probably don't want to call this method directly. Instead,\n   * > consider using the [[PDFDocument.embedFont]] and\n   * > [[PDFDocument.embedStandardFont]] methods, which will create instances\n   * > of [[PDFFont]] for you.\n   *\n   * Create an instance of [[PDFFont]] from an existing ref and embedder\n   *\n   * @param ref The unique reference for this font.\n   * @param doc The document to which the font will belong.\n   * @param embedder The embedder that will be used to embed the font.\n   */\n  PDFFont.of = (ref, doc, embedder) => new PDFFont(ref, doc, embedder);\n});","lineCount":141,"map":[[12,2,7,15,"Object"],[12,8,7,15],[12,9,7,15,"defineProperty"],[12,23,7,15],[12,24,7,15,"exports"],[12,31,7,15],[13,4,7,15,"enumerable"],[13,14,7,15],[14,4,7,15,"get"],[14,7,7,15],[14,18,7,15,"get"],[14,19,7,15],[15,6,7,15],[15,13,7,15,"PDFFont"],[15,20,7,15],[16,4,7,15],[17,2,7,15],[18,2,1,0],[18,6,1,0,"_PDFDocumentJs"],[18,20,1,0],[18,23,1,0,"require"],[18,30,1,0],[18,31,1,0,"_dependencyMap"],[18,45,1,0],[19,2,1,0],[19,6,1,0,"PDFDocument"],[19,17,1,0],[19,20,1,0,"_interopDefault"],[19,35,1,0],[19,36,1,0,"_PDFDocumentJs"],[19,50,1,0],[20,2,2,0],[20,6,2,0,"_coreIndexJs"],[20,18,2,0],[20,21,2,0,"require"],[20,28,2,0],[20,29,2,0,"_dependencyMap"],[20,43,2,0],[21,2,3,0],[21,6,3,0,"_utilsIndexJs"],[21,19,3,0],[21,22,3,0,"require"],[21,29,3,0],[21,30,3,0,"_dependencyMap"],[21,44,3,0],[22,2,4,0],[23,0,5,0],[24,0,6,0],[25,2,7,15],[25,8,7,21,"PDFFont"],[25,15,7,28],[25,16,7,29],[26,4,8,4,"constructor"],[26,15,8,15,"constructor"],[26,16,8,16,"ref"],[26,19,8,19],[26,21,8,21,"doc"],[26,24,8,24],[26,26,8,26,"embedder"],[26,34,8,34],[26,36,8,36],[27,6,9,8],[27,10,9,12],[27,11,9,13,"modified"],[27,19,9,21],[27,22,9,24],[27,26,9,28],[28,6,10,8],[28,10,10,8,"assertIs"],[28,23,10,16],[28,24,10,16,"assertIs"],[28,32,10,16],[28,34,10,17,"ref"],[28,37,10,20],[28,39,10,22],[28,44,10,27],[28,46,10,29],[28,47,10,30],[28,48,10,31,"PDFRef"],[28,60,10,37],[28,61,10,37,"PDFRef"],[28,67,10,37],[28,69,10,39],[28,77,10,47],[28,78,10,48],[28,79,10,49],[28,80,10,50],[29,6,11,8],[29,10,11,8,"assertIs"],[29,23,11,16],[29,24,11,16,"assertIs"],[29,32,11,16],[29,34,11,17,"doc"],[29,37,11,20],[29,39,11,22],[29,44,11,27],[29,46,11,29],[29,47,11,30],[29,48,11,31,"PDFDocument"],[29,59,11,42],[29,60,11,42,"default"],[29,67,11,42],[29,69,11,44],[29,82,11,57],[29,83,11,58],[29,84,11,59],[29,85,11,60],[30,6,12,8],[30,10,12,8,"assertIs"],[30,23,12,16],[30,24,12,16,"assertIs"],[30,32,12,16],[30,34,12,17,"embedder"],[30,42,12,25],[30,44,12,27],[30,54,12,37],[30,56,12,39],[30,57,13,12],[30,58,13,13,"CustomFontEmbedder"],[30,70,13,31],[30,71,13,31,"CustomFontEmbedder"],[30,89,13,31],[30,91,13,33],[30,111,13,53],[30,112,13,54],[30,114,14,12],[30,115,14,13,"StandardFontEmbedder"],[30,127,14,33],[30,128,14,33,"StandardFontEmbedder"],[30,148,14,33],[30,150,14,35],[30,172,14,57],[30,173,14,58],[30,174,15,9],[30,175,15,10],[31,6,16,8],[31,10,16,12],[31,11,16,13,"ref"],[31,14,16,16],[31,17,16,19,"ref"],[31,20,16,22],[32,6,17,8],[32,10,17,12],[32,11,17,13,"doc"],[32,14,17,16],[32,17,17,19,"doc"],[32,20,17,22],[33,6,18,8],[33,10,18,12],[33,11,18,13,"name"],[33,15,18,17],[33,18,18,20,"embedder"],[33,26,18,28],[33,27,18,29,"fontName"],[33,35,18,37],[34,6,19,8],[34,10,19,12],[34,11,19,13,"embedder"],[34,19,19,21],[34,22,19,24,"embedder"],[34,30,19,32],[35,4,20,4],[36,4,21,4],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,0,25,0],[41,0,26,0],[42,0,27,0],[43,0,28,0],[44,0,29,0],[45,0,30,0],[46,4,31,4,"encodeText"],[46,14,31,14,"encodeText"],[46,15,31,15,"text"],[46,19,31,19],[46,21,31,21],[47,6,32,8],[47,10,32,8,"assertIs"],[47,23,32,16],[47,24,32,16,"assertIs"],[47,32,32,16],[47,34,32,17,"text"],[47,38,32,21],[47,40,32,23],[47,46,32,29],[47,48,32,31],[47,49,32,32],[47,57,32,40],[47,58,32,41],[47,59,32,42],[48,6,33,8],[48,10,33,12],[48,11,33,13,"modified"],[48,19,33,21],[48,22,33,24],[48,26,33,28],[49,6,34,8],[49,13,34,15],[49,17,34,19],[49,18,34,20,"embedder"],[49,26,34,28],[49,27,34,29,"encodeText"],[49,37,34,39],[49,38,34,40,"text"],[49,42,34,44],[49,43,34,45],[50,4,35,4],[51,4,36,4],[52,0,37,0],[53,0,38,0],[54,0,39,0],[55,0,40,0],[56,0,41,0],[57,0,42,0],[58,0,43,0],[59,0,44,0],[60,0,45,0],[61,0,46,0],[62,4,47,4,"widthOfTextAtSize"],[62,21,47,21,"widthOfTextAtSize"],[62,22,47,22,"text"],[62,26,47,26],[62,28,47,28,"size"],[62,32,47,32],[62,34,47,34],[63,6,48,8],[63,10,48,8,"assertIs"],[63,23,48,16],[63,24,48,16,"assertIs"],[63,32,48,16],[63,34,48,17,"text"],[63,38,48,21],[63,40,48,23],[63,46,48,29],[63,48,48,31],[63,49,48,32],[63,57,48,40],[63,58,48,41],[63,59,48,42],[64,6,49,8],[64,10,49,8,"assertIs"],[64,23,49,16],[64,24,49,16,"assertIs"],[64,32,49,16],[64,34,49,17,"size"],[64,38,49,21],[64,40,49,23],[64,46,49,29],[64,48,49,31],[64,49,49,32],[64,57,49,40],[64,58,49,41],[64,59,49,42],[65,6,50,8],[65,13,50,15],[65,17,50,19],[65,18,50,20,"embedder"],[65,26,50,28],[65,27,50,29,"widthOfTextAtSize"],[65,44,50,46],[65,45,50,47,"text"],[65,49,50,51],[65,51,50,53,"size"],[65,55,50,57],[65,56,50,58],[66,4,51,4],[67,4,52,4],[68,0,53,0],[69,0,54,0],[70,0,55,0],[71,0,56,0],[72,0,57,0],[73,0,58,0],[74,0,59,0],[75,0,60,0],[76,0,61,0],[77,0,62,0],[78,0,63,0],[79,0,64,0],[80,4,65,4,"heightAtSize"],[80,16,65,16,"heightAtSize"],[80,17,65,17,"size"],[80,21,65,21],[80,23,65,23,"options"],[80,30,65,30],[80,32,65,32],[81,6,66,8],[81,10,66,12,"_a"],[81,12,66,14],[82,6,67,8],[82,10,67,8,"assertIs"],[82,23,67,16],[82,24,67,16,"assertIs"],[82,32,67,16],[82,34,67,17,"size"],[82,38,67,21],[82,40,67,23],[82,46,67,29],[82,48,67,31],[82,49,67,32],[82,57,67,40],[82,58,67,41],[82,59,67,42],[83,6,68,8],[83,10,68,8,"assertOrUndefined"],[83,23,68,25],[83,24,68,25,"assertOrUndefined"],[83,41,68,25],[83,43,68,26,"options"],[83,50,68,33],[83,55,68,38],[83,59,68,42],[83,63,68,46,"options"],[83,70,68,53],[83,75,68,58],[83,80,68,63],[83,81,68,64],[83,84,68,67],[83,89,68,72],[83,90,68,73],[83,93,68,76,"options"],[83,100,68,83],[83,101,68,84,"descender"],[83,110,68,93],[83,112,68,95],[83,131,68,114],[83,133,68,116],[83,134,68,117],[83,143,68,126],[83,144,68,127],[83,145,68,128],[84,6,69,8],[84,13,69,15],[84,17,69,19],[84,18,69,20,"embedder"],[84,26,69,28],[84,27,69,29,"heightOfFontAtSize"],[84,45,69,47],[84,46,69,48,"size"],[84,50,69,52],[84,52,69,54],[85,8,70,12,"descender"],[85,17,70,21],[85,19,70,23],[85,20,70,24,"_a"],[85,22,70,26],[85,25,70,29,"options"],[85,32,70,36],[85,37,70,41],[85,41,70,45],[85,45,70,49,"options"],[85,52,70,56],[85,57,70,61],[85,62,70,66],[85,63,70,67],[85,66,70,70],[85,71,70,75],[85,72,70,76],[85,75,70,79,"options"],[85,82,70,86],[85,83,70,87,"descender"],[85,92,70,96],[85,98,70,102],[85,102,70,106],[85,106,70,110,"_a"],[85,108,70,112],[85,113,70,117],[85,118,70,122],[85,119,70,123],[85,122,70,126,"_a"],[85,124,70,128],[85,127,70,131],[86,6,71,8],[86,7,71,9],[86,8,71,10],[87,4,72,4],[88,4,73,4],[89,0,74,0],[90,0,75,0],[91,0,76,0],[92,0,77,0],[93,0,78,0],[94,0,79,0],[95,0,80,0],[96,4,81,4,"sizeAtHeight"],[96,16,81,16,"sizeAtHeight"],[96,17,81,17,"height"],[96,23,81,23],[96,25,81,25],[97,6,82,8],[97,10,82,8,"assertIs"],[97,23,82,16],[97,24,82,16,"assertIs"],[97,32,82,16],[97,34,82,17,"height"],[97,40,82,23],[97,42,82,25],[97,50,82,33],[97,52,82,35],[97,53,82,36],[97,61,82,44],[97,62,82,45],[97,63,82,46],[98,6,83,8],[98,13,83,15],[98,17,83,19],[98,18,83,20,"embedder"],[98,26,83,28],[98,27,83,29,"sizeOfFontAtHeight"],[98,45,83,47],[98,46,83,48,"height"],[98,52,83,54],[98,53,83,55],[99,4,84,4],[100,4,85,4],[101,0,86,0],[102,0,87,0],[103,0,88,0],[104,4,89,4,"getCharacterSet"],[104,19,89,19,"getCharacterSet"],[104,20,89,19],[104,22,89,22],[105,6,90,8],[105,10,90,12],[105,14,90,16],[105,15,90,17,"embedder"],[105,23,90,25],[105,35,90,37,"StandardFontEmbedder"],[105,47,90,57],[105,48,90,57,"StandardFontEmbedder"],[105,68,90,57],[105,70,90,59],[106,8,91,12],[106,15,91,19],[106,19,91,23],[106,20,91,24,"embedder"],[106,28,91,32],[106,29,91,33,"encoding"],[106,37,91,41],[106,38,91,42,"supportedCodePoints"],[106,57,91,61],[107,6,92,8],[107,7,92,9],[107,13,93,13],[108,8,94,12],[108,15,94,19],[108,19,94,23],[108,20,94,24,"embedder"],[108,28,94,32],[108,29,94,33,"font"],[108,33,94,37],[108,34,94,38,"characterSet"],[108,46,94,50],[109,6,95,8],[110,4,96,4],[111,4,97,4],[112,0,98,0],[113,0,99,0],[114,0,100,0],[115,0,101,0],[116,0,102,0],[117,0,103,0],[118,0,104,0],[119,0,105,0],[120,4,106,4],[120,10,106,10,"embed"],[120,15,106,15,"embed"],[120,16,106,15],[120,18,106,18],[121,6,107,8],[122,6,108,8],[122,10,108,12],[122,14,108,16],[122,15,108,17,"modified"],[122,23,108,25],[122,25,108,27],[123,8,109,12],[123,14,109,18],[123,18,109,22],[123,19,109,23,"embedder"],[123,27,109,31],[123,28,109,32,"embedIntoContext"],[123,44,109,48],[123,45,109,49],[123,49,109,53],[123,50,109,54,"doc"],[123,53,109,57],[123,54,109,58,"context"],[123,61,109,65],[123,63,109,67],[123,67,109,71],[123,68,109,72,"ref"],[123,71,109,75],[123,72,109,76],[124,8,110,12],[124,12,110,16],[124,13,110,17,"modified"],[124,21,110,25],[124,24,110,28],[124,29,110,33],[125,6,111,8],[126,4,112,4],[127,2,113,0],[128,2,114,0],[129,0,115,0],[130,0,116,0],[131,0,117,0],[132,0,118,0],[133,0,119,0],[134,0,120,0],[135,0,121,0],[136,0,122,0],[137,0,123,0],[138,0,124,0],[139,0,125,0],[140,2,126,0,"PDFFont"],[140,9,126,7],[140,10,126,8,"of"],[140,12,126,10],[140,15,126,13],[140,16,126,14,"ref"],[140,19,126,17],[140,21,126,19,"doc"],[140,24,126,22],[140,26,126,24,"embedder"],[140,34,126,32],[140,39,126,37],[140,43,126,41,"PDFFont"],[140,50,126,48],[140,51,126,49,"ref"],[140,54,126,52],[140,56,126,54,"doc"],[140,59,126,57],[140,61,126,59,"embedder"],[140,69,126,67],[140,70,126,68],[141,0,126,69],[141,3]],"functionMap":{"names":["<global>","PDFFont","constructor","encodeText","widthOfTextAtSize","heightAtSize","sizeAtHeight","getCharacterSet","embed","of"],"mappings":"AAA;eCM;ICC;KDY;IEW;KFI;IGY;KHI;IIc;KJO;IKS;KLG;IMK;KNO;IOU;KPM;CDC;aSa,uDT"},"hasCjsExports":false},"type":"js/module"}]}