{"dependencies":[{"name":"../errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"hqwpWRawU/ruYp+nBkn/8IqEHoU=","exportNames":["*"],"imports":1}},{"name":"../streams/decode.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":58,"index":113}}],"key":"w9ruAxYOTQNoaevF03df+dDtQYQ=","exportNames":["*"],"imports":1}},{"name":"../syntax/CharCodes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":114},"end":{"line":3,"column":47,"index":161}}],"key":"+DBwAmT9NZfRH+sDMoR59/8CQ3Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _errorsJs = require(_dependencyMap[0], \"../errors.js\");\n  var _streamsDecodeJs = require(_dependencyMap[1], \"../streams/decode.js\");\n  var _syntaxCharCodesJs = require(_dependencyMap[2], \"../syntax/CharCodes.js\");\n  var CharCodes = _interopDefault(_syntaxCharCodesJs);\n  // TODO: See how line/col tracking affects performance\n  class ByteStream {\n    constructor(bytes) {\n      this.idx = 0;\n      this.line = 0;\n      this.column = 0;\n      this.bytes = bytes;\n      this.length = this.bytes.length;\n    }\n    moveTo(offset) {\n      this.idx = offset;\n    }\n    next() {\n      const byte = this.bytes[this.idx++];\n      if (byte === CharCodes.default.Newline) {\n        this.line += 1;\n        this.column = 0;\n      } else {\n        this.column += 1;\n      }\n      return byte;\n    }\n    assertNext(expected) {\n      if (this.peek() !== expected) {\n        throw new _errorsJs.NextByteAssertionError(this.position(), expected, this.peek());\n      }\n      return this.next();\n    }\n    peek() {\n      return this.bytes[this.idx];\n    }\n    peekAhead(steps) {\n      return this.bytes[this.idx + steps];\n    }\n    peekAt(offset) {\n      return this.bytes[offset];\n    }\n    done() {\n      return this.idx >= this.length;\n    }\n    offset() {\n      return this.idx;\n    }\n    slice(start, end) {\n      return this.bytes.slice(start, end);\n    }\n    position() {\n      return {\n        line: this.line,\n        column: this.column,\n        offset: this.idx\n      };\n    }\n  }\n  ByteStream.of = bytes => new ByteStream(bytes);\n  ByteStream.fromPDFRawStream = rawStream => ByteStream.of((0, _streamsDecodeJs.decodePDFRawStream)(rawStream).decode());\n  var _default = ByteStream;\n});","lineCount":79,"map":[[12,2,57,0,"Object"],[12,8,57,0],[12,9,57,0,"defineProperty"],[12,23,57,0],[12,24,57,0,"exports"],[12,31,57,0],[13,4,57,0,"enumerable"],[13,14,57,0],[14,4,57,0,"get"],[14,7,57,0],[14,18,57,0,"get"],[14,19,57,0],[15,6,57,0],[15,13,57,0,"_default"],[15,21,57,0],[16,4,57,0],[17,2,57,0],[18,2,1,0],[18,6,1,0,"_errorsJs"],[18,15,1,0],[18,18,1,0,"require"],[18,25,1,0],[18,26,1,0,"_dependencyMap"],[18,40,1,0],[19,2,2,0],[19,6,2,0,"_streamsDecodeJs"],[19,22,2,0],[19,25,2,0,"require"],[19,32,2,0],[19,33,2,0,"_dependencyMap"],[19,47,2,0],[20,2,3,0],[20,6,3,0,"_syntaxCharCodesJs"],[20,24,3,0],[20,27,3,0,"require"],[20,34,3,0],[20,35,3,0,"_dependencyMap"],[20,49,3,0],[21,2,3,0],[21,6,3,0,"CharCodes"],[21,15,3,0],[21,18,3,0,"_interopDefault"],[21,33,3,0],[21,34,3,0,"_syntaxCharCodesJs"],[21,52,3,0],[22,2,4,0],[23,2,5,0],[23,8,5,6,"ByteStream"],[23,18,5,16],[23,19,5,17],[24,4,6,4,"constructor"],[24,15,6,15,"constructor"],[24,16,6,16,"bytes"],[24,21,6,21],[24,23,6,23],[25,6,7,8],[25,10,7,12],[25,11,7,13,"idx"],[25,14,7,16],[25,17,7,19],[25,18,7,20],[26,6,8,8],[26,10,8,12],[26,11,8,13,"line"],[26,15,8,17],[26,18,8,20],[26,19,8,21],[27,6,9,8],[27,10,9,12],[27,11,9,13,"column"],[27,17,9,19],[27,20,9,22],[27,21,9,23],[28,6,10,8],[28,10,10,12],[28,11,10,13,"bytes"],[28,16,10,18],[28,19,10,21,"bytes"],[28,24,10,26],[29,6,11,8],[29,10,11,12],[29,11,11,13,"length"],[29,17,11,19],[29,20,11,22],[29,24,11,26],[29,25,11,27,"bytes"],[29,30,11,32],[29,31,11,33,"length"],[29,37,11,39],[30,4,12,4],[31,4,13,4,"moveTo"],[31,10,13,10,"moveTo"],[31,11,13,11,"offset"],[31,17,13,17],[31,19,13,19],[32,6,14,8],[32,10,14,12],[32,11,14,13,"idx"],[32,14,14,16],[32,17,14,19,"offset"],[32,23,14,25],[33,4,15,4],[34,4,16,4,"next"],[34,8,16,8,"next"],[34,9,16,8],[34,11,16,11],[35,6,17,8],[35,12,17,14,"byte"],[35,16,17,18],[35,19,17,21],[35,23,17,25],[35,24,17,26,"bytes"],[35,29,17,31],[35,30,17,32],[35,34,17,36],[35,35,17,37,"idx"],[35,38,17,40],[35,40,17,42],[35,41,17,43],[36,6,18,8],[36,10,18,12,"byte"],[36,14,18,16],[36,19,18,21,"CharCodes"],[36,28,18,30],[36,29,18,30,"default"],[36,36,18,30],[36,37,18,31,"Newline"],[36,44,18,38],[36,46,18,40],[37,8,19,12],[37,12,19,16],[37,13,19,17,"line"],[37,17,19,21],[37,21,19,25],[37,22,19,26],[38,8,20,12],[38,12,20,16],[38,13,20,17,"column"],[38,19,20,23],[38,22,20,26],[38,23,20,27],[39,6,21,8],[39,7,21,9],[39,13,22,13],[40,8,23,12],[40,12,23,16],[40,13,23,17,"column"],[40,19,23,23],[40,23,23,27],[40,24,23,28],[41,6,24,8],[42,6,25,8],[42,13,25,15,"byte"],[42,17,25,19],[43,4,26,4],[44,4,27,4,"assertNext"],[44,14,27,14,"assertNext"],[44,15,27,15,"expected"],[44,23,27,23],[44,25,27,25],[45,6,28,8],[45,10,28,12],[45,14,28,16],[45,15,28,17,"peek"],[45,19,28,21],[45,20,28,22],[45,21,28,23],[45,26,28,28,"expected"],[45,34,28,36],[45,36,28,38],[46,8,29,12],[46,14,29,18],[46,18,29,22,"NextByteAssertionError"],[46,27,29,44],[46,28,29,44,"NextByteAssertionError"],[46,50,29,44],[46,51,29,45],[46,55,29,49],[46,56,29,50,"position"],[46,64,29,58],[46,65,29,59],[46,66,29,60],[46,68,29,62,"expected"],[46,76,29,70],[46,78,29,72],[46,82,29,76],[46,83,29,77,"peek"],[46,87,29,81],[46,88,29,82],[46,89,29,83],[46,90,29,84],[47,6,30,8],[48,6,31,8],[48,13,31,15],[48,17,31,19],[48,18,31,20,"next"],[48,22,31,24],[48,23,31,25],[48,24,31,26],[49,4,32,4],[50,4,33,4,"peek"],[50,8,33,8,"peek"],[50,9,33,8],[50,11,33,11],[51,6,34,8],[51,13,34,15],[51,17,34,19],[51,18,34,20,"bytes"],[51,23,34,25],[51,24,34,26],[51,28,34,30],[51,29,34,31,"idx"],[51,32,34,34],[51,33,34,35],[52,4,35,4],[53,4,36,4,"peekAhead"],[53,13,36,13,"peekAhead"],[53,14,36,14,"steps"],[53,19,36,19],[53,21,36,21],[54,6,37,8],[54,13,37,15],[54,17,37,19],[54,18,37,20,"bytes"],[54,23,37,25],[54,24,37,26],[54,28,37,30],[54,29,37,31,"idx"],[54,32,37,34],[54,35,37,37,"steps"],[54,40,37,42],[54,41,37,43],[55,4,38,4],[56,4,39,4,"peekAt"],[56,10,39,10,"peekAt"],[56,11,39,11,"offset"],[56,17,39,17],[56,19,39,19],[57,6,40,8],[57,13,40,15],[57,17,40,19],[57,18,40,20,"bytes"],[57,23,40,25],[57,24,40,26,"offset"],[57,30,40,32],[57,31,40,33],[58,4,41,4],[59,4,42,4,"done"],[59,8,42,8,"done"],[59,9,42,8],[59,11,42,11],[60,6,43,8],[60,13,43,15],[60,17,43,19],[60,18,43,20,"idx"],[60,21,43,23],[60,25,43,27],[60,29,43,31],[60,30,43,32,"length"],[60,36,43,38],[61,4,44,4],[62,4,45,4,"offset"],[62,10,45,10,"offset"],[62,11,45,10],[62,13,45,13],[63,6,46,8],[63,13,46,15],[63,17,46,19],[63,18,46,20,"idx"],[63,21,46,23],[64,4,47,4],[65,4,48,4,"slice"],[65,9,48,9,"slice"],[65,10,48,10,"start"],[65,15,48,15],[65,17,48,17,"end"],[65,20,48,20],[65,22,48,22],[66,6,49,8],[66,13,49,15],[66,17,49,19],[66,18,49,20,"bytes"],[66,23,49,25],[66,24,49,26,"slice"],[66,29,49,31],[66,30,49,32,"start"],[66,35,49,37],[66,37,49,39,"end"],[66,40,49,42],[66,41,49,43],[67,4,50,4],[68,4,51,4,"position"],[68,12,51,12,"position"],[68,13,51,12],[68,15,51,15],[69,6,52,8],[69,13,52,15],[70,8,52,17,"line"],[70,12,52,21],[70,14,52,23],[70,18,52,27],[70,19,52,28,"line"],[70,23,52,32],[71,8,52,34,"column"],[71,14,52,40],[71,16,52,42],[71,20,52,46],[71,21,52,47,"column"],[71,27,52,53],[72,8,52,55,"offset"],[72,14,52,61],[72,16,52,63],[72,20,52,67],[72,21,52,68,"idx"],[73,6,52,72],[73,7,52,73],[74,4,53,4],[75,2,54,0],[76,2,55,0,"ByteStream"],[76,12,55,10],[76,13,55,11,"of"],[76,15,55,13],[76,18,55,17,"bytes"],[76,23,55,22],[76,27,55,27],[76,31,55,31,"ByteStream"],[76,41,55,41],[76,42,55,42,"bytes"],[76,47,55,47],[76,48,55,48],[77,2,56,0,"ByteStream"],[77,12,56,10],[77,13,56,11,"fromPDFRawStream"],[77,29,56,27],[77,32,56,31,"rawStream"],[77,41,56,40],[77,45,56,45,"ByteStream"],[77,55,56,55],[77,56,56,56,"of"],[77,58,56,58],[77,59,56,59],[77,63,56,59,"decodePDFRawStream"],[77,79,56,77],[77,80,56,77,"decodePDFRawStream"],[77,98,56,77],[77,100,56,78,"rawStream"],[77,109,56,87],[77,110,56,88],[77,111,56,89,"decode"],[77,117,56,95],[77,118,56,96],[77,119,56,97],[77,120,56,98],[78,2,57,0],[78,6,57,0,"_default"],[78,14,57,0],[78,17,57,15,"ByteStream"],[78,27,57,25],[79,0,57,26],[79,3]],"functionMap":{"names":["<global>","ByteStream","constructor","moveTo","next","assertNext","peek","peekAhead","peekAt","done","offset","slice","position","of","fromPDFRawStream"],"mappings":"AAA;ACI;ICC;KDM;IEC;KFE;IGC;KHU;IIC;KJK;IKC;KLE;IMC;KNE;IOC;KPE;IQC;KRE;ISC;KTE;IUC;KVE;IWC;KXE;CDC;gBaC,gCb;8BcC,oEd"},"hasCjsExports":false},"type":"js/module"}]}