{"dependencies":[{"name":"../errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"hqwpWRawU/ruYp+nBkn/8IqEHoU=","exportNames":["*"],"imports":1}},{"name":"../syntax/CharCodes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":51},"end":{"line":2,"column":47,"index":98}}],"key":"+DBwAmT9NZfRH+sDMoR59/8CQ3Q=","exportNames":["*"],"imports":1}},{"name":"../syntax/Numeric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":58,"index":157}}],"key":"V1YKSG8snCHhvqjk+CtRJVTO3P4=","exportNames":["*"],"imports":1}},{"name":"../syntax/Whitespace.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":158},"end":{"line":4,"column":55,"index":213}}],"key":"QB7mycB8G1Ek3sHQCFToelR+PVA=","exportNames":["*"],"imports":1}},{"name":"../../utils/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":214},"end":{"line":5,"column":52,"index":266}}],"key":"AUCnYNcCot7PlCuuOg5nVchJREc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _errorsJs = require(_dependencyMap[0], \"../errors.js\");\n  var _syntaxCharCodesJs = require(_dependencyMap[1], \"../syntax/CharCodes.js\");\n  var CharCodes = _interopDefault(_syntaxCharCodesJs);\n  var _syntaxNumericJs = require(_dependencyMap[2], \"../syntax/Numeric.js\");\n  var _syntaxWhitespaceJs = require(_dependencyMap[3], \"../syntax/Whitespace.js\");\n  var _utilsIndexJs = require(_dependencyMap[4], \"../../utils/index.js\");\n  const {\n    Newline,\n    CarriageReturn\n  } = CharCodes.default;\n  // TODO: Throw error if eof is reached before finishing object parse...\n  class BaseParser {\n    constructor(bytes, capNumbers = false) {\n      this.bytes = bytes;\n      this.capNumbers = capNumbers;\n    }\n    parseRawInt() {\n      let value = '';\n      while (!this.bytes.done()) {\n        const byte = this.bytes.peek();\n        if (!_syntaxNumericJs.IsDigit[byte]) break;\n        value += (0, _utilsIndexJs.charFromCode)(this.bytes.next());\n      }\n      const numberValue = Number(value);\n      if (!value || !isFinite(numberValue)) {\n        throw new _errorsJs.NumberParsingError(this.bytes.position(), value);\n      }\n      return numberValue;\n    }\n    // TODO: Maybe handle exponential format?\n    // TODO: Compare performance of string concatenation to charFromCode(...bytes)\n    parseRawNumber() {\n      let value = '';\n      // Parse integer-part, the leading (+ | - | . | 0-9)\n      while (!this.bytes.done()) {\n        const byte = this.bytes.peek();\n        if (!_syntaxNumericJs.IsNumeric[byte]) break;\n        value += (0, _utilsIndexJs.charFromCode)(this.bytes.next());\n        if (byte === CharCodes.default.Period) break;\n      }\n      // Parse decimal-part, the trailing (0-9)\n      while (!this.bytes.done()) {\n        const byte = this.bytes.peek();\n        if (!_syntaxNumericJs.IsDigit[byte]) break;\n        value += (0, _utilsIndexJs.charFromCode)(this.bytes.next());\n      }\n      const numberValue = Number(value);\n      if (!value || !isFinite(numberValue)) {\n        throw new _errorsJs.NumberParsingError(this.bytes.position(), value);\n      }\n      if (numberValue > Number.MAX_SAFE_INTEGER) {\n        if (this.capNumbers) {\n          const msg = `Parsed number that is too large for some PDF readers: ${value}, using Number.MAX_SAFE_INTEGER instead.`;\n          console.warn(msg);\n          return Number.MAX_SAFE_INTEGER;\n        } else {\n          const msg = `Parsed number that is too large for some PDF readers: ${value}, not capping.`;\n          console.warn(msg);\n        }\n      }\n      return numberValue;\n    }\n    skipWhitespace() {\n      while (!this.bytes.done() && _syntaxWhitespaceJs.IsWhitespace[this.bytes.peek()]) {\n        this.bytes.next();\n      }\n    }\n    skipLine() {\n      while (!this.bytes.done()) {\n        const byte = this.bytes.peek();\n        if (byte === Newline || byte === CarriageReturn) return;\n        this.bytes.next();\n      }\n    }\n    skipComment() {\n      if (this.bytes.peek() !== CharCodes.default.Percent) return false;\n      while (!this.bytes.done()) {\n        const byte = this.bytes.peek();\n        if (byte === Newline || byte === CarriageReturn) return true;\n        this.bytes.next();\n      }\n      return true;\n    }\n    skipWhitespaceAndComments() {\n      this.skipWhitespace();\n      while (this.skipComment()) this.skipWhitespace();\n    }\n    matchKeyword(keyword) {\n      const initialOffset = this.bytes.offset();\n      for (let idx = 0, len = keyword.length; idx < len; idx++) {\n        if (this.bytes.done() || this.bytes.next() !== keyword[idx]) {\n          this.bytes.moveTo(initialOffset);\n          return false;\n        }\n      }\n      return true;\n    }\n  }\n  var _default = BaseParser;\n});","lineCount":117,"map":[[12,2,104,0,"Object"],[12,8,104,0],[12,9,104,0,"defineProperty"],[12,23,104,0],[12,24,104,0,"exports"],[12,31,104,0],[13,4,104,0,"enumerable"],[13,14,104,0],[14,4,104,0,"get"],[14,7,104,0],[14,18,104,0,"get"],[14,19,104,0],[15,6,104,0],[15,13,104,0,"_default"],[15,21,104,0],[16,4,104,0],[17,2,104,0],[18,2,1,0],[18,6,1,0,"_errorsJs"],[18,15,1,0],[18,18,1,0,"require"],[18,25,1,0],[18,26,1,0,"_dependencyMap"],[18,40,1,0],[19,2,2,0],[19,6,2,0,"_syntaxCharCodesJs"],[19,24,2,0],[19,27,2,0,"require"],[19,34,2,0],[19,35,2,0,"_dependencyMap"],[19,49,2,0],[20,2,2,0],[20,6,2,0,"CharCodes"],[20,15,2,0],[20,18,2,0,"_interopDefault"],[20,33,2,0],[20,34,2,0,"_syntaxCharCodesJs"],[20,52,2,0],[21,2,3,0],[21,6,3,0,"_syntaxNumericJs"],[21,22,3,0],[21,25,3,0,"require"],[21,32,3,0],[21,33,3,0,"_dependencyMap"],[21,47,3,0],[22,2,4,0],[22,6,4,0,"_syntaxWhitespaceJs"],[22,25,4,0],[22,28,4,0,"require"],[22,35,4,0],[22,36,4,0,"_dependencyMap"],[22,50,4,0],[23,2,5,0],[23,6,5,0,"_utilsIndexJs"],[23,19,5,0],[23,22,5,0,"require"],[23,29,5,0],[23,30,5,0,"_dependencyMap"],[23,44,5,0],[24,2,6,0],[24,8,6,6],[25,4,6,8,"Newline"],[25,11,6,15],[26,4,6,17,"CarriageReturn"],[27,2,6,32],[27,3,6,33],[27,6,6,36,"CharCodes"],[27,15,6,45],[27,16,6,45,"default"],[27,23,6,45],[28,2,7,0],[29,2,8,0],[29,8,8,6,"BaseParser"],[29,18,8,16],[29,19,8,17],[30,4,9,4,"constructor"],[30,15,9,15,"constructor"],[30,16,9,16,"bytes"],[30,21,9,21],[30,23,9,23,"capNumbers"],[30,33,9,33],[30,36,9,36],[30,41,9,41],[30,43,9,43],[31,6,10,8],[31,10,10,12],[31,11,10,13,"bytes"],[31,16,10,18],[31,19,10,21,"bytes"],[31,24,10,26],[32,6,11,8],[32,10,11,12],[32,11,11,13,"capNumbers"],[32,21,11,23],[32,24,11,26,"capNumbers"],[32,34,11,36],[33,4,12,4],[34,4,13,4,"parseRawInt"],[34,15,13,15,"parseRawInt"],[34,16,13,15],[34,18,13,18],[35,6,14,8],[35,10,14,12,"value"],[35,15,14,17],[35,18,14,20],[35,20,14,22],[36,6,15,8],[36,13,15,15],[36,14,15,16],[36,18,15,20],[36,19,15,21,"bytes"],[36,24,15,26],[36,25,15,27,"done"],[36,29,15,31],[36,30,15,32],[36,31,15,33],[36,33,15,35],[37,8,16,12],[37,14,16,18,"byte"],[37,18,16,22],[37,21,16,25],[37,25,16,29],[37,26,16,30,"bytes"],[37,31,16,35],[37,32,16,36,"peek"],[37,36,16,40],[37,37,16,41],[37,38,16,42],[38,8,17,12],[38,12,17,16],[38,13,17,17,"IsDigit"],[38,29,17,24],[38,30,17,24,"IsDigit"],[38,37,17,24],[38,38,17,25,"byte"],[38,42,17,29],[38,43,17,30],[38,45,18,16],[39,8,19,12,"value"],[39,13,19,17],[39,17,19,21],[39,21,19,21,"charFromCode"],[39,34,19,33],[39,35,19,33,"charFromCode"],[39,47,19,33],[39,49,19,34],[39,53,19,38],[39,54,19,39,"bytes"],[39,59,19,44],[39,60,19,45,"next"],[39,64,19,49],[39,65,19,50],[39,66,19,51],[39,67,19,52],[40,6,20,8],[41,6,21,8],[41,12,21,14,"numberValue"],[41,23,21,25],[41,26,21,28,"Number"],[41,32,21,34],[41,33,21,35,"value"],[41,38,21,40],[41,39,21,41],[42,6,22,8],[42,10,22,12],[42,11,22,13,"value"],[42,16,22,18],[42,20,22,22],[42,21,22,23,"isFinite"],[42,29,22,31],[42,30,22,32,"numberValue"],[42,41,22,43],[42,42,22,44],[42,44,22,46],[43,8,23,12],[43,14,23,18],[43,18,23,22,"NumberParsingError"],[43,27,23,40],[43,28,23,40,"NumberParsingError"],[43,46,23,40],[43,47,23,41],[43,51,23,45],[43,52,23,46,"bytes"],[43,57,23,51],[43,58,23,52,"position"],[43,66,23,60],[43,67,23,61],[43,68,23,62],[43,70,23,64,"value"],[43,75,23,69],[43,76,23,70],[44,6,24,8],[45,6,25,8],[45,13,25,15,"numberValue"],[45,24,25,26],[46,4,26,4],[47,4,27,4],[48,4,28,4],[49,4,29,4,"parseRawNumber"],[49,18,29,18,"parseRawNumber"],[49,19,29,18],[49,21,29,21],[50,6,30,8],[50,10,30,12,"value"],[50,15,30,17],[50,18,30,20],[50,20,30,22],[51,6,31,8],[52,6,32,8],[52,13,32,15],[52,14,32,16],[52,18,32,20],[52,19,32,21,"bytes"],[52,24,32,26],[52,25,32,27,"done"],[52,29,32,31],[52,30,32,32],[52,31,32,33],[52,33,32,35],[53,8,33,12],[53,14,33,18,"byte"],[53,18,33,22],[53,21,33,25],[53,25,33,29],[53,26,33,30,"bytes"],[53,31,33,35],[53,32,33,36,"peek"],[53,36,33,40],[53,37,33,41],[53,38,33,42],[54,8,34,12],[54,12,34,16],[54,13,34,17,"IsNumeric"],[54,29,34,26],[54,30,34,26,"IsNumeric"],[54,39,34,26],[54,40,34,27,"byte"],[54,44,34,31],[54,45,34,32],[54,47,35,16],[55,8,36,12,"value"],[55,13,36,17],[55,17,36,21],[55,21,36,21,"charFromCode"],[55,34,36,33],[55,35,36,33,"charFromCode"],[55,47,36,33],[55,49,36,34],[55,53,36,38],[55,54,36,39,"bytes"],[55,59,36,44],[55,60,36,45,"next"],[55,64,36,49],[55,65,36,50],[55,66,36,51],[55,67,36,52],[56,8,37,12],[56,12,37,16,"byte"],[56,16,37,20],[56,21,37,25,"CharCodes"],[56,30,37,34],[56,31,37,34,"default"],[56,38,37,34],[56,39,37,35,"Period"],[56,45,37,41],[56,47,38,16],[57,6,39,8],[58,6,40,8],[59,6,41,8],[59,13,41,15],[59,14,41,16],[59,18,41,20],[59,19,41,21,"bytes"],[59,24,41,26],[59,25,41,27,"done"],[59,29,41,31],[59,30,41,32],[59,31,41,33],[59,33,41,35],[60,8,42,12],[60,14,42,18,"byte"],[60,18,42,22],[60,21,42,25],[60,25,42,29],[60,26,42,30,"bytes"],[60,31,42,35],[60,32,42,36,"peek"],[60,36,42,40],[60,37,42,41],[60,38,42,42],[61,8,43,12],[61,12,43,16],[61,13,43,17,"IsDigit"],[61,29,43,24],[61,30,43,24,"IsDigit"],[61,37,43,24],[61,38,43,25,"byte"],[61,42,43,29],[61,43,43,30],[61,45,44,16],[62,8,45,12,"value"],[62,13,45,17],[62,17,45,21],[62,21,45,21,"charFromCode"],[62,34,45,33],[62,35,45,33,"charFromCode"],[62,47,45,33],[62,49,45,34],[62,53,45,38],[62,54,45,39,"bytes"],[62,59,45,44],[62,60,45,45,"next"],[62,64,45,49],[62,65,45,50],[62,66,45,51],[62,67,45,52],[63,6,46,8],[64,6,47,8],[64,12,47,14,"numberValue"],[64,23,47,25],[64,26,47,28,"Number"],[64,32,47,34],[64,33,47,35,"value"],[64,38,47,40],[64,39,47,41],[65,6,48,8],[65,10,48,12],[65,11,48,13,"value"],[65,16,48,18],[65,20,48,22],[65,21,48,23,"isFinite"],[65,29,48,31],[65,30,48,32,"numberValue"],[65,41,48,43],[65,42,48,44],[65,44,48,46],[66,8,49,12],[66,14,49,18],[66,18,49,22,"NumberParsingError"],[66,27,49,40],[66,28,49,40,"NumberParsingError"],[66,46,49,40],[66,47,49,41],[66,51,49,45],[66,52,49,46,"bytes"],[66,57,49,51],[66,58,49,52,"position"],[66,66,49,60],[66,67,49,61],[66,68,49,62],[66,70,49,64,"value"],[66,75,49,69],[66,76,49,70],[67,6,50,8],[68,6,51,8],[68,10,51,12,"numberValue"],[68,21,51,23],[68,24,51,26,"Number"],[68,30,51,32],[68,31,51,33,"MAX_SAFE_INTEGER"],[68,47,51,49],[68,49,51,51],[69,8,52,12],[69,12,52,16],[69,16,52,20],[69,17,52,21,"capNumbers"],[69,27,52,31],[69,29,52,33],[70,10,53,16],[70,16,53,22,"msg"],[70,19,53,25],[70,22,53,28],[70,79,53,85,"value"],[70,84,53,90],[70,126,53,132],[71,10,54,16,"console"],[71,17,54,23],[71,18,54,24,"warn"],[71,22,54,28],[71,23,54,29,"msg"],[71,26,54,32],[71,27,54,33],[72,10,55,16],[72,17,55,23,"Number"],[72,23,55,29],[72,24,55,30,"MAX_SAFE_INTEGER"],[72,40,55,46],[73,8,56,12],[73,9,56,13],[73,15,57,17],[74,10,58,16],[74,16,58,22,"msg"],[74,19,58,25],[74,22,58,28],[74,79,58,85,"value"],[74,84,58,90],[74,100,58,106],[75,10,59,16,"console"],[75,17,59,23],[75,18,59,24,"warn"],[75,22,59,28],[75,23,59,29,"msg"],[75,26,59,32],[75,27,59,33],[76,8,60,12],[77,6,61,8],[78,6,62,8],[78,13,62,15,"numberValue"],[78,24,62,26],[79,4,63,4],[80,4,64,4,"skipWhitespace"],[80,18,64,18,"skipWhitespace"],[80,19,64,18],[80,21,64,21],[81,6,65,8],[81,13,65,15],[81,14,65,16],[81,18,65,20],[81,19,65,21,"bytes"],[81,24,65,26],[81,25,65,27,"done"],[81,29,65,31],[81,30,65,32],[81,31,65,33],[81,35,65,37,"IsWhitespace"],[81,54,65,49],[81,55,65,49,"IsWhitespace"],[81,67,65,49],[81,68,65,50],[81,72,65,54],[81,73,65,55,"bytes"],[81,78,65,60],[81,79,65,61,"peek"],[81,83,65,65],[81,84,65,66],[81,85,65,67],[81,86,65,68],[81,88,65,70],[82,8,66,12],[82,12,66,16],[82,13,66,17,"bytes"],[82,18,66,22],[82,19,66,23,"next"],[82,23,66,27],[82,24,66,28],[82,25,66,29],[83,6,67,8],[84,4,68,4],[85,4,69,4,"skipLine"],[85,12,69,12,"skipLine"],[85,13,69,12],[85,15,69,15],[86,6,70,8],[86,13,70,15],[86,14,70,16],[86,18,70,20],[86,19,70,21,"bytes"],[86,24,70,26],[86,25,70,27,"done"],[86,29,70,31],[86,30,70,32],[86,31,70,33],[86,33,70,35],[87,8,71,12],[87,14,71,18,"byte"],[87,18,71,22],[87,21,71,25],[87,25,71,29],[87,26,71,30,"bytes"],[87,31,71,35],[87,32,71,36,"peek"],[87,36,71,40],[87,37,71,41],[87,38,71,42],[88,8,72,12],[88,12,72,16,"byte"],[88,16,72,20],[88,21,72,25,"Newline"],[88,28,72,32],[88,32,72,36,"byte"],[88,36,72,40],[88,41,72,45,"CarriageReturn"],[88,55,72,59],[88,57,73,16],[89,8,74,12],[89,12,74,16],[89,13,74,17,"bytes"],[89,18,74,22],[89,19,74,23,"next"],[89,23,74,27],[89,24,74,28],[89,25,74,29],[90,6,75,8],[91,4,76,4],[92,4,77,4,"skipComment"],[92,15,77,15,"skipComment"],[92,16,77,15],[92,18,77,18],[93,6,78,8],[93,10,78,12],[93,14,78,16],[93,15,78,17,"bytes"],[93,20,78,22],[93,21,78,23,"peek"],[93,25,78,27],[93,26,78,28],[93,27,78,29],[93,32,78,34,"CharCodes"],[93,41,78,43],[93,42,78,43,"default"],[93,49,78,43],[93,50,78,44,"Percent"],[93,57,78,51],[93,59,79,12],[93,66,79,19],[93,71,79,24],[94,6,80,8],[94,13,80,15],[94,14,80,16],[94,18,80,20],[94,19,80,21,"bytes"],[94,24,80,26],[94,25,80,27,"done"],[94,29,80,31],[94,30,80,32],[94,31,80,33],[94,33,80,35],[95,8,81,12],[95,14,81,18,"byte"],[95,18,81,22],[95,21,81,25],[95,25,81,29],[95,26,81,30,"bytes"],[95,31,81,35],[95,32,81,36,"peek"],[95,36,81,40],[95,37,81,41],[95,38,81,42],[96,8,82,12],[96,12,82,16,"byte"],[96,16,82,20],[96,21,82,25,"Newline"],[96,28,82,32],[96,32,82,36,"byte"],[96,36,82,40],[96,41,82,45,"CarriageReturn"],[96,55,82,59],[96,57,83,16],[96,64,83,23],[96,68,83,27],[97,8,84,12],[97,12,84,16],[97,13,84,17,"bytes"],[97,18,84,22],[97,19,84,23,"next"],[97,23,84,27],[97,24,84,28],[97,25,84,29],[98,6,85,8],[99,6,86,8],[99,13,86,15],[99,17,86,19],[100,4,87,4],[101,4,88,4,"skipWhitespaceAndComments"],[101,29,88,29,"skipWhitespaceAndComments"],[101,30,88,29],[101,32,88,32],[102,6,89,8],[102,10,89,12],[102,11,89,13,"skipWhitespace"],[102,25,89,27],[102,26,89,28],[102,27,89,29],[103,6,90,8],[103,13,90,15],[103,17,90,19],[103,18,90,20,"skipComment"],[103,29,90,31],[103,30,90,32],[103,31,90,33],[103,33,91,12],[103,37,91,16],[103,38,91,17,"skipWhitespace"],[103,52,91,31],[103,53,91,32],[103,54,91,33],[104,4,92,4],[105,4,93,4,"matchKeyword"],[105,16,93,16,"matchKeyword"],[105,17,93,17,"keyword"],[105,24,93,24],[105,26,93,26],[106,6,94,8],[106,12,94,14,"initialOffset"],[106,25,94,27],[106,28,94,30],[106,32,94,34],[106,33,94,35,"bytes"],[106,38,94,40],[106,39,94,41,"offset"],[106,45,94,47],[106,46,94,48],[106,47,94,49],[107,6,95,8],[107,11,95,13],[107,15,95,17,"idx"],[107,18,95,20],[107,21,95,23],[107,22,95,24],[107,24,95,26,"len"],[107,27,95,29],[107,30,95,32,"keyword"],[107,37,95,39],[107,38,95,40,"length"],[107,44,95,46],[107,46,95,48,"idx"],[107,49,95,51],[107,52,95,54,"len"],[107,55,95,57],[107,57,95,59,"idx"],[107,60,95,62],[107,62,95,64],[107,64,95,66],[108,8,96,12],[108,12,96,16],[108,16,96,20],[108,17,96,21,"bytes"],[108,22,96,26],[108,23,96,27,"done"],[108,27,96,31],[108,28,96,32],[108,29,96,33],[108,33,96,37],[108,37,96,41],[108,38,96,42,"bytes"],[108,43,96,47],[108,44,96,48,"next"],[108,48,96,52],[108,49,96,53],[108,50,96,54],[108,55,96,59,"keyword"],[108,62,96,66],[108,63,96,67,"idx"],[108,66,96,70],[108,67,96,71],[108,69,96,73],[109,10,97,16],[109,14,97,20],[109,15,97,21,"bytes"],[109,20,97,26],[109,21,97,27,"moveTo"],[109,27,97,33],[109,28,97,34,"initialOffset"],[109,41,97,47],[109,42,97,48],[110,10,98,16],[110,17,98,23],[110,22,98,28],[111,8,99,12],[112,6,100,8],[113,6,101,8],[113,13,101,15],[113,17,101,19],[114,4,102,4],[115,2,103,0],[116,2,104,0],[116,6,104,0,"_default"],[116,14,104,0],[116,17,104,15,"BaseParser"],[116,27,104,25],[117,0,104,26],[117,3]],"functionMap":{"names":["<global>","BaseParser","constructor","parseRawInt","parseRawNumber","skipWhitespace","skipLine","skipComment","skipWhitespaceAndComments","matchKeyword"],"mappings":"AAA;ACO;ICC;KDG;IEC;KFa;IGG;KHkC;IIC;KJI;IKC;KLO;IMC;KNU;IOC;KPI;IQC;KRS;CDC"},"hasCjsExports":false},"type":"js/module"}]}