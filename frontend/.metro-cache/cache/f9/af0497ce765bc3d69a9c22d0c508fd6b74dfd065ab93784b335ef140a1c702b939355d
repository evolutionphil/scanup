{"dependencies":[{"name":"../objects/PDFString.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"3Qhl74R91V/A3UrIdCSF7t1UGxg=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFHexString.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":54,"index":103}}],"key":"6YgZriOXHpqHcpt3Yy3oAwRvFRA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"AFRelationship\", {\n    enumerable: true,\n    get: function () {\n      return AFRelationship;\n    }\n  });\n  var _objectsPDFStringJs = require(_dependencyMap[0], \"../objects/PDFString.js\");\n  var PDFString = _interopDefault(_objectsPDFStringJs);\n  var _objectsPDFHexStringJs = require(_dependencyMap[1], \"../objects/PDFHexString.js\");\n  var PDFHexString = _interopDefault(_objectsPDFHexStringJs);\n  /**\n   * From the PDF-A3 specification, section **3.1. Requirements - General**.\n   * See:\n   * * https://www.pdfa.org/wp-content/uploads/2018/10/PDF20_AN002-AF.pdf\n   */\n  var AFRelationship;\n  (function (AFRelationship) {\n    AFRelationship[\"Source\"] = \"Source\";\n    AFRelationship[\"Data\"] = \"Data\";\n    AFRelationship[\"Alternative\"] = \"Alternative\";\n    AFRelationship[\"Supplement\"] = \"Supplement\";\n    AFRelationship[\"EncryptedPayload\"] = \"EncryptedPayload\";\n    AFRelationship[\"FormData\"] = \"EncryptedPayload\";\n    AFRelationship[\"Schema\"] = \"Schema\";\n    AFRelationship[\"Unspecified\"] = \"Unspecified\";\n  })(AFRelationship || (AFRelationship = {}));\n  class FileEmbedder {\n    static for(bytes, fileName, options = {}) {\n      return new FileEmbedder(bytes, fileName, options);\n    }\n    constructor(fileData, fileName, options = {}) {\n      this.fileData = fileData;\n      this.fileName = fileName;\n      this.options = options;\n    }\n    async embedIntoContext(context, ref) {\n      const {\n        mimeType,\n        description,\n        creationDate,\n        modificationDate,\n        afRelationship\n      } = this.options;\n      const embeddedFileStream = context.flateStream(this.fileData, {\n        Type: 'EmbeddedFile',\n        Subtype: mimeType !== null && mimeType !== void 0 ? mimeType : undefined,\n        Params: {\n          Size: this.fileData.length,\n          CreationDate: creationDate ? PDFString.default.fromDate(creationDate) : undefined,\n          ModDate: modificationDate ? PDFString.default.fromDate(modificationDate) : undefined\n        }\n      });\n      const embeddedFileStreamRef = context.register(embeddedFileStream);\n      const fileSpecDict = context.obj({\n        Type: 'Filespec',\n        F: PDFString.default.of(this.fileName),\n        UF: PDFHexString.default.fromText(this.fileName),\n        EF: {\n          F: embeddedFileStreamRef\n        },\n        Desc: description ? PDFHexString.default.fromText(description) : undefined,\n        AFRelationship: afRelationship !== null && afRelationship !== void 0 ? afRelationship : undefined\n      });\n      if (ref) {\n        context.assign(ref, fileSpecDict);\n        return ref;\n      } else {\n        return context.register(fileSpecDict);\n      }\n    }\n  }\n  var _default = FileEmbedder;\n});","lineCount":90,"map":[[12,2,61,0,"Object"],[12,8,61,0],[12,9,61,0,"defineProperty"],[12,23,61,0],[12,24,61,0,"exports"],[12,31,61,0],[13,4,61,0,"enumerable"],[13,14,61,0],[14,4,61,0,"get"],[14,7,61,0],[14,18,61,0,"get"],[14,19,61,0],[15,6,61,0],[15,13,61,0,"_default"],[15,21,61,0],[16,4,61,0],[17,2,61,0],[18,2,8,0,"Object"],[18,8,8,0],[18,9,8,0,"defineProperty"],[18,23,8,0],[18,24,8,0,"exports"],[18,31,8,0],[19,4,8,0,"enumerable"],[19,14,8,0],[20,4,8,0,"get"],[20,7,8,0],[20,18,8,0,"get"],[20,19,8,0],[21,6,8,0],[21,13,8,0,"AFRelationship"],[21,27,8,0],[22,4,8,0],[23,2,8,0],[24,2,1,0],[24,6,1,0,"_objectsPDFStringJs"],[24,25,1,0],[24,28,1,0,"require"],[24,35,1,0],[24,36,1,0,"_dependencyMap"],[24,50,1,0],[25,2,1,0],[25,6,1,0,"PDFString"],[25,15,1,0],[25,18,1,0,"_interopDefault"],[25,33,1,0],[25,34,1,0,"_objectsPDFStringJs"],[25,53,1,0],[26,2,2,0],[26,6,2,0,"_objectsPDFHexStringJs"],[26,28,2,0],[26,31,2,0,"require"],[26,38,2,0],[26,39,2,0,"_dependencyMap"],[26,53,2,0],[27,2,2,0],[27,6,2,0,"PDFHexString"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_objectsPDFHexStringJs"],[27,59,2,0],[28,2,3,0],[29,0,4,0],[30,0,5,0],[31,0,6,0],[32,0,7,0],[33,2,8,7],[33,6,8,11,"AFRelationship"],[33,20,8,25],[34,2,9,0],[34,3,9,1],[34,13,9,11,"AFRelationship"],[34,27,9,25],[34,29,9,27],[35,4,10,4,"AFRelationship"],[35,18,10,18],[35,19,10,19],[35,27,10,27],[35,28,10,28],[35,31,10,31],[35,39,10,39],[36,4,11,4,"AFRelationship"],[36,18,11,18],[36,19,11,19],[36,25,11,25],[36,26,11,26],[36,29,11,29],[36,35,11,35],[37,4,12,4,"AFRelationship"],[37,18,12,18],[37,19,12,19],[37,32,12,32],[37,33,12,33],[37,36,12,36],[37,49,12,49],[38,4,13,4,"AFRelationship"],[38,18,13,18],[38,19,13,19],[38,31,13,31],[38,32,13,32],[38,35,13,35],[38,47,13,47],[39,4,14,4,"AFRelationship"],[39,18,14,18],[39,19,14,19],[39,37,14,37],[39,38,14,38],[39,41,14,41],[39,59,14,59],[40,4,15,4,"AFRelationship"],[40,18,15,18],[40,19,15,19],[40,29,15,29],[40,30,15,30],[40,33,15,33],[40,51,15,51],[41,4,16,4,"AFRelationship"],[41,18,16,18],[41,19,16,19],[41,27,16,27],[41,28,16,28],[41,31,16,31],[41,39,16,39],[42,4,17,4,"AFRelationship"],[42,18,17,18],[42,19,17,19],[42,32,17,32],[42,33,17,33],[42,36,17,36],[42,49,17,49],[43,2,18,0],[43,3,18,1],[43,5,18,3,"AFRelationship"],[43,19,18,17],[43,24,18,22,"AFRelationship"],[43,38,18,36],[43,41,18,39],[43,42,18,40],[43,43,18,41],[43,44,18,42],[43,45,18,43],[44,2,19,0],[44,8,19,6,"FileEmbedder"],[44,20,19,18],[44,21,19,19],[45,4,20,4],[45,11,20,11,"for"],[45,14,20,14,"for"],[45,15,20,15,"bytes"],[45,20,20,20],[45,22,20,22,"fileName"],[45,30,20,30],[45,32,20,32,"options"],[45,39,20,39],[45,42,20,42],[45,43,20,43],[45,44,20,44],[45,46,20,46],[46,6,21,8],[46,13,21,15],[46,17,21,19,"FileEmbedder"],[46,29,21,31],[46,30,21,32,"bytes"],[46,35,21,37],[46,37,21,39,"fileName"],[46,45,21,47],[46,47,21,49,"options"],[46,54,21,56],[46,55,21,57],[47,4,22,4],[48,4,23,4,"constructor"],[48,15,23,15,"constructor"],[48,16,23,16,"fileData"],[48,24,23,24],[48,26,23,26,"fileName"],[48,34,23,34],[48,36,23,36,"options"],[48,43,23,43],[48,46,23,46],[48,47,23,47],[48,48,23,48],[48,50,23,50],[49,6,24,8],[49,10,24,12],[49,11,24,13,"fileData"],[49,19,24,21],[49,22,24,24,"fileData"],[49,30,24,32],[50,6,25,8],[50,10,25,12],[50,11,25,13,"fileName"],[50,19,25,21],[50,22,25,24,"fileName"],[50,30,25,32],[51,6,26,8],[51,10,26,12],[51,11,26,13,"options"],[51,18,26,20],[51,21,26,23,"options"],[51,28,26,30],[52,4,27,4],[53,4,28,4],[53,10,28,10,"embedIntoContext"],[53,26,28,26,"embedIntoContext"],[53,27,28,27,"context"],[53,34,28,34],[53,36,28,36,"ref"],[53,39,28,39],[53,41,28,41],[54,6,29,8],[54,12,29,14],[55,8,29,16,"mimeType"],[55,16,29,24],[56,8,29,26,"description"],[56,19,29,37],[57,8,29,39,"creationDate"],[57,20,29,51],[58,8,29,53,"modificationDate"],[58,24,29,69],[59,8,29,71,"afRelationship"],[60,6,29,87],[60,7,29,88],[60,10,29,91],[60,14,29,95],[60,15,29,96,"options"],[60,22,29,103],[61,6,30,8],[61,12,30,14,"embeddedFileStream"],[61,30,30,32],[61,33,30,35,"context"],[61,40,30,42],[61,41,30,43,"flateStream"],[61,52,30,54],[61,53,30,55],[61,57,30,59],[61,58,30,60,"fileData"],[61,66,30,68],[61,68,30,70],[62,8,31,12,"Type"],[62,12,31,16],[62,14,31,18],[62,28,31,32],[63,8,32,12,"Subtype"],[63,15,32,19],[63,17,32,21,"mimeType"],[63,25,32,29],[63,30,32,34],[63,34,32,38],[63,38,32,42,"mimeType"],[63,46,32,50],[63,51,32,55],[63,56,32,60],[63,57,32,61],[63,60,32,64,"mimeType"],[63,68,32,72],[63,71,32,75,"undefined"],[63,80,32,84],[64,8,33,12,"Params"],[64,14,33,18],[64,16,33,20],[65,10,34,16,"Size"],[65,14,34,20],[65,16,34,22],[65,20,34,26],[65,21,34,27,"fileData"],[65,29,34,35],[65,30,34,36,"length"],[65,36,34,42],[66,10,35,16,"CreationDate"],[66,22,35,28],[66,24,35,30,"creationDate"],[66,36,35,42],[66,39,36,22,"PDFString"],[66,48,36,31],[66,49,36,31,"default"],[66,56,36,31],[66,57,36,32,"fromDate"],[66,65,36,40],[66,66,36,41,"creationDate"],[66,78,36,53],[66,79,36,54],[66,82,37,22,"undefined"],[66,91,37,31],[67,10,38,16,"ModDate"],[67,17,38,23],[67,19,38,25,"modificationDate"],[67,35,38,41],[67,38,39,22,"PDFString"],[67,47,39,31],[67,48,39,31,"default"],[67,55,39,31],[67,56,39,32,"fromDate"],[67,64,39,40],[67,65,39,41,"modificationDate"],[67,81,39,57],[67,82,39,58],[67,85,40,22,"undefined"],[68,8,41,12],[69,6,42,8],[69,7,42,9],[69,8,42,10],[70,6,43,8],[70,12,43,14,"embeddedFileStreamRef"],[70,33,43,35],[70,36,43,38,"context"],[70,43,43,45],[70,44,43,46,"register"],[70,52,43,54],[70,53,43,55,"embeddedFileStream"],[70,71,43,73],[70,72,43,74],[71,6,44,8],[71,12,44,14,"fileSpecDict"],[71,24,44,26],[71,27,44,29,"context"],[71,34,44,36],[71,35,44,37,"obj"],[71,38,44,40],[71,39,44,41],[72,8,45,12,"Type"],[72,12,45,16],[72,14,45,18],[72,24,45,28],[73,8,46,12,"F"],[73,9,46,13],[73,11,46,15,"PDFString"],[73,20,46,24],[73,21,46,24,"default"],[73,28,46,24],[73,29,46,25,"of"],[73,31,46,27],[73,32,46,28],[73,36,46,32],[73,37,46,33,"fileName"],[73,45,46,41],[73,46,46,42],[74,8,47,12,"UF"],[74,10,47,14],[74,12,47,16,"PDFHexString"],[74,24,47,28],[74,25,47,28,"default"],[74,32,47,28],[74,33,47,29,"fromText"],[74,41,47,37],[74,42,47,38],[74,46,47,42],[74,47,47,43,"fileName"],[74,55,47,51],[74,56,47,52],[75,8,48,12,"EF"],[75,10,48,14],[75,12,48,16],[76,10,48,18,"F"],[76,11,48,19],[76,13,48,21,"embeddedFileStreamRef"],[77,8,48,43],[77,9,48,44],[78,8,49,12,"Desc"],[78,12,49,16],[78,14,49,18,"description"],[78,25,49,29],[78,28,49,32,"PDFHexString"],[78,40,49,44],[78,41,49,44,"default"],[78,48,49,44],[78,49,49,45,"fromText"],[78,57,49,53],[78,58,49,54,"description"],[78,69,49,65],[78,70,49,66],[78,73,49,69,"undefined"],[78,82,49,78],[79,8,50,12,"AFRelationship"],[79,22,50,26],[79,24,50,28,"afRelationship"],[79,38,50,42],[79,43,50,47],[79,47,50,51],[79,51,50,55,"afRelationship"],[79,65,50,69],[79,70,50,74],[79,75,50,79],[79,76,50,80],[79,79,50,83,"afRelationship"],[79,93,50,97],[79,96,50,100,"undefined"],[80,6,51,8],[80,7,51,9],[80,8,51,10],[81,6,52,8],[81,10,52,12,"ref"],[81,13,52,15],[81,15,52,17],[82,8,53,12,"context"],[82,15,53,19],[82,16,53,20,"assign"],[82,22,53,26],[82,23,53,27,"ref"],[82,26,53,30],[82,28,53,32,"fileSpecDict"],[82,40,53,44],[82,41,53,45],[83,8,54,12],[83,15,54,19,"ref"],[83,18,54,22],[84,6,55,8],[84,7,55,9],[84,13,56,13],[85,8,57,12],[85,15,57,19,"context"],[85,22,57,26],[85,23,57,27,"register"],[85,31,57,35],[85,32,57,36,"fileSpecDict"],[85,44,57,48],[85,45,57,49],[86,6,58,8],[87,4,59,4],[88,2,60,0],[89,2,61,0],[89,6,61,0,"_default"],[89,14,61,0],[89,17,61,15,"FileEmbedder"],[89,29,61,27],[90,0,61,28],[90,3]],"functionMap":{"names":["<global>","<anonymous>","FileEmbedder","_for","constructor","embedIntoContext"],"mappings":"AAA;CCQ;CDS;AEC;ICC;KDE;IEC;KFI;IGC;KH+B;CFC"},"hasCjsExports":false},"type":"js/module"}]}