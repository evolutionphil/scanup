{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../core/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":76,"index":76}}],"key":"uYibmgiuaz/CrXy37RQIsJGcmz0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return PDFJavaScript;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _coreIndexJs = require(_dependencyMap[3], \"../core/index.js\");\n  /**\n   * Represents JavaScript that has been embedded in a [[PDFDocument]].\n   */\n  var PDFJavaScript = /*#__PURE__*/function () {\n    function PDFJavaScript(ref, doc, embedder) {\n      (0, _classCallCheck.default)(this, PDFJavaScript);\n      this.alreadyEmbedded = false;\n      this.ref = ref;\n      this.doc = doc;\n      this.embedder = embedder;\n    }\n    /**\n     * > **NOTE:** You probably don't need to call this method directly. The\n     * > [[PDFDocument.save]] and [[PDFDocument.saveAsBase64]] methods will\n     * > automatically ensure all JavaScripts get embedded.\n     *\n     * Embed this JavaScript in its document.\n     *\n     * @returns Resolves when the embedding is complete.\n     */\n    return (0, _createClass.default)(PDFJavaScript, [{\n      key: \"embed\",\n      value: (function () {\n        var _embed = (0, _asyncToGenerator.default)(function* () {\n          if (!this.alreadyEmbedded) {\n            var _this$doc = this.doc,\n              catalog = _this$doc.catalog,\n              context = _this$doc.context;\n            var ref = yield this.embedder.embedIntoContext(this.doc.context, this.ref);\n            if (!catalog.has(_coreIndexJs.PDFName.of('Names'))) {\n              catalog.set(_coreIndexJs.PDFName.of('Names'), context.obj({}));\n            }\n            var Names = catalog.lookup(_coreIndexJs.PDFName.of('Names'), _coreIndexJs.PDFDict);\n            if (!Names.has(_coreIndexJs.PDFName.of('JavaScript'))) {\n              Names.set(_coreIndexJs.PDFName.of('JavaScript'), context.obj({}));\n            }\n            var Javascript = Names.lookup(_coreIndexJs.PDFName.of('JavaScript'), _coreIndexJs.PDFDict);\n            if (!Javascript.has(_coreIndexJs.PDFName.of('Names'))) {\n              Javascript.set(_coreIndexJs.PDFName.of('Names'), context.obj([]));\n            }\n            var JSNames = Javascript.lookup(_coreIndexJs.PDFName.of('Names'), _coreIndexJs.PDFArray);\n            JSNames.push(_coreIndexJs.PDFHexString.fromText(this.embedder.scriptName));\n            JSNames.push(ref);\n            this.alreadyEmbedded = true;\n          }\n        });\n        function embed() {\n          return _embed.apply(this, arguments);\n        }\n        return embed;\n      }())\n    }]);\n  }();\n  /**\n   * > **NOTE:** You probably don't want to call this method directly. Instead,\n   * > consider using the [[PDFDocument.addJavaScript]] method, which will\n   * create instances of [[PDFJavaScript]] for you.\n   *\n   * Create an instance of [[PDFJavaScript]] from an existing ref and script\n   *\n   * @param ref The unique reference for this script.\n   * @param doc The document to which the script will belong.\n   * @param embedder The embedder that will be used to embed the script.\n   */\n  PDFJavaScript.of = (ref, doc, embedder) => new PDFJavaScript(ref, doc, embedder);\n});","lineCount":90,"map":[[15,13,5,21,"PDFJavaScript"],[15,26,5,34],[16,4,5,34],[17,2,5,34],[18,2,5,34],[18,6,5,34,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,5,34],[18,45,5,34,"require"],[18,52,5,34],[18,53,5,34,"_dependencyMap"],[18,67,5,34],[19,2,5,34],[19,6,5,34,"_asyncToGenerator"],[19,23,5,34],[19,26,5,34,"_interopDefault"],[19,41,5,34],[19,42,5,34,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,5,34],[20,2,5,34],[20,6,5,34,"_babelRuntimeHelpersClassCallCheck"],[20,40,5,34],[20,43,5,34,"require"],[20,50,5,34],[20,51,5,34,"_dependencyMap"],[20,65,5,34],[21,2,5,34],[21,6,5,34,"_classCallCheck"],[21,21,5,34],[21,24,5,34,"_interopDefault"],[21,39,5,34],[21,40,5,34,"_babelRuntimeHelpersClassCallCheck"],[21,74,5,34],[22,2,5,34],[22,6,5,34,"_babelRuntimeHelpersCreateClass"],[22,37,5,34],[22,40,5,34,"require"],[22,47,5,34],[22,48,5,34,"_dependencyMap"],[22,62,5,34],[23,2,5,34],[23,6,5,34,"_createClass"],[23,18,5,34],[23,21,5,34,"_interopDefault"],[23,36,5,34],[23,37,5,34,"_babelRuntimeHelpersCreateClass"],[23,68,5,34],[24,2,1,0],[24,6,1,0,"_coreIndexJs"],[24,18,1,0],[24,21,1,0,"require"],[24,28,1,0],[24,29,1,0,"_dependencyMap"],[24,43,1,0],[25,2,2,0],[26,0,3,0],[27,0,4,0],[28,2,2,0],[28,6,5,21,"PDFJavaScript"],[28,19,5,34],[29,4,6,4],[29,13,6,4,"PDFJavaScript"],[29,27,6,16,"ref"],[29,30,6,19],[29,32,6,21,"doc"],[29,35,6,24],[29,37,6,26,"embedder"],[29,45,6,34],[29,47,6,36],[30,6,6,36],[30,10,6,36,"_classCallCheck"],[30,25,6,36],[30,26,6,36,"default"],[30,33,6,36],[30,41,6,36,"PDFJavaScript"],[30,54,6,36],[31,6,7,8],[31,10,7,12],[31,11,7,13,"alreadyEmbedded"],[31,26,7,28],[31,29,7,31],[31,34,7,36],[32,6,8,8],[32,10,8,12],[32,11,8,13,"ref"],[32,14,8,16],[32,17,8,19,"ref"],[32,20,8,22],[33,6,9,8],[33,10,9,12],[33,11,9,13,"doc"],[33,14,9,16],[33,17,9,19,"doc"],[33,20,9,22],[34,6,10,8],[34,10,10,12],[34,11,10,13,"embedder"],[34,19,10,21],[34,22,10,24,"embedder"],[34,30,10,32],[35,4,11,4],[36,4,12,4],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[41,0,17,0],[42,0,18,0],[43,0,19,0],[44,0,20,0],[45,4,12,4],[45,15,12,4,"_createClass"],[45,27,12,4],[45,28,12,4,"default"],[45,35,12,4],[45,37,12,4,"PDFJavaScript"],[45,50,12,4],[46,6,12,4,"key"],[46,9,12,4],[47,6,12,4,"value"],[47,11,12,4],[48,8,12,4],[48,12,12,4,"_embed"],[48,18,12,4],[48,25,12,4,"_asyncToGenerator"],[48,42,12,4],[48,43,12,4,"default"],[48,50,12,4],[48,52,21,4],[48,65,21,18],[49,10,22,8],[49,14,22,12],[49,15,22,13],[49,19,22,17],[49,20,22,18,"alreadyEmbedded"],[49,35,22,33],[49,37,22,35],[50,12,23,12],[50,16,23,12,"_this$doc"],[50,25,23,12],[50,28,23,41],[50,32,23,45],[50,33,23,46,"doc"],[50,36,23,49],[51,14,23,20,"catalog"],[51,21,23,27],[51,24,23,27,"_this$doc"],[51,33,23,27],[51,34,23,20,"catalog"],[51,41,23,27],[52,14,23,29,"context"],[52,21,23,36],[52,24,23,36,"_this$doc"],[52,33,23,36],[52,34,23,29,"context"],[52,41,23,36],[53,12,24,12],[53,16,24,18,"ref"],[53,19,24,21],[53,28,24,30],[53,32,24,34],[53,33,24,35,"embedder"],[53,41,24,43],[53,42,24,44,"embedIntoContext"],[53,58,24,60],[53,59,24,61],[53,63,24,65],[53,64,24,66,"doc"],[53,67,24,69],[53,68,24,70,"context"],[53,75,24,77],[53,77,24,79],[53,81,24,83],[53,82,24,84,"ref"],[53,85,24,87],[53,86,24,88],[54,12,25,12],[54,16,25,16],[54,17,25,17,"catalog"],[54,24,25,24],[54,25,25,25,"has"],[54,28,25,28],[54,29,25,29,"PDFName"],[54,41,25,36],[54,42,25,36,"PDFName"],[54,49,25,36],[54,50,25,37,"of"],[54,52,25,39],[54,53,25,40],[54,60,25,47],[54,61,25,48],[54,62,25,49],[54,64,25,51],[55,14,26,16,"catalog"],[55,21,26,23],[55,22,26,24,"set"],[55,25,26,27],[55,26,26,28,"PDFName"],[55,38,26,35],[55,39,26,35,"PDFName"],[55,46,26,35],[55,47,26,36,"of"],[55,49,26,38],[55,50,26,39],[55,57,26,46],[55,58,26,47],[55,60,26,49,"context"],[55,67,26,56],[55,68,26,57,"obj"],[55,71,26,60],[55,72,26,61],[55,73,26,62],[55,74,26,63],[55,75,26,64],[55,76,26,65],[56,12,27,12],[57,12,28,12],[57,16,28,18,"Names"],[57,21,28,23],[57,24,28,26,"catalog"],[57,31,28,33],[57,32,28,34,"lookup"],[57,38,28,40],[57,39,28,41,"PDFName"],[57,51,28,48],[57,52,28,48,"PDFName"],[57,59,28,48],[57,60,28,49,"of"],[57,62,28,51],[57,63,28,52],[57,70,28,59],[57,71,28,60],[57,73,28,62,"PDFDict"],[57,85,28,69],[57,86,28,69,"PDFDict"],[57,93,28,69],[57,94,28,70],[58,12,29,12],[58,16,29,16],[58,17,29,17,"Names"],[58,22,29,22],[58,23,29,23,"has"],[58,26,29,26],[58,27,29,27,"PDFName"],[58,39,29,34],[58,40,29,34,"PDFName"],[58,47,29,34],[58,48,29,35,"of"],[58,50,29,37],[58,51,29,38],[58,63,29,50],[58,64,29,51],[58,65,29,52],[58,67,29,54],[59,14,30,16,"Names"],[59,19,30,21],[59,20,30,22,"set"],[59,23,30,25],[59,24,30,26,"PDFName"],[59,36,30,33],[59,37,30,33,"PDFName"],[59,44,30,33],[59,45,30,34,"of"],[59,47,30,36],[59,48,30,37],[59,60,30,49],[59,61,30,50],[59,63,30,52,"context"],[59,70,30,59],[59,71,30,60,"obj"],[59,74,30,63],[59,75,30,64],[59,76,30,65],[59,77,30,66],[59,78,30,67],[59,79,30,68],[60,12,31,12],[61,12,32,12],[61,16,32,18,"Javascript"],[61,26,32,28],[61,29,32,31,"Names"],[61,34,32,36],[61,35,32,37,"lookup"],[61,41,32,43],[61,42,32,44,"PDFName"],[61,54,32,51],[61,55,32,51,"PDFName"],[61,62,32,51],[61,63,32,52,"of"],[61,65,32,54],[61,66,32,55],[61,78,32,67],[61,79,32,68],[61,81,32,70,"PDFDict"],[61,93,32,77],[61,94,32,77,"PDFDict"],[61,101,32,77],[61,102,32,78],[62,12,33,12],[62,16,33,16],[62,17,33,17,"Javascript"],[62,27,33,27],[62,28,33,28,"has"],[62,31,33,31],[62,32,33,32,"PDFName"],[62,44,33,39],[62,45,33,39,"PDFName"],[62,52,33,39],[62,53,33,40,"of"],[62,55,33,42],[62,56,33,43],[62,63,33,50],[62,64,33,51],[62,65,33,52],[62,67,33,54],[63,14,34,16,"Javascript"],[63,24,34,26],[63,25,34,27,"set"],[63,28,34,30],[63,29,34,31,"PDFName"],[63,41,34,38],[63,42,34,38,"PDFName"],[63,49,34,38],[63,50,34,39,"of"],[63,52,34,41],[63,53,34,42],[63,60,34,49],[63,61,34,50],[63,63,34,52,"context"],[63,70,34,59],[63,71,34,60,"obj"],[63,74,34,63],[63,75,34,64],[63,77,34,66],[63,78,34,67],[63,79,34,68],[64,12,35,12],[65,12,36,12],[65,16,36,18,"JSNames"],[65,23,36,25],[65,26,36,28,"Javascript"],[65,36,36,38],[65,37,36,39,"lookup"],[65,43,36,45],[65,44,36,46,"PDFName"],[65,56,36,53],[65,57,36,53,"PDFName"],[65,64,36,53],[65,65,36,54,"of"],[65,67,36,56],[65,68,36,57],[65,75,36,64],[65,76,36,65],[65,78,36,67,"PDFArray"],[65,90,36,75],[65,91,36,75,"PDFArray"],[65,99,36,75],[65,100,36,76],[66,12,37,12,"JSNames"],[66,19,37,19],[66,20,37,20,"push"],[66,24,37,24],[66,25,37,25,"PDFHexString"],[66,37,37,37],[66,38,37,37,"PDFHexString"],[66,50,37,37],[66,51,37,38,"fromText"],[66,59,37,46],[66,60,37,47],[66,64,37,51],[66,65,37,52,"embedder"],[66,73,37,60],[66,74,37,61,"scriptName"],[66,84,37,71],[66,85,37,72],[66,86,37,73],[67,12,38,12,"JSNames"],[67,19,38,19],[67,20,38,20,"push"],[67,24,38,24],[67,25,38,25,"ref"],[67,28,38,28],[67,29,38,29],[68,12,39,12],[68,16,39,16],[68,17,39,17,"alreadyEmbedded"],[68,32,39,32],[68,35,39,35],[68,39,39,39],[69,10,40,8],[70,8,41,4],[70,9,41,5],[71,8,41,5],[71,17,21,10,"embed"],[71,22,21,15,"embed"],[71,23,21,15],[72,10,21,15],[72,17,21,15,"_embed"],[72,23,21,15],[72,24,21,15,"apply"],[72,29,21,15],[72,36,21,15,"arguments"],[72,45,21,15],[73,8,21,15],[74,8,21,15],[74,15,21,10,"embed"],[74,20,21,15],[75,6,21,15],[76,4,21,15],[77,2,21,15],[78,2,43,0],[79,0,44,0],[80,0,45,0],[81,0,46,0],[82,0,47,0],[83,0,48,0],[84,0,49,0],[85,0,50,0],[86,0,51,0],[87,0,52,0],[88,0,53,0],[89,2,54,0,"PDFJavaScript"],[89,15,54,13],[89,16,54,14,"of"],[89,18,54,16],[89,21,54,19],[89,22,54,20,"ref"],[89,25,54,23],[89,27,54,25,"doc"],[89,30,54,28],[89,32,54,30,"embedder"],[89,40,54,38],[89,45,54,43],[89,49,54,47,"PDFJavaScript"],[89,62,54,60],[89,63,54,61,"ref"],[89,66,54,64],[89,68,54,66,"doc"],[89,71,54,69],[89,73,54,71,"embedder"],[89,81,54,79],[89,82,54,80],[90,0,54,81],[90,3]],"functionMap":{"names":["<global>","PDFJavaScript","constructor","embed","of"],"mappings":"AAA;eCI;ICC;KDK;IEU;KFoB;CDC;mBIY,6DJ"},"hasCjsExports":false},"type":"js/module"}]}