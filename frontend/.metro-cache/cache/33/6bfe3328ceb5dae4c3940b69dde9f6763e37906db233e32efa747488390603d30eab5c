{"dependencies":[{"name":"../CameraError","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"rDg0+dt7WDtPPXvuT9EhGqNjS6Y=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),e.getCameraFormat=function(s,p){const n=o(p);let h=s.formats[0];if(null==h)throw new t.CameraRuntimeError('device/invalid-device',`The given Camera Device (${s.id}) does not have any formats!`);for(const t of s.formats){let o=0,s=0;if(null!=n.videoResolution){const p=h.videoWidth*h.videoHeight,u=t.videoWidth*t.videoHeight;if('max'===n.videoResolution.target)p>u&&(o+=n.videoResolution.priority),u>p&&(s+=n.videoResolution.priority);else{const t=n.videoResolution.target.width*n.videoResolution.target.height,h=Math.abs(p-t),l=Math.abs(u-t);h<l&&(o+=n.videoResolution.priority),l<h&&(s+=n.videoResolution.priority)}}if(null!=n.photoResolution){const p=h.photoWidth*h.photoHeight,u=t.photoWidth*t.photoHeight;if('max'===n.photoResolution.target)p>u&&(o+=n.photoResolution.priority),u>p&&(s+=n.photoResolution.priority);else{const t=n.photoResolution.target.width*n.photoResolution.target.height,h=Math.abs(p-t),l=Math.abs(u-t);h<l&&(o+=n.photoResolution.priority),l<h&&(s+=n.photoResolution.priority)}}if(null!=n.videoAspectRatio){const p=h.videoWidth/h.videoHeight,u=t.videoWidth/t.videoHeight,l=Math.abs(p-n.videoAspectRatio.target),v=Math.abs(u-n.videoAspectRatio.target);l<v&&(o+=n.videoAspectRatio.priority),v<l&&(s+=n.videoAspectRatio.priority)}if(null!=n.photoAspectRatio){const p=h.photoWidth/h.photoHeight,u=t.photoWidth/t.photoHeight,l=Math.abs(p-n.photoAspectRatio.target),v=Math.abs(u-n.photoAspectRatio.target);l<v&&(o+=n.photoAspectRatio.priority),v<l&&(s+=n.photoAspectRatio.priority)}null!=n.fps&&('max'===n.fps.target?(h.maxFps>t.maxFps&&(o+=n.fps.priority),t.maxFps>h.maxFps&&(s+=n.fps.priority)):(h.maxFps>=n.fps.target&&(o+=n.fps.priority),t.maxFps>=n.fps.target&&(s+=n.fps.priority))),null!=n.iso&&('max'===n.iso.target?(h.maxISO>t.maxISO&&(o+=n.iso.priority),t.maxISO>h.maxISO&&(s+=n.iso.priority)):'min'===n.iso.target?(h.minISO<t.minISO&&(o+=n.iso.priority),t.minISO<h.minISO&&(s+=n.iso.priority)):(n.iso.target>=h.minISO&&n.iso.target<=h.maxISO&&(o+=n.iso.priority),n.iso.target>=t.minISO&&n.iso.target<=t.maxISO&&(s+=n.iso.priority))),null!=n.videoStabilizationMode&&(h.videoStabilizationModes.includes(n.videoStabilizationMode.target)&&(o+=n.videoStabilizationMode.priority),t.videoStabilizationModes.includes(n.videoStabilizationMode.target)&&(s+=n.videoStabilizationMode.priority)),null!=n.photoHdr&&(h.supportsPhotoHdr===n.photoHdr.target&&(o+=n.photoHdr.priority),t.supportsPhotoHdr===n.photoHdr.target&&(s+=n.photoHdr.priority)),null!=n.videoHdr&&(h.supportsVideoHdr===n.videoHdr.target&&(o+=n.videoHdr.priority),t.supportsVideoHdr===n.videoHdr.target&&(s+=n.videoHdr.priority)),null!=n.autoFocusSystem&&(h.autoFocusSystem===n.autoFocusSystem.target&&(o+=n.autoFocusSystem.priority),t.autoFocusSystem===n.autoFocusSystem.target&&(s+=n.autoFocusSystem.priority)),s>o&&(h=t)}return h};var t=r(d[0]);function o(t){return t.reduce((o,s,p)=>{for(const n in s)o[n]={target:s[n],priority:t.length-p};return o},{})}});","lineCount":1,"map":[[1,90,35,0,"e"],[1,92,35,0,"getCameraFormat"],[1,108,35,7],[1,117,35,32,"device"],[1,119,35,40,"filters"],[1,122,37,2],[1,128,37,8,"filter"],[1,130,37,17,"filtersToFilterMap"],[1,132,37,36,"filters"],[1,135,38,2],[1,139,38,6,"bestFormat"],[1,141,38,19,"device"],[1,143,38,26,"formats"],[1,151,38,34],[1,154,39,2],[1,157,39,20],[1,163,39,6,"bestFormat"],[1,165,39,26],[1,171,39,32],[1,175,39,36,"CameraRuntimeError"],[1,177,39,54,"CameraRuntimeError"],[1,196,39,55],[1,220,39,80],[1,248,39,108,"device"],[1,250,39,115,"id"],[1,284,42,2],[1,288,42,7],[1,294,42,13,"format"],[1,299,42,23,"device"],[1,301,42,30,"formats"],[1,309,42,39],[1,310,43,4],[1,314,43,8,"leftPoints"],[1,316,43,21],[1,318,44,8,"rightPoints"],[1,320,44,22],[1,322,47,4],[1,325,47,34],[1,331,47,8,"filter"],[1,333,47,15,"videoResolution"],[1,349,47,40],[1,350,48,6],[1,356,48,12,"leftVideoResolution"],[1,358,48,34,"bestFormat"],[1,360,48,45,"videoWidth"],[1,371,48,58,"bestFormat"],[1,373,48,69,"videoHeight"],[1,385,49,12,"rightVideoResolution"],[1,387,49,35,"format"],[1,389,49,42,"videoWidth"],[1,400,49,55,"format"],[1,402,49,62,"videoHeight"],[1,414,50,6],[1,417,50,44],[1,425,50,10,"filter"],[1,427,50,17,"videoResolution"],[1,443,50,33,"target"],[1,450,52,12,"leftVideoResolution"],[1,452,52,34,"rightVideoResolution"],[1,456,52,56,"leftPoints"],[1,459,52,70,"filter"],[1,461,52,77,"videoResolution"],[1,477,52,93,"priority"],[1,487,53,12,"rightVideoResolution"],[1,489,53,35,"leftVideoResolution"],[1,493,53,56,"rightPoints"],[1,496,53,71,"filter"],[1,498,53,78,"videoResolution"],[1,514,53,94,"priority"],[1,528,54,13],[1,529,56,8],[1,535,56,14,"targetResolution"],[1,537,56,33,"filter"],[1,539,56,40,"videoResolution"],[1,555,56,56,"target"],[1,562,56,63,"width"],[1,568,56,71,"filter"],[1,570,56,78,"videoResolution"],[1,586,56,94,"target"],[1,593,56,101,"height"],[1,600,57,14,"leftDiff"],[1,602,57,25,"Math"],[1,607,57,30,"abs"],[1,611,57,34,"leftVideoResolution"],[1,613,57,56,"targetResolution"],[1,616,58,14,"rightDiff"],[1,618,58,26,"Math"],[1,623,58,31,"abs"],[1,627,58,35,"rightVideoResolution"],[1,629,58,58,"targetResolution"],[1,632,59,12,"leftDiff"],[1,634,59,23,"rightDiff"],[1,638,59,34,"leftPoints"],[1,641,59,48,"filter"],[1,643,59,55,"videoResolution"],[1,659,59,71,"priority"],[1,669,60,12,"rightDiff"],[1,671,60,24,"leftDiff"],[1,675,60,34,"rightPoints"],[1,678,60,49,"filter"],[1,680,60,56,"videoResolution"],[1,696,60,72,"priority"],[1,705,61,6],[1,706,62,4],[1,707,65,4],[1,710,65,34],[1,716,65,8,"filter"],[1,718,65,15,"photoResolution"],[1,734,65,40],[1,735,66,6],[1,741,66,12,"leftPhotoResolution"],[1,743,66,34,"bestFormat"],[1,745,66,45,"photoWidth"],[1,756,66,58,"bestFormat"],[1,758,66,69,"photoHeight"],[1,770,67,12,"rightPhotoResolution"],[1,772,67,35,"format"],[1,774,67,42,"photoWidth"],[1,785,67,55,"format"],[1,787,67,62,"photoHeight"],[1,799,68,6],[1,802,68,44],[1,810,68,10,"filter"],[1,812,68,17,"photoResolution"],[1,828,68,33,"target"],[1,835,70,12,"leftPhotoResolution"],[1,837,70,34,"rightPhotoResolution"],[1,841,70,56,"leftPoints"],[1,844,70,70,"filter"],[1,846,70,77,"photoResolution"],[1,862,70,93,"priority"],[1,872,71,12,"rightPhotoResolution"],[1,874,71,35,"leftPhotoResolution"],[1,878,71,56,"rightPoints"],[1,881,71,71,"filter"],[1,883,71,78,"photoResolution"],[1,899,71,94,"priority"],[1,913,72,13],[1,914,74,8],[1,920,74,14,"targetResolution"],[1,922,74,33,"filter"],[1,924,74,40,"photoResolution"],[1,940,74,56,"target"],[1,947,74,63,"width"],[1,953,74,71,"filter"],[1,955,74,78,"photoResolution"],[1,971,74,94,"target"],[1,978,74,101,"height"],[1,985,75,14,"leftDiff"],[1,987,75,25,"Math"],[1,992,75,30,"abs"],[1,996,75,34,"leftPhotoResolution"],[1,998,75,56,"targetResolution"],[1,1001,76,14,"rightDiff"],[1,1003,76,26,"Math"],[1,1008,76,31,"abs"],[1,1012,76,35,"rightPhotoResolution"],[1,1014,76,58,"targetResolution"],[1,1017,77,12,"leftDiff"],[1,1019,77,23,"rightDiff"],[1,1023,77,34,"leftPoints"],[1,1026,77,48,"filter"],[1,1028,77,55,"photoResolution"],[1,1044,77,71,"priority"],[1,1054,78,12,"rightDiff"],[1,1056,78,24,"leftDiff"],[1,1060,78,34,"rightPoints"],[1,1063,78,49,"filter"],[1,1065,78,56,"photoResolution"],[1,1081,78,72,"priority"],[1,1090,79,6],[1,1091,80,4],[1,1092,83,4],[1,1095,83,35],[1,1101,83,8,"filter"],[1,1103,83,15,"videoAspectRatio"],[1,1120,83,41],[1,1121,84,6],[1,1127,84,12,"leftAspect"],[1,1129,84,25,"bestFormat"],[1,1131,84,36,"videoWidth"],[1,1142,84,49,"bestFormat"],[1,1144,84,60,"videoHeight"],[1,1156,85,12,"rightAspect"],[1,1158,85,26,"format"],[1,1160,85,33,"videoWidth"],[1,1171,85,46,"format"],[1,1173,85,53,"videoHeight"],[1,1185,86,12,"leftDiff"],[1,1187,86,23,"Math"],[1,1192,86,28,"abs"],[1,1196,86,32,"leftAspect"],[1,1198,86,45,"filter"],[1,1200,86,52,"videoAspectRatio"],[1,1217,86,69,"target"],[1,1225,87,12,"rightDiff"],[1,1227,87,24,"Math"],[1,1232,87,29,"abs"],[1,1236,87,33,"rightAspect"],[1,1238,87,47,"filter"],[1,1240,87,54,"videoAspectRatio"],[1,1257,87,71,"target"],[1,1265,88,10,"leftDiff"],[1,1267,88,21,"rightDiff"],[1,1271,88,32,"leftPoints"],[1,1274,88,46,"filter"],[1,1276,88,53,"videoAspectRatio"],[1,1293,88,70,"priority"],[1,1303,89,10,"rightDiff"],[1,1305,89,22,"leftDiff"],[1,1309,89,32,"rightPoints"],[1,1312,89,47,"filter"],[1,1314,89,54,"videoAspectRatio"],[1,1331,89,71,"priority"],[1,1340,90,4],[1,1341,93,4],[1,1344,93,35],[1,1350,93,8,"filter"],[1,1352,93,15,"photoAspectRatio"],[1,1369,93,41],[1,1370,94,6],[1,1376,94,12,"leftAspect"],[1,1378,94,25,"bestFormat"],[1,1380,94,36,"photoWidth"],[1,1391,94,49,"bestFormat"],[1,1393,94,60,"photoHeight"],[1,1405,95,12,"rightAspect"],[1,1407,95,26,"format"],[1,1409,95,33,"photoWidth"],[1,1420,95,46,"format"],[1,1422,95,53,"photoHeight"],[1,1434,96,12,"leftDiff"],[1,1436,96,23,"Math"],[1,1441,96,28,"abs"],[1,1445,96,32,"leftAspect"],[1,1447,96,45,"filter"],[1,1449,96,52,"photoAspectRatio"],[1,1466,96,69,"target"],[1,1474,97,12,"rightDiff"],[1,1476,97,24,"Math"],[1,1481,97,29,"abs"],[1,1485,97,33,"rightAspect"],[1,1487,97,47,"filter"],[1,1489,97,54,"photoAspectRatio"],[1,1506,97,71,"target"],[1,1514,98,10,"leftDiff"],[1,1516,98,21,"rightDiff"],[1,1520,98,32,"leftPoints"],[1,1523,98,46,"filter"],[1,1525,98,53,"photoAspectRatio"],[1,1542,98,70,"priority"],[1,1552,99,10,"rightDiff"],[1,1554,99,22,"leftDiff"],[1,1558,99,32,"rightPoints"],[1,1561,99,47,"filter"],[1,1563,99,54,"photoAspectRatio"],[1,1580,99,71,"priority"],[1,1589,100,4],[1,1590,103,22],[1,1596,103,8,"filter"],[1,1598,103,15,"fps"],[1,1604,104,32],[1,1612,104,10,"filter"],[1,1614,104,17,"fps"],[1,1618,104,21,"target"],[1,1626,105,12,"bestFormat"],[1,1628,105,23,"maxFps"],[1,1635,105,32,"format"],[1,1637,105,39,"maxFps"],[1,1646,105,47,"leftPoints"],[1,1649,105,61,"filter"],[1,1651,105,68,"fps"],[1,1655,105,72,"priority"],[1,1665,106,12,"format"],[1,1667,106,19,"maxFps"],[1,1674,106,28,"bestFormat"],[1,1676,106,39,"maxFps"],[1,1685,106,47,"rightPoints"],[1,1688,106,62,"filter"],[1,1690,106,69,"fps"],[1,1694,106,73,"priority"],[1,1706,108,12,"bestFormat"],[1,1708,108,23,"maxFps"],[1,1716,108,33,"filter"],[1,1718,108,40,"fps"],[1,1722,108,44,"target"],[1,1731,108,52,"leftPoints"],[1,1734,108,66,"filter"],[1,1736,108,73,"fps"],[1,1740,108,77,"priority"],[1,1750,109,12,"format"],[1,1752,109,19,"maxFps"],[1,1760,109,29,"filter"],[1,1762,109,36,"fps"],[1,1766,109,40,"target"],[1,1775,109,48,"rightPoints"],[1,1778,109,63,"filter"],[1,1780,109,70,"fps"],[1,1784,109,74,"priority"],[1,1796,114,22],[1,1802,114,8,"filter"],[1,1804,114,15,"iso"],[1,1810,115,32],[1,1818,115,10,"filter"],[1,1820,115,17,"iso"],[1,1824,115,21,"target"],[1,1832,116,12,"bestFormat"],[1,1834,116,23,"maxISO"],[1,1841,116,32,"format"],[1,1843,116,39,"maxISO"],[1,1852,116,47,"leftPoints"],[1,1855,116,61,"filter"],[1,1857,116,68,"iso"],[1,1861,116,72,"priority"],[1,1871,117,12,"format"],[1,1873,117,19,"maxISO"],[1,1880,117,28,"bestFormat"],[1,1882,117,39,"maxISO"],[1,1891,117,47,"rightPoints"],[1,1894,117,62,"filter"],[1,1896,117,69,"iso"],[1,1900,117,73,"priority"],[1,1911,118,39],[1,1919,118,17,"filter"],[1,1921,118,24,"iso"],[1,1925,118,28,"target"],[1,1933,119,12,"bestFormat"],[1,1935,119,23,"minISO"],[1,1942,119,32,"format"],[1,1944,119,39,"minISO"],[1,1953,119,47,"leftPoints"],[1,1956,119,61,"filter"],[1,1958,119,68,"iso"],[1,1962,119,72,"priority"],[1,1972,120,12,"format"],[1,1974,120,19,"minISO"],[1,1981,120,28,"bestFormat"],[1,1983,120,39,"minISO"],[1,1992,120,47,"rightPoints"],[1,1995,120,62,"filter"],[1,1997,120,69,"iso"],[1,2001,120,73,"priority"],[1,2013,122,12,"filter"],[1,2015,122,19,"iso"],[1,2019,122,23,"target"],[1,2027,122,33,"bestFormat"],[1,2029,122,44,"minISO"],[1,2037,122,54,"filter"],[1,2039,122,61,"iso"],[1,2043,122,65,"target"],[1,2051,122,75,"bestFormat"],[1,2053,122,86,"maxISO"],[1,2062,122,94,"leftPoints"],[1,2065,122,108,"filter"],[1,2067,122,115,"iso"],[1,2071,122,119,"priority"],[1,2081,123,12,"filter"],[1,2083,123,19,"iso"],[1,2087,123,23,"target"],[1,2095,123,33,"format"],[1,2097,123,40,"minISO"],[1,2105,123,50,"filter"],[1,2107,123,57,"iso"],[1,2111,123,61,"target"],[1,2119,123,71,"format"],[1,2121,123,78,"maxISO"],[1,2130,123,86,"rightPoints"],[1,2133,123,101,"filter"],[1,2135,123,108,"iso"],[1,2139,123,112,"priority"],[1,2151,128,41],[1,2157,128,8,"filter"],[1,2159,128,15,"videoStabilizationMode"],[1,2184,129,10,"bestFormat"],[1,2186,129,21,"videoStabilizationModes"],[1,2210,129,45,"includes"],[1,2219,129,54,"filter"],[1,2221,129,61,"videoStabilizationMode"],[1,2244,129,84,"target"],[1,2254,129,93,"leftPoints"],[1,2257,129,107,"filter"],[1,2259,129,114,"videoStabilizationMode"],[1,2282,129,137,"priority"],[1,2292,130,10,"format"],[1,2294,130,17,"videoStabilizationModes"],[1,2318,130,41,"includes"],[1,2327,130,50,"filter"],[1,2329,130,57,"videoStabilizationMode"],[1,2352,130,80,"target"],[1,2362,130,89,"rightPoints"],[1,2365,130,104,"filter"],[1,2367,130,111,"videoStabilizationMode"],[1,2390,130,134,"priority"],[1,2401,134,27],[1,2407,134,8,"filter"],[1,2409,134,15,"photoHdr"],[1,2420,135,10,"bestFormat"],[1,2422,135,21,"supportsPhotoHdr"],[1,2441,135,42,"filter"],[1,2443,135,49,"photoHdr"],[1,2452,135,58,"target"],[1,2461,135,66,"leftPoints"],[1,2464,135,80,"filter"],[1,2466,135,87,"photoHdr"],[1,2475,135,96,"priority"],[1,2485,136,10,"format"],[1,2487,136,17,"supportsPhotoHdr"],[1,2506,136,38,"filter"],[1,2508,136,45,"photoHdr"],[1,2517,136,54,"target"],[1,2526,136,62,"rightPoints"],[1,2529,136,77,"filter"],[1,2531,136,84,"photoHdr"],[1,2540,136,93,"priority"],[1,2551,140,27],[1,2557,140,8,"filter"],[1,2559,140,15,"videoHdr"],[1,2570,141,10,"bestFormat"],[1,2572,141,21,"supportsVideoHdr"],[1,2591,141,42,"filter"],[1,2593,141,49,"videoHdr"],[1,2602,141,58,"target"],[1,2611,141,66,"leftPoints"],[1,2614,141,80,"filter"],[1,2616,141,87,"videoHdr"],[1,2625,141,96,"priority"],[1,2635,142,10,"format"],[1,2637,142,17,"supportsVideoHdr"],[1,2656,142,38,"filter"],[1,2658,142,45,"videoHdr"],[1,2667,142,54,"target"],[1,2676,142,62,"rightPoints"],[1,2679,142,77,"filter"],[1,2681,142,84,"videoHdr"],[1,2690,142,93,"priority"],[1,2701,146,34],[1,2707,146,8,"filter"],[1,2709,146,15,"autoFocusSystem"],[1,2727,147,10,"bestFormat"],[1,2729,147,21,"autoFocusSystem"],[1,2747,147,41,"filter"],[1,2749,147,48,"autoFocusSystem"],[1,2765,147,64,"target"],[1,2774,147,72,"leftPoints"],[1,2777,147,86,"filter"],[1,2779,147,93,"autoFocusSystem"],[1,2795,147,109,"priority"],[1,2805,148,10,"format"],[1,2807,148,17,"autoFocusSystem"],[1,2825,148,37,"filter"],[1,2827,148,44,"autoFocusSystem"],[1,2843,148,60,"target"],[1,2852,148,68,"rightPoints"],[1,2855,148,83,"filter"],[1,2857,148,90,"autoFocusSystem"],[1,2873,148,106,"priority"],[1,2884,150,8,"rightPoints"],[1,2886,150,22,"leftPoints"],[1,2890,150,34,"bestFormat"],[1,2892,150,47,"format"],[1,2894,151,2],[1,2895,152,2],[1,2902,152,9,"bestFormat"],[1,2903,153,0],[1,2905,1,0],[1,2909,1,0,"_CameraError"],[1,2911,1,0,"r"],[1,2913,1,0,"d"],[1,2915,1,0],[1,2919,2,0],[1,2928,2,9,"filtersToFilterMap"],[1,2930,2,28,"filters"],[1,2933,3,2],[1,2940,3,9,"filters"],[1,2942,3,17,"reduce"],[1,2949,3,24],[1,2950,3,25,"map"],[1,2952,3,30,"curr"],[1,2954,3,36,"index"],[1,2959,4,4],[1,2963,4,9],[1,2969,4,15,"key"],[1,2974,4,22,"curr"],[1,2976,6,6,"map"],[1,2978,6,10,"key"],[1,2981,6,17],[1,2982,9,8,"target"],[1,2989,9,16,"curr"],[1,2991,9,21,"key"],[1,2994,10,8,"priority"],[1,3003,10,18,"filters"],[1,3005,10,26,"length"],[1,3012,10,35,"index"],[1,3015,13,4],[1,3022,13,11,"map"],[1,3025,14,5],[1,3026,14,6],[1,3028,15,0],[1,3029,153,1],[1,3032]],"functionMap":{"names":["<global>","filtersToFilterMap","filters.reduce$argument_0","getCameraFormat"],"mappings":"AAA;ACC;wBCC;GDW;CDC;OGoB;CHsH"},"hasCjsExports":false},"type":"js/module"}]}