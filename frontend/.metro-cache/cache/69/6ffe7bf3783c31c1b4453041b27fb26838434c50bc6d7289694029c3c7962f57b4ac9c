{"dependencies":[{"name":"expo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"PWvtvXU7MaET6Yd1Gn8oQOXJQ8A=","exportNames":["*"],"imports":1}},{"name":"./ImageManipulatorImageRef.web","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":118},"end":{"line":4,"column":70,"index":188}}],"key":"QQZbnSwpXLIftoWHZupzxzaCK6U=","exportNames":["*"],"imports":1}},{"name":"./actions/index.web","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":189},"end":{"line":5,"column":73,"index":262}}],"key":"U6OZJbqKaL+1PCYEnCSYGuR8Q6A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return c}});var e,t=r(d[0]),s=r(d[1]),n=(e=s)&&e.__esModule?e:{default:e},u=r(d[2]);class c extends t.SharedObject{get currentTask(){return this._currentTask||(this._currentTask=new Promise(e=>e(this.loader()))),this._currentTask}set currentTask(e){this._currentTask=e}constructor(e){super(),this.loader=e??(()=>document.createElement('canvas'))}resize(e){return this.addTask(t=>(0,u.resize)(t,e))}rotate(e){return this.addTask(t=>(0,u.rotate)(t,e))}flip(e){return this.addTask(t=>(0,u.flip)(t,e))}crop(e){return this.addTask(t=>(0,u.crop)(t,e))}extent(e){return this.addTask(t=>(0,u.extent)(t,e))}reset(){return this.currentTask=new Promise(e=>e(this.loader())),this}async renderAsync(){const e=await this.currentTask,t=document.createElement('canvas'),s=t.getContext('2d');return t.width=e.width,t.height=e.height,s?.drawImage(e,0,0),new Promise(s=>{e.toBlob(u=>{const c=u?URL.createObjectURL(u):e.toDataURL(),h=new n.default(c,t);s(h)},'image/png')})}addTask(e){return this.currentTask=this.currentTask.then(t=>e(t)),this}}});","lineCount":1,"map":[[1,92,9,15,"Object"],[1,99,9,15,"defineProperty"],[1,114,9,15,"_e"],[1,117,9,15],[1,128,9,15,"enumerable"],[1,140,9,15],[1,142,9,15,"get"],[1,146,9,15],[1,164,9,15,"ImageManipulatorContext"],[1,165,9,15],[1,169,1,0],[1,173],[1,175,1,0,"_expo"],[1,177,1,0,"r"],[1,179,1,0,"d"],[1,181,1,0],[1,185,4,0,"_ImageManipulatorImageRefWeb"],[1,187,4,0,"r"],[1,189,4,0,"d"],[1,191,4,0],[1,195,4,0,"ImageManipulatorImageRef"],[1,198],[1,200,4,0,"_ImageManipulatorImageRefWeb"],[1,204],[1,231,5,0,"_actionsIndexWeb"],[1,233,5,0,"r"],[1,235,5,0,"d"],[1,237,5,0],[1,241,9,15],[1,247,9,21,"ImageManipulatorContext"],[1,257,9,53,"SharedObject"],[1,259,9,65,"SharedObject"],[1,272,13,2],[1,287,13,6,"currentTask"],[1,290,14,4],[1,297,14,8,"this"],[1,302,14,13,"_currentTask"],[1,317,17,4,"this"],[1,322,17,9,"_currentTask"],[1,335,17,24],[1,339,17,28,"Promise"],[1,347,17,37,"resolve"],[1,350,17,49,"resolve"],[1,352,17,57,"this"],[1,357,17,62,"loader"],[1,369,15,13,"this"],[1,374,15,18,"_currentTask"],[1,386,19,2],[1,387,20,2],[1,402,20,6,"currentTask"],[1,403,20,18,"task"],[1,406,21,4,"this"],[1,411,21,9,"_currentTask"],[1,424,21,24,"task"],[1,425,22,2],[1,426,24,2,"constructor"],[1,438,24,14,"loader"],[1,441,25,4,"super"],[1,449,26,4,"this"],[1,454,26,9,"loader"],[1,461,26,18,"loader"],[1,464,26,24],[1,469,26,35,"document"],[1,478,26,44,"createElement"],[1,492,26,58],[1,502,27,2],[1,503,29,2,"resize"],[1,510,29,9,"size"],[1,513,30,4],[1,520,30,11,"this"],[1,525,30,16,"addTask"],[1,533,30,25,"canvas"],[1,537,30,36],[1,539,30,36,"resize"],[1,541,30,42,"resize"],[1,549,30,43,"canvas"],[1,551,30,51,"size"],[1,554,31,2],[1,555,33,2,"rotate"],[1,562,33,9,"degrees"],[1,565,34,4],[1,572,34,11,"this"],[1,577,34,16,"addTask"],[1,585,34,25,"canvas"],[1,589,34,36],[1,591,34,36,"rotate"],[1,593,34,42,"rotate"],[1,601,34,43,"canvas"],[1,603,34,51,"degrees"],[1,606,35,2],[1,607,37,2,"flip"],[1,612,37,7,"flipType"],[1,615,38,4],[1,622,38,11,"this"],[1,627,38,16,"addTask"],[1,635,38,25,"canvas"],[1,639,38,36],[1,641,38,36,"flip"],[1,643,38,40,"flip"],[1,649,38,41,"canvas"],[1,651,38,49,"flipType"],[1,654,39,2],[1,655,41,2,"crop"],[1,660,41,7,"rect"],[1,663,42,4],[1,670,42,11,"this"],[1,675,42,16,"addTask"],[1,683,42,25,"canvas"],[1,687,42,36],[1,689,42,36,"crop"],[1,691,42,40,"crop"],[1,697,42,41,"canvas"],[1,699,42,49,"rect"],[1,702,43,2],[1,703,45,2,"extent"],[1,710,45,9,"options"],[1,713,46,4],[1,720,46,11,"this"],[1,725,46,16,"addTask"],[1,733,46,25,"canvas"],[1,737,46,36],[1,739,46,36,"extent"],[1,741,46,42,"extent"],[1,749,46,43,"canvas"],[1,751,46,51,"options"],[1,754,47,2],[1,755,49,2,"reset"],[1,763,51,4],[1,770,50,4,"this"],[1,775,50,9,"currentTask"],[1,787,50,23],[1,791,50,27,"Promise"],[1,799,50,36,"resolve"],[1,802,50,48,"resolve"],[1,804,50,56,"this"],[1,809,50,61,"loader"],[1,820,51,11,"this"],[1,824,52,2],[1,825,54,2],[1,842,54,8,"renderAsync"],[1,845,55,4],[1,851,55,10,"canvas"],[1,859,55,25,"this"],[1,864,55,30,"currentTask"],[1,876,59,10,"clonedCanvas"],[1,878,59,25,"document"],[1,887,59,34,"createElement"],[1,901,59,48],[1,911,60,10,"clonedCanvasCtx"],[1,913,60,28,"clonedCanvas"],[1,915,60,41,"getContext"],[1,926,60,52],[1,932,66,4],[1,939,62,4,"clonedCanvas"],[1,941,62,17,"width"],[1,947,62,25,"canvas"],[1,949,62,32,"width"],[1,955,63,4,"clonedCanvas"],[1,957,63,17,"height"],[1,964,63,26,"canvas"],[1,966,63,33,"height"],[1,973,64,4,"clonedCanvasCtx"],[1,976,64,21,"drawImage"],[1,986,64,31,"canvas"],[1,988,64,39],[1,990,64,42],[1,993,66,11],[1,997,66,15,"Promise"],[1,1005,66,24,"resolve"],[1,1009,68,6,"canvas"],[1,1011,68,13,"toBlob"],[1,1018,69,9,"blob"],[1,1022,70,10],[1,1028,70,16,"url"],[1,1030,70,22,"blob"],[1,1032,70,29,"URL"],[1,1036,70,33,"createObjectURL"],[1,1052,70,49,"blob"],[1,1055,70,57,"canvas"],[1,1057,70,64,"toDataURL"],[1,1069,71,16,"image"],[1,1071,71,24],[1,1075,71,28,"ImageManipulatorImageRef"],[1,1077,71,52,"default"],[1,1085,71,53,"url"],[1,1087,71,58,"clonedCanvas"],[1,1090,73,10,"resolve"],[1,1092,73,18,"image"],[1,1096,77,8],[1,1110,80,2],[1,1111,82,10,"addTask"],[1,1119,83,4,"task"],[1,1122,88,4],[1,1129,85,4,"this"],[1,1134,85,9,"currentTask"],[1,1146,85,23,"this"],[1,1151,85,28,"currentTask"],[1,1163,85,40,"then"],[1,1168,85,46,"canvas"],[1,1171,86,13,"task"],[1,1173,86,18,"canvas"],[1,1177,88,11,"this"],[1,1181,89,2],[1,1183,90,1],[1,1186]],"functionMap":{"names":["<global>","ImageManipulatorContext","get__currentTask","Promise$argument_0","set__currentTask","constructor","<anonymous>","resize","addTask$argument_0","rotate","flip","crop","extent","reset","renderAsync","canvas.toBlob$argument_0","addTask","currentTask.then$argument_0"],"mappings":"AAA;eCQ;ECI;oCCI,mCD;GDE;EGC;GHE;EIE;6BCE,sCD;GJC;EME;wBCC,gCD;GNC;EQE;wBDC,mCC;GRC;ESE;wBFC,kCE;GTC;EUE;wBHC,8BG;GVC;EWE;wBJC,mCI;GXC;EYE;mCVC,mCU;GZE;EaE;uBXY;QYG;SZK;KWK;GbC;EeE;6CCG;KDE;GfE;CDC"},"hasCjsExports":false},"type":"js/module"}]}