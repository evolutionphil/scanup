{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../store/adStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":46,"index":129}}],"key":"7ZDvx+H7fOxzyrSYBrfOretvEaA=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":130},"end":{"line":4,"column":50,"index":180}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"AdManager\", {\n    enumerable: true,\n    get: function () {\n      return AdManager;\n    }\n  });\n  Object.defineProperty(exports, \"showGlobalInterstitial\", {\n    enumerable: true,\n    get: function () {\n      return showGlobalInterstitial;\n    }\n  });\n  Object.defineProperty(exports, \"initializeGlobalInterstitial\", {\n    enumerable: true,\n    get: function () {\n      return initializeGlobalInterstitial;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _storeAdStore = require(_dependencyMap[2], \"../store/adStore\");\n  var _storeAuthStore = require(_dependencyMap[3], \"../store/authStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  // Flag to check if we're in a native environment\n  const isNativeEnvironment = Platform.default.OS !== 'web';\n  // Global interstitial reference - only used on native\n  let globalInterstitial = null;\n  let mobileAdsInitialized = false;\n  const AdManager = ({\n    children\n  }) => {\n    const {\n      setAdLoaded,\n      setAdShowing,\n      setAdsEnabled,\n      recordAdShown\n    } = (0, _storeAdStore.useAdStore)();\n    const {\n      user\n    } = (0, _storeAuthStore.useAuthStore)();\n\n    // Update ads enabled based on user premium status\n    (0, _react.useEffect)(() => {\n      const isPremium = user?.is_premium || user?.is_trial;\n      setAdsEnabled(!isPremium);\n      console.log('[AdManager] Ads enabled:', !isPremium);\n    }, [user?.is_premium, user?.is_trial, setAdsEnabled]);\n\n    // Initialize mobile ads SDK on native platforms only\n    // NOTE: For development build only - ads won't work in Expo Go\n    (0, _react.useEffect)(() => {\n      if (!isNativeEnvironment) {\n        console.log('[AdManager] Skipping ads initialization (web platform)');\n        return;\n      }\n      if (mobileAdsInitialized) {\n        console.log('[AdManager] Already initialized');\n        return;\n      }\n\n      // Log that ads will be initialized when running in development build\n      console.log('[AdManager] Google Mobile Ads configured - will initialize in development build');\n      console.log('[AdManager] Ad Unit IDs configured:');\n      console.log('[AdManager] - Android Interstitial: ca-app-pub-8771434485570434/5877935563');\n      console.log('[AdManager] - iOS Interstitial: ca-app-pub-8771434485570434/9099011184');\n\n      // In a development build, this would dynamically require and initialize the ads\n      // For now, we just mark as ready for when the native module is available\n      mobileAdsInitialized = true;\n    }, [setAdLoaded, setAdShowing, recordAdShown]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: children\n    }, void 0, false);\n  };\n\n  // Export function to show interstitial ad\n  // This will work when running in a development build with native modules\n  const showGlobalInterstitial = async () => {\n    if (!isNativeEnvironment) {\n      console.log('[showGlobalInterstitial] Skipping on web');\n      return false;\n    }\n    if (!globalInterstitial) {\n      console.log('[showGlobalInterstitial] Interstitial not loaded (requires development build)');\n      return false;\n    }\n    try {\n      await globalInterstitial.show();\n      return true;\n    } catch (error) {\n      console.log('[showGlobalInterstitial] Could not show:', error);\n      return false;\n    }\n  };\n\n  // Export function to initialize global interstitial\n  const initializeGlobalInterstitial = () => {\n    console.log('[initializeGlobalInterstitial] Will initialize when running in development build');\n  };\n  var _default = AdManager;\n});","lineCount":119,"map":[[12,2,82,0,"Object"],[12,8,82,0],[12,9,82,0,"defineProperty"],[12,23,82,0],[12,24,82,0,"exports"],[12,31,82,0],[13,4,82,0,"enumerable"],[13,14,82,0],[14,4,82,0,"get"],[14,7,82,0],[14,18,82,0,"get"],[14,19,82,0],[15,6,82,0],[15,13,82,0,"_default"],[15,21,82,0],[16,4,82,0],[17,2,82,0],[18,2,17,0,"Object"],[18,8,17,0],[18,9,17,0,"defineProperty"],[18,23,17,0],[18,24,17,0,"exports"],[18,31,17,0],[19,4,17,0,"enumerable"],[19,14,17,0],[20,4,17,0,"get"],[20,7,17,0],[20,18,17,0,"get"],[20,19,17,0],[21,6,17,0],[21,13,17,0,"AdManager"],[21,22,17,0],[22,4,17,0],[23,2,17,0],[24,2,57,0,"Object"],[24,8,57,0],[24,9,57,0,"defineProperty"],[24,23,57,0],[24,24,57,0,"exports"],[24,31,57,0],[25,4,57,0,"enumerable"],[25,14,57,0],[26,4,57,0,"get"],[26,7,57,0],[26,18,57,0,"get"],[26,19,57,0],[27,6,57,0],[27,13,57,0,"showGlobalInterstitial"],[27,35,57,0],[28,4,57,0],[29,2,57,0],[30,2,78,0,"Object"],[30,8,78,0],[30,9,78,0,"defineProperty"],[30,23,78,0],[30,24,78,0,"exports"],[30,31,78,0],[31,4,78,0,"enumerable"],[31,14,78,0],[32,4,78,0,"get"],[32,7,78,0],[32,18,78,0,"get"],[32,19,78,0],[33,6,78,0],[33,13,78,0,"initializeGlobalInterstitial"],[33,41,78,0],[34,4,78,0],[35,2,78,0],[36,2,1,0],[36,6,1,0,"_react"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,1,41],[37,6,1,41,"_reactNativeWebDistExportsPlatform"],[37,40,1,41],[37,43,1,41,"require"],[37,50,1,41],[37,51,1,41,"_dependencyMap"],[37,65,1,41],[38,2,1,41],[38,6,1,41,"Platform"],[38,14,1,41],[38,17,1,41,"_interopDefault"],[38,32,1,41],[38,33,1,41,"_reactNativeWebDistExportsPlatform"],[38,67,1,41],[39,2,3,0],[39,6,3,0,"_storeAdStore"],[39,19,3,0],[39,22,3,0,"require"],[39,29,3,0],[39,30,3,0,"_dependencyMap"],[39,44,3,0],[40,2,4,0],[40,6,4,0,"_storeAuthStore"],[40,21,4,0],[40,24,4,0,"require"],[40,31,4,0],[40,32,4,0,"_dependencyMap"],[40,46,4,0],[41,2,4,50],[41,6,4,50,"_reactJsxDevRuntime"],[41,25,4,50],[41,28,4,50,"require"],[41,35,4,50],[41,36,4,50,"_dependencyMap"],[41,50,4,50],[42,2,6,0],[43,2,7,0],[43,8,7,6,"isNativeEnvironment"],[43,27,7,25],[43,30,7,28,"Platform"],[43,38,7,36],[43,39,7,36,"default"],[43,46,7,36],[43,47,7,37,"OS"],[43,49,7,39],[43,54,7,44],[43,59,7,49],[44,2,13,0],[45,2,14,0],[45,6,14,4,"globalInterstitial"],[45,24,14,27],[45,27,14,30],[45,31,14,34],[46,2,15,0],[46,6,15,4,"mobileAdsInitialized"],[46,26,15,24],[46,29,15,27],[46,34,15,32],[47,2,17,7],[47,8,17,13,"AdManager"],[47,17,17,48],[47,20,17,51,"AdManager"],[47,21,17,52],[48,4,17,54,"children"],[49,2,17,63],[49,3,17,64],[49,8,17,69],[50,4,18,2],[50,10,18,8],[51,6,18,10,"setAdLoaded"],[51,17,18,21],[52,6,18,23,"setAdShowing"],[52,18,18,35],[53,6,18,37,"setAdsEnabled"],[53,19,18,50],[54,6,18,52,"recordAdShown"],[55,4,18,66],[55,5,18,67],[55,8,18,70],[55,12,18,70,"useAdStore"],[55,25,18,80],[55,26,18,80,"useAdStore"],[55,36,18,80],[55,38,18,81],[55,39,18,82],[56,4,19,2],[56,10,19,8],[57,6,19,10,"user"],[58,4,19,15],[58,5,19,16],[58,8,19,19],[58,12,19,19,"useAuthStore"],[58,27,19,31],[58,28,19,31,"useAuthStore"],[58,40,19,31],[58,42,19,32],[58,43,19,33],[60,4,21,2],[61,4,22,2],[61,8,22,2,"useEffect"],[61,14,22,11],[61,15,22,11,"useEffect"],[61,24,22,11],[61,26,22,12],[61,32,22,18],[62,6,23,4],[62,12,23,10,"isPremium"],[62,21,23,19],[62,24,23,22,"user"],[62,28,23,26],[62,30,23,28,"is_premium"],[62,40,23,38],[62,44,23,42,"user"],[62,48,23,46],[62,50,23,48,"is_trial"],[62,58,23,56],[63,6,24,4,"setAdsEnabled"],[63,19,24,17],[63,20,24,18],[63,21,24,19,"isPremium"],[63,30,24,28],[63,31,24,29],[64,6,25,4,"console"],[64,13,25,11],[64,14,25,12,"log"],[64,17,25,15],[64,18,25,16],[64,44,25,42],[64,46,25,44],[64,47,25,45,"isPremium"],[64,56,25,54],[64,57,25,55],[65,4,26,2],[65,5,26,3],[65,7,26,5],[65,8,26,6,"user"],[65,12,26,10],[65,14,26,12,"is_premium"],[65,24,26,22],[65,26,26,24,"user"],[65,30,26,28],[65,32,26,30,"is_trial"],[65,40,26,38],[65,42,26,40,"setAdsEnabled"],[65,55,26,53],[65,56,26,54],[65,57,26,55],[67,4,28,2],[68,4,29,2],[69,4,30,2],[69,8,30,2,"useEffect"],[69,14,30,11],[69,15,30,11,"useEffect"],[69,24,30,11],[69,26,30,12],[69,32,30,18],[70,6,31,4],[70,10,31,8],[70,11,31,9,"isNativeEnvironment"],[70,30,31,28],[70,32,31,30],[71,8,32,6,"console"],[71,15,32,13],[71,16,32,14,"log"],[71,19,32,17],[71,20,32,18],[71,76,32,74],[71,77,32,75],[72,8,33,6],[73,6,34,4],[74,6,36,4],[74,10,36,8,"mobileAdsInitialized"],[74,30,36,28],[74,32,36,30],[75,8,37,6,"console"],[75,15,37,13],[75,16,37,14,"log"],[75,19,37,17],[75,20,37,18],[75,53,37,51],[75,54,37,52],[76,8,38,6],[77,6,39,4],[79,6,41,4],[80,6,42,4,"console"],[80,13,42,11],[80,14,42,12,"log"],[80,17,42,15],[80,18,42,16],[80,99,42,97],[80,100,42,98],[81,6,43,4,"console"],[81,13,43,11],[81,14,43,12,"log"],[81,17,43,15],[81,18,43,16],[81,55,43,53],[81,56,43,54],[82,6,44,4,"console"],[82,13,44,11],[82,14,44,12,"log"],[82,17,44,15],[82,18,44,16],[82,94,44,92],[82,95,44,93],[83,6,45,4,"console"],[83,13,45,11],[83,14,45,12,"log"],[83,17,45,15],[83,18,45,16],[83,90,45,88],[83,91,45,89],[85,6,47,4],[86,6,48,4],[87,6,49,4,"mobileAdsInitialized"],[87,26,49,24],[87,29,49,27],[87,33,49,31],[88,4,50,2],[88,5,50,3],[88,7,50,5],[88,8,50,6,"setAdLoaded"],[88,19,50,17],[88,21,50,19,"setAdShowing"],[88,33,50,31],[88,35,50,33,"recordAdShown"],[88,48,50,46],[88,49,50,47],[88,50,50,48],[89,4,52,2],[89,24,52,9],[89,28,52,9,"_reactJsxDevRuntime"],[89,47,52,9],[89,48,52,9,"jsxDEV"],[89,54,52,9],[89,56,52,9,"_reactJsxDevRuntime"],[89,75,52,9],[89,76,52,9,"Fragment"],[89,84,52,9],[90,6,52,9,"children"],[90,14,52,9],[90,16,52,12,"children"],[91,4,52,20],[91,20,52,23],[91,21,52,24],[92,2,53,0],[92,3,53,1],[94,2,55,0],[95,2,56,0],[96,2,57,7],[96,8,57,13,"showGlobalInterstitial"],[96,30,57,35],[96,33,57,38],[96,39,57,38,"showGlobalInterstitial"],[96,40,57,38],[96,45,57,68],[97,4,58,2],[97,8,58,6],[97,9,58,7,"isNativeEnvironment"],[97,28,58,26],[97,30,58,28],[98,6,59,4,"console"],[98,13,59,11],[98,14,59,12,"log"],[98,17,59,15],[98,18,59,16],[98,60,59,58],[98,61,59,59],[99,6,60,4],[99,13,60,11],[99,18,60,16],[100,4,61,2],[101,4,63,2],[101,8,63,6],[101,9,63,7,"globalInterstitial"],[101,27,63,25],[101,29,63,27],[102,6,64,4,"console"],[102,13,64,11],[102,14,64,12,"log"],[102,17,64,15],[102,18,64,16],[102,97,64,95],[102,98,64,96],[103,6,65,4],[103,13,65,11],[103,18,65,16],[104,4,66,2],[105,4,68,2],[105,8,68,6],[106,6,69,4],[106,12,69,10,"globalInterstitial"],[106,30,69,28],[106,31,69,29,"show"],[106,35,69,33],[106,36,69,34],[106,37,69,35],[107,6,70,4],[107,13,70,11],[107,17,70,15],[108,4,71,2],[108,5,71,3],[108,6,71,4],[108,13,71,11,"error"],[108,18,71,16],[108,20,71,18],[109,6,72,4,"console"],[109,13,72,11],[109,14,72,12,"log"],[109,17,72,15],[109,18,72,16],[109,60,72,58],[109,62,72,60,"error"],[109,67,72,65],[109,68,72,66],[110,6,73,4],[110,13,73,11],[110,18,73,16],[111,4,74,2],[112,2,75,0],[112,3,75,1],[114,2,77,0],[115,2,78,7],[115,8,78,13,"initializeGlobalInterstitial"],[115,36,78,41],[115,39,78,44,"initializeGlobalInterstitial"],[115,40,78,44],[115,45,78,50],[116,4,79,2,"console"],[116,11,79,9],[116,12,79,10,"log"],[116,15,79,13],[116,16,79,14],[116,98,79,96],[116,99,79,97],[117,2,80,0],[117,3,80,1],[118,2,82,0],[118,6,82,0,"_default"],[118,14,82,0],[118,17,82,15,"AdManager"],[118,26,82,24],[119,0,82,25],[119,3]],"functionMap":{"names":["<global>","AdManager","useEffect$argument_0","showGlobalInterstitial","initializeGlobalInterstitial"],"mappings":"AAA;mDCgB;YCK;GDI;YCI;GDoB;CDG;sCGI;CHkB;4CIG;CJE"},"hasCjsExports":false},"type":"js/module"}]}