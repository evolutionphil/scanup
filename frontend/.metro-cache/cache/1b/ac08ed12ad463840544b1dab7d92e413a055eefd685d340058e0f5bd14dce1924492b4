{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../core/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":76,"index":76}}],"key":"uYibmgiuaz/CrXy37RQIsJGcmz0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return PDFEmbeddedFile;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _coreIndexJs = require(_dependencyMap[3], \"../core/index.js\");\n  /**\n   * Represents a file that has been embedded in a [[PDFDocument]].\n   */\n  var PDFEmbeddedFile = /*#__PURE__*/function () {\n    function PDFEmbeddedFile(ref, doc, embedder) {\n      (0, _classCallCheck.default)(this, PDFEmbeddedFile);\n      this.alreadyEmbedded = false;\n      this.ref = ref;\n      this.doc = doc;\n      this.embedder = embedder;\n    }\n    /**\n     * > **NOTE:** You probably don't need to call this method directly. The\n     * > [[PDFDocument.save]] and [[PDFDocument.saveAsBase64]] methods will\n     * > automatically ensure all embeddable files get embedded.\n     *\n     * Embed this embeddable file in its document.\n     *\n     * @returns Resolves when the embedding is complete.\n     */\n    return (0, _createClass.default)(PDFEmbeddedFile, [{\n      key: \"embed\",\n      value: (function () {\n        var _embed = (0, _asyncToGenerator.default)(function* () {\n          if (!this.alreadyEmbedded) {\n            var ref = yield this.embedder.embedIntoContext(this.doc.context, this.ref);\n            if (!this.doc.catalog.has(_coreIndexJs.PDFName.of('Names'))) {\n              this.doc.catalog.set(_coreIndexJs.PDFName.of('Names'), this.doc.context.obj({}));\n            }\n            var Names = this.doc.catalog.lookup(_coreIndexJs.PDFName.of('Names'), _coreIndexJs.PDFDict);\n            if (!Names.has(_coreIndexJs.PDFName.of('EmbeddedFiles'))) {\n              Names.set(_coreIndexJs.PDFName.of('EmbeddedFiles'), this.doc.context.obj({}));\n            }\n            var EmbeddedFiles = Names.lookup(_coreIndexJs.PDFName.of('EmbeddedFiles'), _coreIndexJs.PDFDict);\n            if (!EmbeddedFiles.has(_coreIndexJs.PDFName.of('Names'))) {\n              EmbeddedFiles.set(_coreIndexJs.PDFName.of('Names'), this.doc.context.obj([]));\n            }\n            var EFNames = EmbeddedFiles.lookup(_coreIndexJs.PDFName.of('Names'), _coreIndexJs.PDFArray);\n            EFNames.push(_coreIndexJs.PDFHexString.fromText(this.embedder.fileName));\n            EFNames.push(ref);\n            /**\n             * The AF-Tag is needed to achieve PDF-A3 compliance for embedded files\n             *\n             * The following document outlines the uses cases of the associated files (AF) tag.\n             * See:\n             * https://www.pdfa.org/wp-content/uploads/2018/10/PDF20_AN002-AF.pdf\n             */\n            if (!this.doc.catalog.has(_coreIndexJs.PDFName.of('AF'))) {\n              this.doc.catalog.set(_coreIndexJs.PDFName.of('AF'), this.doc.context.obj([]));\n            }\n            var AF = this.doc.catalog.lookup(_coreIndexJs.PDFName.of('AF'), _coreIndexJs.PDFArray);\n            AF.push(ref);\n            this.alreadyEmbedded = true;\n          }\n        });\n        function embed() {\n          return _embed.apply(this, arguments);\n        }\n        return embed;\n      }())\n    }]);\n  }();\n  /**\n   * > **NOTE:** You probably don't want to call this method directly. Instead,\n   * > consider using the [[PDFDocument.attach]] method, which will create\n   * instances of [[PDFEmbeddedFile]] for you.\n   *\n   * Create an instance of [[PDFEmbeddedFile]] from an existing ref and embedder\n   *\n   * @param ref The unique reference for this file.\n   * @param doc The document to which the file will belong.\n   * @param embedder The embedder that will be used to embed the file.\n   */\n  PDFEmbeddedFile.of = (ref, doc, embedder) => new PDFEmbeddedFile(ref, doc, embedder);\n});","lineCount":99,"map":[[15,13,5,21,"PDFEmbeddedFile"],[15,28,5,36],[16,4,5,36],[17,2,5,36],[18,2,5,36],[18,6,5,36,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,5,36],[18,45,5,36,"require"],[18,52,5,36],[18,53,5,36,"_dependencyMap"],[18,67,5,36],[19,2,5,36],[19,6,5,36,"_asyncToGenerator"],[19,23,5,36],[19,26,5,36,"_interopDefault"],[19,41,5,36],[19,42,5,36,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,5,36],[20,2,5,36],[20,6,5,36,"_babelRuntimeHelpersClassCallCheck"],[20,40,5,36],[20,43,5,36,"require"],[20,50,5,36],[20,51,5,36,"_dependencyMap"],[20,65,5,36],[21,2,5,36],[21,6,5,36,"_classCallCheck"],[21,21,5,36],[21,24,5,36,"_interopDefault"],[21,39,5,36],[21,40,5,36,"_babelRuntimeHelpersClassCallCheck"],[21,74,5,36],[22,2,5,36],[22,6,5,36,"_babelRuntimeHelpersCreateClass"],[22,37,5,36],[22,40,5,36,"require"],[22,47,5,36],[22,48,5,36,"_dependencyMap"],[22,62,5,36],[23,2,5,36],[23,6,5,36,"_createClass"],[23,18,5,36],[23,21,5,36,"_interopDefault"],[23,36,5,36],[23,37,5,36,"_babelRuntimeHelpersCreateClass"],[23,68,5,36],[24,2,1,0],[24,6,1,0,"_coreIndexJs"],[24,18,1,0],[24,21,1,0,"require"],[24,28,1,0],[24,29,1,0,"_dependencyMap"],[24,43,1,0],[25,2,2,0],[26,0,3,0],[27,0,4,0],[28,2,2,0],[28,6,5,21,"PDFEmbeddedFile"],[28,21,5,36],[29,4,6,4],[29,13,6,4,"PDFEmbeddedFile"],[29,29,6,16,"ref"],[29,32,6,19],[29,34,6,21,"doc"],[29,37,6,24],[29,39,6,26,"embedder"],[29,47,6,34],[29,49,6,36],[30,6,6,36],[30,10,6,36,"_classCallCheck"],[30,25,6,36],[30,26,6,36,"default"],[30,33,6,36],[30,41,6,36,"PDFEmbeddedFile"],[30,56,6,36],[31,6,7,8],[31,10,7,12],[31,11,7,13,"alreadyEmbedded"],[31,26,7,28],[31,29,7,31],[31,34,7,36],[32,6,8,8],[32,10,8,12],[32,11,8,13,"ref"],[32,14,8,16],[32,17,8,19,"ref"],[32,20,8,22],[33,6,9,8],[33,10,9,12],[33,11,9,13,"doc"],[33,14,9,16],[33,17,9,19,"doc"],[33,20,9,22],[34,6,10,8],[34,10,10,12],[34,11,10,13,"embedder"],[34,19,10,21],[34,22,10,24,"embedder"],[34,30,10,32],[35,4,11,4],[36,4,12,4],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[41,0,17,0],[42,0,18,0],[43,0,19,0],[44,0,20,0],[45,4,12,4],[45,15,12,4,"_createClass"],[45,27,12,4],[45,28,12,4,"default"],[45,35,12,4],[45,37,12,4,"PDFEmbeddedFile"],[45,52,12,4],[46,6,12,4,"key"],[46,9,12,4],[47,6,12,4,"value"],[47,11,12,4],[48,8,12,4],[48,12,12,4,"_embed"],[48,18,12,4],[48,25,12,4,"_asyncToGenerator"],[48,42,12,4],[48,43,12,4,"default"],[48,50,12,4],[48,52,21,4],[48,65,21,18],[49,10,22,8],[49,14,22,12],[49,15,22,13],[49,19,22,17],[49,20,22,18,"alreadyEmbedded"],[49,35,22,33],[49,37,22,35],[50,12,23,12],[50,16,23,18,"ref"],[50,19,23,21],[50,28,23,30],[50,32,23,34],[50,33,23,35,"embedder"],[50,41,23,43],[50,42,23,44,"embedIntoContext"],[50,58,23,60],[50,59,23,61],[50,63,23,65],[50,64,23,66,"doc"],[50,67,23,69],[50,68,23,70,"context"],[50,75,23,77],[50,77,23,79],[50,81,23,83],[50,82,23,84,"ref"],[50,85,23,87],[50,86,23,88],[51,12,24,12],[51,16,24,16],[51,17,24,17],[51,21,24,21],[51,22,24,22,"doc"],[51,25,24,25],[51,26,24,26,"catalog"],[51,33,24,33],[51,34,24,34,"has"],[51,37,24,37],[51,38,24,38,"PDFName"],[51,50,24,45],[51,51,24,45,"PDFName"],[51,58,24,45],[51,59,24,46,"of"],[51,61,24,48],[51,62,24,49],[51,69,24,56],[51,70,24,57],[51,71,24,58],[51,73,24,60],[52,14,25,16],[52,18,25,20],[52,19,25,21,"doc"],[52,22,25,24],[52,23,25,25,"catalog"],[52,30,25,32],[52,31,25,33,"set"],[52,34,25,36],[52,35,25,37,"PDFName"],[52,47,25,44],[52,48,25,44,"PDFName"],[52,55,25,44],[52,56,25,45,"of"],[52,58,25,47],[52,59,25,48],[52,66,25,55],[52,67,25,56],[52,69,25,58],[52,73,25,62],[52,74,25,63,"doc"],[52,77,25,66],[52,78,25,67,"context"],[52,85,25,74],[52,86,25,75,"obj"],[52,89,25,78],[52,90,25,79],[52,91,25,80],[52,92,25,81],[52,93,25,82],[52,94,25,83],[53,12,26,12],[54,12,27,12],[54,16,27,18,"Names"],[54,21,27,23],[54,24,27,26],[54,28,27,30],[54,29,27,31,"doc"],[54,32,27,34],[54,33,27,35,"catalog"],[54,40,27,42],[54,41,27,43,"lookup"],[54,47,27,49],[54,48,27,50,"PDFName"],[54,60,27,57],[54,61,27,57,"PDFName"],[54,68,27,57],[54,69,27,58,"of"],[54,71,27,60],[54,72,27,61],[54,79,27,68],[54,80,27,69],[54,82,27,71,"PDFDict"],[54,94,27,78],[54,95,27,78,"PDFDict"],[54,102,27,78],[54,103,27,79],[55,12,28,12],[55,16,28,16],[55,17,28,17,"Names"],[55,22,28,22],[55,23,28,23,"has"],[55,26,28,26],[55,27,28,27,"PDFName"],[55,39,28,34],[55,40,28,34,"PDFName"],[55,47,28,34],[55,48,28,35,"of"],[55,50,28,37],[55,51,28,38],[55,66,28,53],[55,67,28,54],[55,68,28,55],[55,70,28,57],[56,14,29,16,"Names"],[56,19,29,21],[56,20,29,22,"set"],[56,23,29,25],[56,24,29,26,"PDFName"],[56,36,29,33],[56,37,29,33,"PDFName"],[56,44,29,33],[56,45,29,34,"of"],[56,47,29,36],[56,48,29,37],[56,63,29,52],[56,64,29,53],[56,66,29,55],[56,70,29,59],[56,71,29,60,"doc"],[56,74,29,63],[56,75,29,64,"context"],[56,82,29,71],[56,83,29,72,"obj"],[56,86,29,75],[56,87,29,76],[56,88,29,77],[56,89,29,78],[56,90,29,79],[56,91,29,80],[57,12,30,12],[58,12,31,12],[58,16,31,18,"EmbeddedFiles"],[58,29,31,31],[58,32,31,34,"Names"],[58,37,31,39],[58,38,31,40,"lookup"],[58,44,31,46],[58,45,31,47,"PDFName"],[58,57,31,54],[58,58,31,54,"PDFName"],[58,65,31,54],[58,66,31,55,"of"],[58,68,31,57],[58,69,31,58],[58,84,31,73],[58,85,31,74],[58,87,31,76,"PDFDict"],[58,99,31,83],[58,100,31,83,"PDFDict"],[58,107,31,83],[58,108,31,84],[59,12,32,12],[59,16,32,16],[59,17,32,17,"EmbeddedFiles"],[59,30,32,30],[59,31,32,31,"has"],[59,34,32,34],[59,35,32,35,"PDFName"],[59,47,32,42],[59,48,32,42,"PDFName"],[59,55,32,42],[59,56,32,43,"of"],[59,58,32,45],[59,59,32,46],[59,66,32,53],[59,67,32,54],[59,68,32,55],[59,70,32,57],[60,14,33,16,"EmbeddedFiles"],[60,27,33,29],[60,28,33,30,"set"],[60,31,33,33],[60,32,33,34,"PDFName"],[60,44,33,41],[60,45,33,41,"PDFName"],[60,52,33,41],[60,53,33,42,"of"],[60,55,33,44],[60,56,33,45],[60,63,33,52],[60,64,33,53],[60,66,33,55],[60,70,33,59],[60,71,33,60,"doc"],[60,74,33,63],[60,75,33,64,"context"],[60,82,33,71],[60,83,33,72,"obj"],[60,86,33,75],[60,87,33,76],[60,89,33,78],[60,90,33,79],[60,91,33,80],[61,12,34,12],[62,12,35,12],[62,16,35,18,"EFNames"],[62,23,35,25],[62,26,35,28,"EmbeddedFiles"],[62,39,35,41],[62,40,35,42,"lookup"],[62,46,35,48],[62,47,35,49,"PDFName"],[62,59,35,56],[62,60,35,56,"PDFName"],[62,67,35,56],[62,68,35,57,"of"],[62,70,35,59],[62,71,35,60],[62,78,35,67],[62,79,35,68],[62,81,35,70,"PDFArray"],[62,93,35,78],[62,94,35,78,"PDFArray"],[62,102,35,78],[62,103,35,79],[63,12,36,12,"EFNames"],[63,19,36,19],[63,20,36,20,"push"],[63,24,36,24],[63,25,36,25,"PDFHexString"],[63,37,36,37],[63,38,36,37,"PDFHexString"],[63,50,36,37],[63,51,36,38,"fromText"],[63,59,36,46],[63,60,36,47],[63,64,36,51],[63,65,36,52,"embedder"],[63,73,36,60],[63,74,36,61,"fileName"],[63,82,36,69],[63,83,36,70],[63,84,36,71],[64,12,37,12,"EFNames"],[64,19,37,19],[64,20,37,20,"push"],[64,24,37,24],[64,25,37,25,"ref"],[64,28,37,28],[64,29,37,29],[65,12,38,12],[66,0,39,0],[67,0,40,0],[68,0,41,0],[69,0,42,0],[70,0,43,0],[71,0,44,0],[72,12,45,12],[72,16,45,16],[72,17,45,17],[72,21,45,21],[72,22,45,22,"doc"],[72,25,45,25],[72,26,45,26,"catalog"],[72,33,45,33],[72,34,45,34,"has"],[72,37,45,37],[72,38,45,38,"PDFName"],[72,50,45,45],[72,51,45,45,"PDFName"],[72,58,45,45],[72,59,45,46,"of"],[72,61,45,48],[72,62,45,49],[72,66,45,53],[72,67,45,54],[72,68,45,55],[72,70,45,57],[73,14,46,16],[73,18,46,20],[73,19,46,21,"doc"],[73,22,46,24],[73,23,46,25,"catalog"],[73,30,46,32],[73,31,46,33,"set"],[73,34,46,36],[73,35,46,37,"PDFName"],[73,47,46,44],[73,48,46,44,"PDFName"],[73,55,46,44],[73,56,46,45,"of"],[73,58,46,47],[73,59,46,48],[73,63,46,52],[73,64,46,53],[73,66,46,55],[73,70,46,59],[73,71,46,60,"doc"],[73,74,46,63],[73,75,46,64,"context"],[73,82,46,71],[73,83,46,72,"obj"],[73,86,46,75],[73,87,46,76],[73,89,46,78],[73,90,46,79],[73,91,46,80],[74,12,47,12],[75,12,48,12],[75,16,48,18,"AF"],[75,18,48,20],[75,21,48,23],[75,25,48,27],[75,26,48,28,"doc"],[75,29,48,31],[75,30,48,32,"catalog"],[75,37,48,39],[75,38,48,40,"lookup"],[75,44,48,46],[75,45,48,47,"PDFName"],[75,57,48,54],[75,58,48,54,"PDFName"],[75,65,48,54],[75,66,48,55,"of"],[75,68,48,57],[75,69,48,58],[75,73,48,62],[75,74,48,63],[75,76,48,65,"PDFArray"],[75,88,48,73],[75,89,48,73,"PDFArray"],[75,97,48,73],[75,98,48,74],[76,12,49,12,"AF"],[76,14,49,14],[76,15,49,15,"push"],[76,19,49,19],[76,20,49,20,"ref"],[76,23,49,23],[76,24,49,24],[77,12,50,12],[77,16,50,16],[77,17,50,17,"alreadyEmbedded"],[77,32,50,32],[77,35,50,35],[77,39,50,39],[78,10,51,8],[79,8,52,4],[79,9,52,5],[80,8,52,5],[80,17,21,10,"embed"],[80,22,21,15,"embed"],[80,23,21,15],[81,10,21,15],[81,17,21,15,"_embed"],[81,23,21,15],[81,24,21,15,"apply"],[81,29,21,15],[81,36,21,15,"arguments"],[81,45,21,15],[82,8,21,15],[83,8,21,15],[83,15,21,10,"embed"],[83,20,21,15],[84,6,21,15],[85,4,21,15],[86,2,21,15],[87,2,54,0],[88,0,55,0],[89,0,56,0],[90,0,57,0],[91,0,58,0],[92,0,59,0],[93,0,60,0],[94,0,61,0],[95,0,62,0],[96,0,63,0],[97,0,64,0],[98,2,65,0,"PDFEmbeddedFile"],[98,17,65,15],[98,18,65,16,"of"],[98,20,65,18],[98,23,65,21],[98,24,65,22,"ref"],[98,27,65,25],[98,29,65,27,"doc"],[98,32,65,30],[98,34,65,32,"embedder"],[98,42,65,40],[98,47,65,45],[98,51,65,49,"PDFEmbeddedFile"],[98,66,65,64],[98,67,65,65,"ref"],[98,70,65,68],[98,72,65,70,"doc"],[98,75,65,73],[98,77,65,75,"embedder"],[98,85,65,83],[98,86,65,84],[99,0,65,85],[99,3]],"functionMap":{"names":["<global>","PDFEmbeddedFile","constructor","embed","of"],"mappings":"AAA;eCI;ICC;KDK;IEU;KF+B;CDC;qBIY,+DJ"},"hasCjsExports":false},"type":"js/module"}]}