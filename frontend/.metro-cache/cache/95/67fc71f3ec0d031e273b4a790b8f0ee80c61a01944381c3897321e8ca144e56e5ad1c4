{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"./DecodeStream.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":252},"end":{"line":8,"column":45,"index":297}}],"key":"C/oJ0k7XQ3jAGDeWWv3yHXara3I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[2], \"@babel/runtime/helpers/callSuper\");\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[3], \"@babel/runtime/helpers/inherits\");\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _DecodeStreamJs = require(_dependencyMap[4], \"./DecodeStream.js\");\n  var DecodeStream = _interopDefault(_DecodeStreamJs);\n  /*\n   * Copyright 2012 Mozilla Foundation\n   *\n   * The RunLengthStream class contained in this file is a TypeScript port of the\n   * JavaScript RunLengthStream class in Mozilla's pdf.js project, made available\n   * under the Apache 2.0 open source license.\n   */\n  var RunLengthStream = /*#__PURE__*/function (_DecodeStream) {\n    function RunLengthStream(stream, maybeLength) {\n      var _this;\n      (0, _classCallCheck.default)(this, RunLengthStream);\n      _this = (0, _callSuper.default)(this, RunLengthStream, [maybeLength]);\n      _this.stream = stream;\n      return _this;\n    }\n    (0, _inherits.default)(RunLengthStream, _DecodeStream);\n    return (0, _createClass.default)(RunLengthStream, [{\n      key: \"readBlock\",\n      value: function readBlock() {\n        // The repeatHeader has following format. The first byte defines type of run\n        // and amount of bytes to repeat/copy: n = 0 through 127 - copy next n bytes\n        // (in addition to the second byte from the header), n = 129 through 255 -\n        // duplicate the second byte from the header (257 - n) times, n = 128 - end.\n        var repeatHeader = this.stream.getBytes(2);\n        if (!repeatHeader || repeatHeader.length < 2 || repeatHeader[0] === 128) {\n          this.eof = true;\n          return;\n        }\n        var buffer;\n        var bufferLength = this.bufferLength;\n        var n = repeatHeader[0];\n        if (n < 128) {\n          // copy n bytes\n          buffer = this.ensureBuffer(bufferLength + n + 1);\n          buffer[bufferLength++] = repeatHeader[1];\n          if (n > 0) {\n            var source = this.stream.getBytes(n);\n            buffer.set(source, bufferLength);\n            bufferLength += n;\n          }\n        } else {\n          n = 257 - n;\n          var b = repeatHeader[1];\n          buffer = this.ensureBuffer(bufferLength + n + 1);\n          for (var i = 0; i < n; i++) {\n            buffer[bufferLength++] = b;\n          }\n        }\n        this.bufferLength = bufferLength;\n      }\n    }]);\n  }(DecodeStream.default);\n  var _default = RunLengthStream;\n});","lineCount":81,"map":[[12,2,48,0,"Object"],[12,8,48,0],[12,9,48,0,"defineProperty"],[12,23,48,0],[12,24,48,0,"exports"],[12,31,48,0],[13,4,48,0,"enumerable"],[13,14,48,0],[14,4,48,0,"get"],[14,7,48,0],[14,18,48,0,"get"],[14,19,48,0],[15,6,48,0],[15,13,48,0,"_default"],[15,21,48,0],[16,4,48,0],[17,2,48,0],[18,2,48,31],[18,6,48,31,"_babelRuntimeHelpersClassCallCheck"],[18,40,48,31],[18,43,48,31,"require"],[18,50,48,31],[18,51,48,31,"_dependencyMap"],[18,65,48,31],[19,2,48,31],[19,6,48,31,"_classCallCheck"],[19,21,48,31],[19,24,48,31,"_interopDefault"],[19,39,48,31],[19,40,48,31,"_babelRuntimeHelpersClassCallCheck"],[19,74,48,31],[20,2,48,31],[20,6,48,31,"_babelRuntimeHelpersCreateClass"],[20,37,48,31],[20,40,48,31,"require"],[20,47,48,31],[20,48,48,31,"_dependencyMap"],[20,62,48,31],[21,2,48,31],[21,6,48,31,"_createClass"],[21,18,48,31],[21,21,48,31,"_interopDefault"],[21,36,48,31],[21,37,48,31,"_babelRuntimeHelpersCreateClass"],[21,68,48,31],[22,2,48,31],[22,6,48,31,"_babelRuntimeHelpersCallSuper"],[22,35,48,31],[22,38,48,31,"require"],[22,45,48,31],[22,46,48,31,"_dependencyMap"],[22,60,48,31],[23,2,48,31],[23,6,48,31,"_callSuper"],[23,16,48,31],[23,19,48,31,"_interopDefault"],[23,34,48,31],[23,35,48,31,"_babelRuntimeHelpersCallSuper"],[23,64,48,31],[24,2,48,31],[24,6,48,31,"_babelRuntimeHelpersInherits"],[24,34,48,31],[24,37,48,31,"require"],[24,44,48,31],[24,45,48,31,"_dependencyMap"],[24,59,48,31],[25,2,48,31],[25,6,48,31,"_inherits"],[25,15,48,31],[25,18,48,31,"_interopDefault"],[25,33,48,31],[25,34,48,31,"_babelRuntimeHelpersInherits"],[25,62,48,31],[26,2,8,0],[26,6,8,0,"_DecodeStreamJs"],[26,21,8,0],[26,24,8,0,"require"],[26,31,8,0],[26,32,8,0,"_dependencyMap"],[26,46,8,0],[27,2,8,0],[27,6,8,0,"DecodeStream"],[27,18,8,0],[27,21,8,0,"_interopDefault"],[27,36,8,0],[27,37,8,0,"_DecodeStreamJs"],[27,52,8,0],[28,2,1,0],[29,0,2,0],[30,0,3,0],[31,0,4,0],[32,0,5,0],[33,0,6,0],[34,0,7,0],[35,2,1,0],[35,6,9,6,"RunLengthStream"],[35,21,9,21],[35,47,9,21,"_DecodeStream"],[35,60,9,21],[36,4,10,4],[36,13,10,4,"RunLengthStream"],[36,29,10,16,"stream"],[36,35,10,22],[36,37,10,24,"maybeLength"],[36,48,10,35],[36,50,10,37],[37,6,10,37],[37,10,10,37,"_this"],[37,15,10,37],[38,6,10,37],[38,10,10,37,"_classCallCheck"],[38,25,10,37],[38,26,10,37,"default"],[38,33,10,37],[38,41,10,37,"RunLengthStream"],[38,56,10,37],[39,6,11,8,"_this"],[39,11,11,8],[39,18,11,8,"_callSuper"],[39,28,11,8],[39,29,11,8,"default"],[39,36,11,8],[39,44,11,8,"RunLengthStream"],[39,59,11,8],[39,62,11,14,"maybeLength"],[39,73,11,25],[40,6,12,8,"_this"],[40,11,12,8],[40,12,12,13,"stream"],[40,18,12,19],[40,21,12,22,"stream"],[40,27,12,28],[41,6,12,29],[41,13,12,29,"_this"],[41,18,12,29],[42,4,13,4],[43,4,13,5],[43,8,13,5,"_inherits"],[43,17,13,5],[43,18,13,5,"default"],[43,25,13,5],[43,27,13,5,"RunLengthStream"],[43,42,13,5],[43,44,13,5,"_DecodeStream"],[43,57,13,5],[44,4,13,5],[44,15,13,5,"_createClass"],[44,27,13,5],[44,28,13,5,"default"],[44,35,13,5],[44,37,13,5,"RunLengthStream"],[44,52,13,5],[45,6,13,5,"key"],[45,9,13,5],[46,6,13,5,"value"],[46,11,13,5],[46,13,14,4],[46,22,14,4,"readBlock"],[46,31,14,13,"readBlock"],[46,32,14,13],[46,34,14,16],[47,8,15,8],[48,8,16,8],[49,8,17,8],[50,8,18,8],[51,8,19,8],[51,12,19,14,"repeatHeader"],[51,24,19,26],[51,27,19,29],[51,31,19,33],[51,32,19,34,"stream"],[51,38,19,40],[51,39,19,41,"getBytes"],[51,47,19,49],[51,48,19,50],[51,49,19,51],[51,50,19,52],[52,8,20,8],[52,12,20,12],[52,13,20,13,"repeatHeader"],[52,25,20,25],[52,29,20,29,"repeatHeader"],[52,41,20,41],[52,42,20,42,"length"],[52,48,20,48],[52,51,20,51],[52,52,20,52],[52,56,20,56,"repeatHeader"],[52,68,20,68],[52,69,20,69],[52,70,20,70],[52,71,20,71],[52,76,20,76],[52,79,20,79],[52,81,20,81],[53,10,21,12],[53,14,21,16],[53,15,21,17,"eof"],[53,18,21,20],[53,21,21,23],[53,25,21,27],[54,10,22,12],[55,8,23,8],[56,8,24,8],[56,12,24,12,"buffer"],[56,18,24,18],[57,8,25,8],[57,12,25,12,"bufferLength"],[57,24,25,24],[57,27,25,27],[57,31,25,31],[57,32,25,32,"bufferLength"],[57,44,25,44],[58,8,26,8],[58,12,26,12,"n"],[58,13,26,13],[58,16,26,16,"repeatHeader"],[58,28,26,28],[58,29,26,29],[58,30,26,30],[58,31,26,31],[59,8,27,8],[59,12,27,12,"n"],[59,13,27,13],[59,16,27,16],[59,19,27,19],[59,21,27,21],[60,10,28,12],[61,10,29,12,"buffer"],[61,16,29,18],[61,19,29,21],[61,23,29,25],[61,24,29,26,"ensureBuffer"],[61,36,29,38],[61,37,29,39,"bufferLength"],[61,49,29,51],[61,52,29,54,"n"],[61,53,29,55],[61,56,29,58],[61,57,29,59],[61,58,29,60],[62,10,30,12,"buffer"],[62,16,30,18],[62,17,30,19,"bufferLength"],[62,29,30,31],[62,31,30,33],[62,32,30,34],[62,35,30,37,"repeatHeader"],[62,47,30,49],[62,48,30,50],[62,49,30,51],[62,50,30,52],[63,10,31,12],[63,14,31,16,"n"],[63,15,31,17],[63,18,31,20],[63,19,31,21],[63,21,31,23],[64,12,32,16],[64,16,32,22,"source"],[64,22,32,28],[64,25,32,31],[64,29,32,35],[64,30,32,36,"stream"],[64,36,32,42],[64,37,32,43,"getBytes"],[64,45,32,51],[64,46,32,52,"n"],[64,47,32,53],[64,48,32,54],[65,12,33,16,"buffer"],[65,18,33,22],[65,19,33,23,"set"],[65,22,33,26],[65,23,33,27,"source"],[65,29,33,33],[65,31,33,35,"bufferLength"],[65,43,33,47],[65,44,33,48],[66,12,34,16,"bufferLength"],[66,24,34,28],[66,28,34,32,"n"],[66,29,34,33],[67,10,35,12],[68,8,36,8],[68,9,36,9],[68,15,37,13],[69,10,38,12,"n"],[69,11,38,13],[69,14,38,16],[69,17,38,19],[69,20,38,22,"n"],[69,21,38,23],[70,10,39,12],[70,14,39,18,"b"],[70,15,39,19],[70,18,39,22,"repeatHeader"],[70,30,39,34],[70,31,39,35],[70,32,39,36],[70,33,39,37],[71,10,40,12,"buffer"],[71,16,40,18],[71,19,40,21],[71,23,40,25],[71,24,40,26,"ensureBuffer"],[71,36,40,38],[71,37,40,39,"bufferLength"],[71,49,40,51],[71,52,40,54,"n"],[71,53,40,55],[71,56,40,58],[71,57,40,59],[71,58,40,60],[72,10,41,12],[72,15,41,17],[72,19,41,21,"i"],[72,20,41,22],[72,23,41,25],[72,24,41,26],[72,26,41,28,"i"],[72,27,41,29],[72,30,41,32,"n"],[72,31,41,33],[72,33,41,35,"i"],[72,34,41,36],[72,36,41,38],[72,38,41,40],[73,12,42,16,"buffer"],[73,18,42,22],[73,19,42,23,"bufferLength"],[73,31,42,35],[73,33,42,37],[73,34,42,38],[73,37,42,41,"b"],[73,38,42,42],[74,10,43,12],[75,8,44,8],[76,8,45,8],[76,12,45,12],[76,13,45,13,"bufferLength"],[76,25,45,25],[76,28,45,28,"bufferLength"],[76,40,45,40],[77,6,46,4],[78,4,46,5],[79,2,46,5],[79,4,9,30,"DecodeStream"],[79,16,9,42],[79,17,9,42,"default"],[79,24,9,42],[80,2,48,0],[80,6,48,0,"_default"],[80,14,48,0],[80,17,48,15,"RunLengthStream"],[80,32,48,30],[81,0,48,31],[81,3]],"functionMap":{"names":["<global>","RunLengthStream","constructor","readBlock"],"mappings":"AAA;ACQ;ICC;KDG;IEC;KFgC;CDC"},"hasCjsExports":false},"type":"js/module"}]}