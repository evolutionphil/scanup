{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":910},"end":{"line":6,"column":83,"index":993}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../skia/web/JsiSkSurface","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":994},"end":{"line":7,"column":56,"index":1050}}],"key":"Rzl2stYJw20ym59ZvWEfWE+zKsE=","exportNames":["*"],"imports":1}},{"name":"../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":1051},"end":{"line":8,"column":39,"index":1090}}],"key":"SkcN7Zi2IL0pUxWZCaWeI65icek=","exportNames":["*"],"imports":1}},{"name":"./SkiaViewNativeId","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":1091},"end":{"line":9,"column":54,"index":1145}}],"key":"kWrLiBDG+ym6hj7OAPJhxAwSyxY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,_r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"SkiaPictureView\",{enumerable:!0,get:function(){return w}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e},n=_r(d[1]),i=_r(d[2]),s=_r(d[3]);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(null,arguments)}function u(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=o(e,\"string\");return\"symbol\"==typeof t?t:t+\"\"}function o(e,t){if(\"object\"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}const h=(e,t)=>{if(t)return{x:t.x*e,y:t.y*e,width:t.width*e,height:t.height*e}};class f{constructor(e,t){this.canvas=e,this.pd=t,u(this,\"surface\",null),this.onResize()}makeImageSnapshot(e,t){if(!this.surface)return null;return this.surface.getCanvas().clear(CanvasKit.TRANSPARENT),this.draw(e),this.surface.ref.flush(),this.surface.makeImageSnapshot(h(this.pd,t))}onResize(){const{canvas:e,pd:t}=this;e.width=e.clientWidth*t,e.height=e.clientHeight*t;const r=CanvasKit.MakeWebGLCanvasSurface(e),i=e.getContext(\"webgl2\");if(i&&(i.drawingBufferColorSpace=\"display-p3\"),!r)throw new Error(\"Could not create surface\");this.surface=new n.JsiSkSurface(CanvasKit,r)}draw(e){if(this.surface){const t=this.surface.getCanvas();t.clear(Float32Array.of(0,0,0,0)),t.save(),t.scale(p,p),t.drawPicture(e),t.restore(),this.surface.ref.flush()}}dispose(){var e;this.surface&&(null===(e=this.canvas)||void 0===e||null===(e=e.getContext(\"webgl2\"))||void 0===e||null===(e=e.getExtension(\"WEBGL_lose_context\"))||void 0===e||e.loseContext(),this.surface.ref.delete(),this.surface=null)}}class v{constructor(e,t){this.canvas=e,this.pd=t,u(this,\"cachedImage\",null)}onResize(){this.cachedImage=null}renderPictureToSurface(e){const t=new OffscreenCanvas(this.canvas.clientWidth*this.pd,this.canvas.clientHeight*this.pd);let r=null;try{const i=CanvasKit.MakeWebGLCanvasSurface(t),s=t.getContext(\"webgl2\");if(s&&(s.drawingBufferColorSpace=\"display-p3\"),!i)throw new Error(\"Could not create WebGL surface\");r=new n.JsiSkSurface(CanvasKit,i);const c=r.getCanvas();return c.clear(Float32Array.of(0,0,0,0)),c.save(),c.scale(this.pd,this.pd),c.drawPicture(e),c.restore(),r.ref.flush(),{surface:r,tempCanvas:t}}catch(e){return r&&r.ref.delete(),this.cleanupWebGLContext(t),null}}cleanupWebGLContext(e){const t=e.getContext(\"webgl2\");if(t){const e=t.getExtension(\"WEBGL_lose_context\");e&&e.loseContext()}}draw(e){const t=this.renderPictureToSurface(e);if(!t)return;const{tempCanvas:r}=t,n=this.canvas.getContext(\"2d\");if(!n)throw new Error(\"Could not get 2D context\");this.canvas.width=this.canvas.clientWidth*this.pd,this.canvas.height=this.canvas.clientHeight*this.pd,n.drawImage(r,0,0,r.width,r.height,0,0,this.canvas.clientWidth*this.pd,this.canvas.clientHeight*this.pd),this.cleanupWebGLContext(r)}makeImageSnapshot(e,t){if(!this.cachedImage){const r=this.renderPictureToSurface(e);if(!r)return null;const{surface:n,tempCanvas:i}=r;try{this.cachedImage=n.makeImageSnapshot(h(this.pd,t))}catch(e){console.error(\"Error creating image snapshot:\",e)}finally{n.ref.delete(),this.cleanupWebGLContext(i)}}return this.cachedImage}dispose(){var e;null===(e=this.cachedImage)||void 0===e||e.dispose(),this.cachedImage=null}}const p=i.Platform.PixelRatio,w=e=>{const{ref:n}=e,u=(0,t.useRef)(null),l=(0,t.useRef)(null),o=(0,t.useRef)(0),h=(0,t.useRef)(0),w=(0,t.useRef)(null),{picture:C,onLayout:b}=e,y=(0,t.useCallback)(()=>{o.current++},[]),S=(0,t.useCallback)(()=>{var e,t;return{width:(null===(e=u.current)||void 0===e?void 0:e.clientWidth)||0,height:(null===(t=u.current)||void 0===t?void 0:t.clientHeight)||0}},[]),x=(0,t.useCallback)(e=>{w.current=e,y()},[y]),k=(0,t.useCallback)(e=>l.current&&w.current?l.current.makeImageSnapshot(w.current,e):null,[]),I=(0,t.useCallback)(e=>{if(u.current){const t=u.current.getBoundingClientRect(),r=u.current.offsetParent,n=(null==r?void 0:r.getBoundingClientRect())||{left:0,top:0},i=t.left-n.left,s=t.top-n.top,c=t.left+window.scrollX,l=t.top+window.scrollY;e(i,s,t.width,t.height,c,l)}},[]),P=(0,t.useCallback)(e=>{if(u.current){const t=u.current.getBoundingClientRect();e(t.left,t.top,t.width,t.height)}},[]),W=(0,t.useCallback)(()=>{o.current>0&&(o.current=0,l.current&&w.current&&l.current.draw(w.current)),h.current=requestAnimationFrame(W)},[]),R=(0,t.useCallback)(t=>{const r=u.current;r&&(l.current=!0===e.__destroyWebGLContextAfterRender?new v(r,p):new f(r,p),w.current&&l.current.draw(w.current)),b&&b(t)},[b,e.__destroyWebGLContextAfterRender]);(0,t.useImperativeHandle)(n,()=>({setPicture:x,getSize:S,redraw:y,makeImageSnapshot:k,measure:I,measureInWindow:P,get canvasRef(){return()=>u.current}}),[x,S,y,k,I,P]),(0,t.useEffect)(()=>{var t;const r=null!==(t=e.nativeID)&&void 0!==t?t:\"\"+s.SkiaViewNativeId.current++;g.SkiaViewApi.registerView(r,{setPicture:x,getSize:S,redraw:y,makeImageSnapshot:k,measure:I,measureInWindow:P})},[x,S,y,k,I,P,e.nativeID]),(0,t.useEffect)(()=>{e.picture&&x(e.picture)},[x,e.picture]),(0,t.useEffect)(()=>(W(),()=>{cancelAnimationFrame(h.current),l.current&&(l.current.dispose(),l.current=null)}),[W]),(0,t.useEffect)(()=>{l.current&&w.current&&l.current.draw(w.current)},[C,y]);const{debug:E=!1,ref:_,...L}=e;return r.default.createElement(i.Platform.View,c({},L,{onLayout:R}),r.default.createElement(\"canvas\",{ref:u,style:{display:\"flex\",flex:1}}))}});","lineCount":1,"map":[[1,94,174,0,"Object"],[1,101,174,0,"defineProperty"],[1,116,174,0,"_e"],[1,119,174,0],[1,138,174,0,"enumerable"],[1,150,174,0],[1,152,174,0,"get"],[1,156,174,0],[1,174,174,0,"SkiaPictureView"],[1,175,174,0],[1,179,6,0],[1,183],[1,185,6,0,"_react"],[1,187,6,0,"_r"],[1,190,6,0,"d"],[1,192,6,0],[1,196,6,0,"React"],[1,199],[1,201,6,0,"_react"],[1,205],[1,232,7,0,"_skiaWebJsiSkSurface"],[1,234,7,0,"_r"],[1,237,7,0,"d"],[1,239,7,0],[1,243,8,0,"_Platform"],[1,245,8,0,"_r"],[1,248,8,0,"d"],[1,250,8,0],[1,254,9,0,"_SkiaViewNativeId"],[1,256,9,0,"_r"],[1,259,9,0,"d"],[1,261,9,0],[1,265,1,0],[1,274,1,9,"_extends"],[1,278,1,22],[1,285,1,29,"_extends"],[1,287,1,40,"Object"],[1,294,1,47,"assign"],[1,301,1,56,"Object"],[1,308,1,63,"assign"],[1,315,1,70,"bind"],[1,322,1,79],[1,331,1,89,"n"],[1,334,1,94],[1,338,1,99],[1,342,1,103,"e"],[1,344,1,107],[1,346,1,110,"e"],[1,348,1,114,"arguments"],[1,358,1,124,"length"],[1,365,1,132,"e"],[1,369,1,137],[1,370,1,139],[1,374,1,143,"t"],[1,376,1,147,"arguments"],[1,386,1,157,"e"],[1,389,1,161],[1,393,1,166],[1,397,1,170,"r"],[1,402,1,175,"t"],[1,405,1,178],[1,406,1,181],[1,409,1,183,"hasOwnProperty"],[1,424,1,198,"call"],[1,429,1,203,"t"],[1,431,1,206,"r"],[1,436,1,213,"n"],[1,438,1,215,"r"],[1,441,1,220,"t"],[1,443,1,222,"r"],[1,446,1,227],[1,447,1,229],[1,454,1,236,"n"],[1,455,1,239],[1,457,1,242,"_extends"],[1,459,1,251,"apply"],[1,465,1,257],[1,470,1,263,"arguments"],[1,480,1,275],[1,481,2,0],[1,490,2,9,"_defineProperty"],[1,492,2,25,"e"],[1,494,2,28,"r"],[1,496,2,31,"t"],[1,499,2,36],[1,506,2,44,"r"],[1,508,2,48,"_toPropertyKey"],[1,510,2,63,"r"],[1,516,2,70,"e"],[1,518,2,74,"Object"],[1,525,2,81,"defineProperty"],[1,540,2,96,"e"],[1,542,2,99,"r"],[1,544,2,102],[1,545,2,104,"value"],[1,551,2,111,"t"],[1,553,2,114,"enumerable"],[1,565,2,124],[1,567,2,130,"configurable"],[1,581,2,142],[1,583,2,148,"writable"],[1,593,2,156],[1,597,2,166,"e"],[1,599,2,168,"r"],[1,602,2,173,"t"],[1,604,2,176,"e"],[1,605,2,179],[1,606,3,0],[1,615,3,9,"_toPropertyKey"],[1,617,3,24,"t"],[1,620,3,29],[1,624,3,33,"i"],[1,626,3,37,"_toPrimitive"],[1,628,3,50,"t"],[1,630,3,53],[1,640,3,64],[1,646,3,71],[1,663,3,90,"i"],[1,665,3,94,"i"],[1,667,3,98,"i"],[1,669,3,102],[1,671,3,106],[1,672,4,0],[1,681,4,9,"_toPrimitive"],[1,683,4,22,"t"],[1,685,4,25,"r"],[1,688,4,30],[1,691,4,34],[1,708,4,53,"t"],[1,712,4,59,"t"],[1,714,4,62],[1,721,4,69,"t"],[1,723,4,72],[1,727,4,76,"e"],[1,729,4,80,"t"],[1,731,4,82,"Symbol"],[1,738,4,89,"toPrimitive"],[1,751,4,103],[1,759,4,107,"undefined"],[1,763,4,118,"e"],[1,765,4,121],[1,766,4,123],[1,770,4,127,"i"],[1,772,4,131,"e"],[1,774,4,133,"call"],[1,779,4,138,"t"],[1,781,4,141,"r"],[1,784,4,146],[1,795,4,158],[1,798,4,162],[1,815,4,181,"i"],[1,817,4,184],[1,824,4,191,"i"],[1,826,4,194],[1,832,4,200],[1,836,4,204,"TypeError"],[1,846,4,214],[1,893,4,263],[1,894,4,265],[1,901,4,273],[1,912,4,286,"r"],[1,914,4,290,"String"],[1,921,4,299,"Number"],[1,929,4,307,"t"],[1,931,4,311],[1,932,10,0],[1,938,10,6,"dp2Pixel"],[1,940,10,17,"dp2Pixel"],[1,941,10,18,"pd"],[1,943,10,22,"rect"],[1,948,11,2],[1,951,11,7,"rect"],[1,953,14,2],[1,959,14,9],[1,960,15,4,"x"],[1,962,15,7,"rect"],[1,964,15,12,"x"],[1,966,15,16,"pd"],[1,968,16,4,"y"],[1,970,16,7,"rect"],[1,972,16,12,"y"],[1,974,16,16,"pd"],[1,976,17,4,"width"],[1,982,17,11,"rect"],[1,984,17,16,"width"],[1,990,17,24,"pd"],[1,992,18,4,"height"],[1,999,18,12,"rect"],[1,1001,18,17,"height"],[1,1008,18,26,"pd"],[1,1012,21,0],[1,1018,21,6,"WebGLRenderer"],[1,1020,22,2,"constructor"],[1,1032,22,14,"canvas"],[1,1034,22,22,"pd"],[1,1037,23,4,"this"],[1,1042,23,9,"canvas"],[1,1049,23,18,"canvas"],[1,1051,24,4,"this"],[1,1056,24,9,"pd"],[1,1059,24,14,"pd"],[1,1061,25,4,"_defineProperty"],[1,1063,25,20,"this"],[1,1068,25,26],[1,1078,25,37],[1,1084,26,4,"this"],[1,1089,26,9,"onResize"],[1,1099,27,2],[1,1100,28,2,"makeImageSnapshot"],[1,1118,28,20,"picture"],[1,1120,28,29,"rect"],[1,1123,29,4],[1,1127,29,9,"this"],[1,1132,29,14,"surface"],[1,1140,30,6],[1,1147,30,13],[1,1152,36,4],[1,1159,32,19,"this"],[1,1164,32,24,"surface"],[1,1172,32,32,"getCanvas"],[1,1184,33,11,"clear"],[1,1190,33,17,"CanvasKit"],[1,1200,33,27,"TRANSPARENT"],[1,1213,34,4,"this"],[1,1218,34,9,"draw"],[1,1223,34,14,"picture"],[1,1226,35,4,"this"],[1,1231,35,9,"surface"],[1,1239,35,17,"ref"],[1,1243,35,21,"flush"],[1,1251,36,11,"this"],[1,1256,36,16,"surface"],[1,1264,36,24,"makeImageSnapshot"],[1,1282,36,42,"dp2Pixel"],[1,1284,36,51,"this"],[1,1289,36,56,"pd"],[1,1292,36,60,"rect"],[1,1295,37,2],[1,1296,38,2,"onResize"],[1,1307,39,4],[1,1313,39,10,"canvas"],[1,1320,40,6,"canvas"],[1,1322,40,12,"pd"],[1,1325,41,6,"pd"],[1,1328,42,8,"this"],[1,1333,43,4,"canvas"],[1,1335,43,11,"width"],[1,1341,43,19,"canvas"],[1,1343,43,26,"clientWidth"],[1,1355,43,40,"pd"],[1,1357,44,4,"canvas"],[1,1359,44,11,"height"],[1,1366,44,20,"canvas"],[1,1368,44,27,"clientHeight"],[1,1381,44,42,"pd"],[1,1383,45,4],[1,1389,45,10,"surface"],[1,1391,45,20,"CanvasKit"],[1,1401,45,30,"MakeWebGLCanvasSurface"],[1,1424,45,53,"canvas"],[1,1427,46,10,"ctx"],[1,1429,46,16,"canvas"],[1,1431,46,23,"getContext"],[1,1442,46,34],[1,1452,50,4],[1,1455,47,8,"ctx"],[1,1459,48,6,"ctx"],[1,1461,48,10,"drawingBufferColorSpace"],[1,1485,48,36],[1,1500,50,9,"surface"],[1,1502,51,6],[1,1508,51,12],[1,1512,51,16,"Error"],[1,1518,51,22],[1,1546,53,4,"this"],[1,1551,53,9,"surface"],[1,1559,53,19],[1,1563,53,23,"JsiSkSurface"],[1,1565,53,35,"JsiSkSurface"],[1,1578,53,36,"CanvasKit"],[1,1588,53,47,"surface"],[1,1590,54,2],[1,1591,55,2,"draw"],[1,1596,55,7,"picture"],[1,1599,56,4],[1,1602,56,8,"this"],[1,1607,56,13,"surface"],[1,1615,56,22],[1,1616,57,6],[1,1622,57,12,"canvas"],[1,1624,57,21,"this"],[1,1629,57,26,"surface"],[1,1637,57,34,"getCanvas"],[1,1649,58,6,"canvas"],[1,1651,58,13,"clear"],[1,1657,58,19,"Float32Array"],[1,1670,58,32,"of"],[1,1673,58,35],[1,1675,58,38],[1,1677,58,41],[1,1679,58,44],[1,1683,59,6,"canvas"],[1,1685,59,13,"save"],[1,1692,60,6,"canvas"],[1,1694,60,13,"scale"],[1,1700,60,19,"pd"],[1,1702,60,23,"pd"],[1,1705,61,6,"canvas"],[1,1707,61,13,"drawPicture"],[1,1719,61,25,"picture"],[1,1722,62,6,"canvas"],[1,1724,62,13,"restore"],[1,1734,63,6,"this"],[1,1739,63,11,"surface"],[1,1747,63,19,"ref"],[1,1751,63,23,"flush"],[1,1758,64,4],[1,1759,65,2],[1,1760,66,2,"dispose"],[1,1770,68,6],[1,1774,68,10,"_this$canvas"],[1,1776,67,8,"this"],[1,1781,67,13,"surface"],[1,1791,69,39],[1,1799,69,7,"_this$canvas"],[1,1801,69,22,"this"],[1,1806,69,27,"canvas"],[1,1820,69,59,"undefined"],[1,1824,69,47,"_this$canvas"],[1,1827,69,129],[1,1835,69,75,"_this$canvas"],[1,1837,69,90,"_this$canvas"],[1,1839,69,103,"getContext"],[1,1850,69,114],[1,1867,69,149,"undefined"],[1,1871,69,137,"_this$canvas"],[1,1874,69,233],[1,1882,69,165,"_this$canvas"],[1,1884,69,180,"_this$canvas"],[1,1886,69,193,"getExtension"],[1,1899,69,206],[1,1928,69,253,"undefined"],[1,1932,69,241,"_this$canvas"],[1,1935,69,268,"_this$canvas"],[1,1937,69,281,"loseContext"],[1,1951,70,6,"this"],[1,1956,70,11,"surface"],[1,1964,70,19,"ref"],[1,1968,70,23,"delete"],[1,1977,71,6,"this"],[1,1982,71,11,"surface"],[1,1990,71,21],[1,1995,73,2],[1,1997,75,0],[1,2003,75,6,"StaticWebGLRenderer"],[1,2005,76,2,"constructor"],[1,2017,76,14,"canvas"],[1,2019,76,22,"pd"],[1,2022,77,4,"this"],[1,2027,77,9,"canvas"],[1,2034,77,18,"canvas"],[1,2036,78,4,"this"],[1,2041,78,9,"pd"],[1,2044,78,14,"pd"],[1,2046,79,4,"_defineProperty"],[1,2048,79,20,"this"],[1,2053,79,26],[1,2067,79,41],[1,2072,80,2],[1,2073,81,2,"onResize"],[1,2084,82,4,"this"],[1,2089,82,9,"cachedImage"],[1,2101,82,23],[1,2105,83,2],[1,2106,84,2,"renderPictureToSurface"],[1,2129,84,25,"picture"],[1,2132,85,4],[1,2138,85,10,"tempCanvas"],[1,2140,85,23],[1,2144,85,27,"OffscreenCanvas"],[1,2160,85,43,"this"],[1,2165,85,48,"canvas"],[1,2172,85,55,"clientWidth"],[1,2184,85,69,"this"],[1,2189,85,74,"pd"],[1,2192,85,78,"this"],[1,2197,85,83,"canvas"],[1,2204,85,90,"clientHeight"],[1,2217,85,105,"this"],[1,2222,85,110,"pd"],[1,2226,86,4],[1,2230,86,8,"surface"],[1,2232,86,18],[1,2237,87,4],[1,2241,88,6],[1,2247,88,12,"webglSurface"],[1,2249,88,27,"CanvasKit"],[1,2259,88,37,"MakeWebGLCanvasSurface"],[1,2282,88,60,"tempCanvas"],[1,2285,89,12,"ctx"],[1,2287,89,18,"tempCanvas"],[1,2289,89,29,"getContext"],[1,2300,89,40],[1,2310,93,6],[1,2313,90,10,"ctx"],[1,2317,91,8,"ctx"],[1,2319,91,12,"drawingBufferColorSpace"],[1,2343,91,38],[1,2358,93,11,"webglSurface"],[1,2360,94,8],[1,2366,94,14],[1,2370,94,18,"Error"],[1,2376,94,24],[1,2410,96,6,"surface"],[1,2412,96,16],[1,2416,96,20,"JsiSkSurface"],[1,2418,96,32,"JsiSkSurface"],[1,2431,96,33,"CanvasKit"],[1,2441,96,44,"webglSurface"],[1,2444,97,6],[1,2450,97,12,"skiaCanvas"],[1,2452,97,25,"surface"],[1,2454,97,33,"getCanvas"],[1,2466,104,6],[1,2473,98,6,"skiaCanvas"],[1,2475,98,17,"clear"],[1,2481,98,23,"Float32Array"],[1,2494,98,36,"of"],[1,2497,98,39],[1,2499,98,42],[1,2501,98,45],[1,2503,98,48],[1,2507,99,6,"skiaCanvas"],[1,2509,99,17,"save"],[1,2516,100,6,"skiaCanvas"],[1,2518,100,17,"scale"],[1,2524,100,23,"this"],[1,2529,100,28,"pd"],[1,2532,100,32,"this"],[1,2537,100,37,"pd"],[1,2541,101,6,"skiaCanvas"],[1,2543,101,17,"drawPicture"],[1,2555,101,29,"picture"],[1,2558,102,6,"skiaCanvas"],[1,2560,102,17,"restore"],[1,2570,103,6,"surface"],[1,2572,103,14,"ref"],[1,2576,103,18,"flush"],[1,2584,104,13],[1,2585,105,8,"surface"],[1,2595,106,8,"tempCanvas"],[1,2608,108,4],[1,2609,108,6],[1,2615,108,13,"error"],[1,2618,113,6],[1,2625,109,10,"surface"],[1,2628,110,8,"surface"],[1,2630,110,16,"ref"],[1,2634,110,20,"delete"],[1,2643,112,6,"this"],[1,2648,112,11,"cleanupWebGLContext"],[1,2668,112,31,"tempCanvas"],[1,2671,113,13],[1,2675,114,4],[1,2676,115,2],[1,2677,116,2,"cleanupWebGLContext"],[1,2697,116,22,"tempCanvas"],[1,2700,117,4],[1,2706,117,10,"ctx"],[1,2708,117,16,"tempCanvas"],[1,2710,117,27,"getContext"],[1,2721,117,38],[1,2731,118,4],[1,2734,118,8,"ctx"],[1,2736,118,13],[1,2737,119,6],[1,2743,119,12,"loseContext"],[1,2745,119,26,"ctx"],[1,2747,119,30,"getExtension"],[1,2760,119,43],[1,2782,120,10,"loseContext"],[1,2785,121,8,"loseContext"],[1,2787,121,20,"loseContext"],[1,2800,123,4],[1,2801,124,2],[1,2802,125,2,"draw"],[1,2807,125,7,"picture"],[1,2810,126,4],[1,2816,126,10,"renderResult"],[1,2818,126,25,"this"],[1,2823,126,30,"renderPictureToSurface"],[1,2846,126,53,"picture"],[1,2849,127,4],[1,2853,127,9,"renderResult"],[1,2855,128,6],[1,2862,130,4],[1,2868,130,10,"tempCanvas"],[1,2879,131,6,"tempCanvas"],[1,2882,132,8,"renderResult"],[1,2884,133,10,"ctx2d"],[1,2886,133,18,"this"],[1,2891,133,23,"canvas"],[1,2898,133,30,"getContext"],[1,2909,133,41],[1,2915,134,4],[1,2919,134,9,"ctx2d"],[1,2921,135,6],[1,2927,135,12],[1,2931,135,16,"Error"],[1,2937,135,22],[1,2965,139,4,"this"],[1,2970,139,9,"canvas"],[1,2977,139,16,"width"],[1,2983,139,24,"this"],[1,2988,139,29,"canvas"],[1,2995,139,36,"clientWidth"],[1,3007,139,50,"this"],[1,3012,139,55,"pd"],[1,3015,140,4,"this"],[1,3020,140,9,"canvas"],[1,3027,140,16,"height"],[1,3034,140,25,"this"],[1,3039,140,30,"canvas"],[1,3046,140,37,"clientHeight"],[1,3059,140,52,"this"],[1,3064,140,57,"pd"],[1,3067,143,4,"ctx2d"],[1,3069,143,10,"drawImage"],[1,3079,143,20,"tempCanvas"],[1,3081,143,32],[1,3083,143,35],[1,3085,143,38,"tempCanvas"],[1,3087,143,49,"width"],[1,3093,143,56,"tempCanvas"],[1,3095,143,67,"height"],[1,3102,143,75],[1,3104,143,78],[1,3106,143,81,"this"],[1,3111,143,86,"canvas"],[1,3118,143,93,"clientWidth"],[1,3130,143,107,"this"],[1,3135,143,112,"pd"],[1,3138,143,116,"this"],[1,3143,143,121,"canvas"],[1,3150,143,128,"clientHeight"],[1,3163,143,143,"this"],[1,3168,143,148,"pd"],[1,3172,144,4,"this"],[1,3177,144,9,"cleanupWebGLContext"],[1,3197,144,29,"tempCanvas"],[1,3199,145,2],[1,3200,146,2,"makeImageSnapshot"],[1,3218,146,20,"picture"],[1,3220,146,29,"rect"],[1,3223,147,4],[1,3227,147,9,"this"],[1,3232,147,14,"cachedImage"],[1,3244,147,27],[1,3245,148,6],[1,3251,148,12,"renderResult"],[1,3253,148,27,"this"],[1,3258,148,32,"renderPictureToSurface"],[1,3281,148,55,"picture"],[1,3284,149,6],[1,3288,149,11,"renderResult"],[1,3290,150,8],[1,3297,150,15],[1,3302,152,6],[1,3308,152,12,"surface"],[1,3316,153,8,"surface"],[1,3318,153,15,"tempCanvas"],[1,3329,154,8,"tempCanvas"],[1,3332,155,10,"renderResult"],[1,3334,156,6],[1,3338,157,8,"this"],[1,3343,157,13,"cachedImage"],[1,3355,157,27,"surface"],[1,3357,157,35,"makeImageSnapshot"],[1,3375,157,53,"dp2Pixel"],[1,3377,157,62,"this"],[1,3382,157,67,"pd"],[1,3385,157,71,"rect"],[1,3388,158,6],[1,3389,158,8],[1,3395,158,15,"error"],[1,3398,159,8,"console"],[1,3406,159,16,"error"],[1,3412,159,22],[1,3445,159,56,"error"],[1,3447,160,6],[1,3448,160,7],[1,3456,161,8,"surface"],[1,3458,161,16,"ref"],[1,3462,161,20,"delete"],[1,3471,162,8,"this"],[1,3476,162,13,"cleanupWebGLContext"],[1,3496,162,33,"tempCanvas"],[1,3498,163,6],[1,3499,164,4],[1,3500,165,4],[1,3507,165,11,"this"],[1,3512,165,16,"cachedImage"],[1,3523,166,2],[1,3524,167,2,"dispose"],[1,3534,168,4],[1,3538,168,8,"_this$cachedImage"],[1,3540,169,47],[1,3548,169,5,"_this$cachedImage"],[1,3550,169,25,"this"],[1,3555,169,30,"cachedImage"],[1,3574,169,72,"undefined"],[1,3578,169,55,"_this$cachedImage"],[1,3581,169,87,"_this$cachedImage"],[1,3583,169,105,"dispose"],[1,3593,170,4,"this"],[1,3598,170,9,"cachedImage"],[1,3610,170,23],[1,3614,171,2],[1,3616,173,0],[1,3622,173,6,"pd"],[1,3624,173,11,"Platform"],[1,3626,173,19,"Platform"],[1,3635,173,20,"PixelRatio"],[1,3646,174,13,"SkiaPictureView"],[1,3648,174,31,"props"],[1,3652,175,2],[1,3658,175,8,"ref"],[1,3662,176,4,"ref"],[1,3665,177,6,"props"],[1,3667,178,8,"canvasRef"],[1,3670,178,20],[1,3672,178,20,"useRef"],[1,3674,178,26,"useRef"],[1,3682,178,27],[1,3688,179,8,"renderer"],[1,3691,179,19],[1,3693,179,19,"useRef"],[1,3695,179,25,"useRef"],[1,3703,179,26],[1,3709,180,8,"redrawRequestsRef"],[1,3712,180,28],[1,3714,180,28,"useRef"],[1,3716,180,34,"useRef"],[1,3724,180,35],[1,3727,181,8,"requestIdRef"],[1,3730,181,23],[1,3732,181,23,"useRef"],[1,3734,181,29,"useRef"],[1,3742,181,30],[1,3745,182,8,"pictureRef"],[1,3748,182,21],[1,3750,182,21,"useRef"],[1,3752,182,27,"useRef"],[1,3760,182,28],[1,3767,183,8,"picture"],[1,3775,184,4,"picture"],[1,3777,184,11,"onLayout"],[1,3786,185,4,"onLayout"],[1,3789,186,6,"props"],[1,3791,187,8,"redraw"],[1,3794,187,17],[1,3796,187,17,"useCallback"],[1,3798,187,28,"useCallback"],[1,3811,187,29],[1,3816,188,4,"redrawRequestsRef"],[1,3818,188,22,"current"],[1,3829,189,5],[1,3833,190,8,"getSize"],[1,3836,190,18],[1,3838,190,18,"useCallback"],[1,3840,190,29,"useCallback"],[1,3853,190,30],[1,3858,191,4],[1,3862,191,8,"_canvasRef$current"],[1,3864,191,28,"_canvasRef$current2"],[1,3866,192,4],[1,3872,192,11],[1,3873,193,6,"width"],[1,3880,193,59],[1,3888,193,15,"_canvasRef$current"],[1,3890,193,36,"canvasRef"],[1,3892,193,46,"current"],[1,3907,193,85,"undefined"],[1,3911,193,67,"_canvasRef$current"],[1,3918,193,96,"undefined"],[1,3920,193,108,"_canvasRef$current"],[1,3922,193,127,"clientWidth"],[1,3936,193,143],[1,3938,194,6,"height"],[1,3946,194,61],[1,3954,194,16,"_canvasRef$current2"],[1,3956,194,38,"canvasRef"],[1,3958,194,48,"current"],[1,3973,194,88,"undefined"],[1,3977,194,69,"_canvasRef$current2"],[1,3984,194,99,"undefined"],[1,3986,194,111,"_canvasRef$current2"],[1,3988,194,131,"clientHeight"],[1,4003,194,148],[1,4007,196,5],[1,4011,197,8,"setPicture"],[1,4014,197,21],[1,4016,197,21,"useCallback"],[1,4018,197,32,"useCallback"],[1,4031,197,33,"newPicture"],[1,4035,198,4,"pictureRef"],[1,4037,198,15,"current"],[1,4045,198,25,"newPicture"],[1,4047,199,4,"redraw"],[1,4052,200,5],[1,4053,200,6,"redraw"],[1,4057,201,8,"makeImageSnapshot"],[1,4060,201,28],[1,4062,201,28,"useCallback"],[1,4064,201,39,"useCallback"],[1,4077,201,40,"rect"],[1,4080,202,8,"renderer"],[1,4082,202,17,"current"],[1,4091,202,28,"pictureRef"],[1,4093,202,39,"current"],[1,4101,203,13,"renderer"],[1,4103,203,22,"current"],[1,4111,203,30,"makeImageSnapshot"],[1,4129,203,48,"pictureRef"],[1,4131,203,59,"current"],[1,4139,203,68,"rect"],[1,4142,205,11],[1,4147,206,5],[1,4151,207,8,"measure"],[1,4154,207,18],[1,4156,207,18,"useCallback"],[1,4158,207,29,"useCallback"],[1,4171,207,30,"callback"],[1,4175,208,4],[1,4178,208,8,"canvasRef"],[1,4180,208,18,"current"],[1,4188,208,27],[1,4189,209,6],[1,4195,209,12,"rect"],[1,4197,209,19,"canvasRef"],[1,4199,209,29,"current"],[1,4207,209,37,"getBoundingClientRect"],[1,4231,210,12,"parentElement"],[1,4233,210,28,"canvasRef"],[1,4235,210,38,"current"],[1,4243,210,46,"offsetParent"],[1,4256,211,12,"parentRect"],[1,4259,211,26,"parentElement"],[1,4272,211,76,"undefined"],[1,4274,211,88,"parentElement"],[1,4276,211,102,"getBoundingClientRect"],[1,4302,211,130],[1,4303,212,8,"left"],[1,4308,212,14],[1,4310,213,8,"top"],[1,4314,213,13],[1,4317,217,12,"x"],[1,4319,217,16,"rect"],[1,4321,217,21,"left"],[1,4326,217,28,"parentRect"],[1,4328,217,39,"left"],[1,4333,218,12,"y"],[1,4335,218,16,"rect"],[1,4337,218,21,"top"],[1,4341,218,27,"parentRect"],[1,4343,218,38,"top"],[1,4347,221,12,"pageX"],[1,4349,221,20,"rect"],[1,4351,221,25,"left"],[1,4356,221,32,"window"],[1,4363,221,39,"scrollX"],[1,4371,222,12,"pageY"],[1,4373,222,20,"rect"],[1,4375,222,25,"top"],[1,4379,222,31,"window"],[1,4386,222,38,"scrollY"],[1,4394,223,6,"callback"],[1,4396,223,15,"x"],[1,4398,223,18,"y"],[1,4400,223,21,"rect"],[1,4402,223,26,"width"],[1,4408,223,33,"rect"],[1,4410,223,38,"height"],[1,4417,223,46,"pageX"],[1,4419,223,53,"pageY"],[1,4421,224,4],[1,4424,225,5],[1,4428,226,8,"measureInWindow"],[1,4431,226,26],[1,4433,226,26,"useCallback"],[1,4435,226,37,"useCallback"],[1,4448,226,38,"callback"],[1,4452,227,4],[1,4455,227,8,"canvasRef"],[1,4457,227,18,"current"],[1,4465,227,27],[1,4466,228,6],[1,4472,228,12,"rect"],[1,4474,228,19,"canvasRef"],[1,4476,228,29,"current"],[1,4484,228,37,"getBoundingClientRect"],[1,4508,233,6,"callback"],[1,4510,231,16,"rect"],[1,4512,231,21,"left"],[1,4517,232,16,"rect"],[1,4519,232,21,"top"],[1,4523,233,21,"rect"],[1,4525,233,26,"width"],[1,4531,233,33,"rect"],[1,4533,233,38,"height"],[1,4540,234,4],[1,4543,235,5],[1,4547,236,8,"tick"],[1,4550,236,15],[1,4552,236,15,"useCallback"],[1,4554,236,26,"useCallback"],[1,4567,236,27],[1,4572,237,8,"redrawRequestsRef"],[1,4574,237,26,"current"],[1,4582,237,36],[1,4586,238,6,"redrawRequestsRef"],[1,4588,238,24,"current"],[1,4596,238,34],[1,4598,239,10,"renderer"],[1,4600,239,19,"current"],[1,4609,239,30,"pictureRef"],[1,4611,239,41,"current"],[1,4620,240,8,"renderer"],[1,4622,240,17,"current"],[1,4630,240,25,"draw"],[1,4635,240,30,"pictureRef"],[1,4637,240,41,"current"],[1,4647,243,4,"requestIdRef"],[1,4649,243,17,"current"],[1,4657,243,27,"requestAnimationFrame"],[1,4679,243,49,"tick"],[1,4683,244,5],[1,4687,245,8,"onLayoutEvent"],[1,4690,245,24],[1,4692,245,24,"useCallback"],[1,4694,245,35,"useCallback"],[1,4707,245,36,"evt"],[1,4711,246,4],[1,4717,246,10,"canvas"],[1,4719,246,19,"canvasRef"],[1,4721,246,29,"current"],[1,4729,247,8,"canvas"],[1,4733,248,6,"renderer"],[1,4735,248,15,"current"],[1,4744,248,68],[1,4748,248,25,"props"],[1,4750,248,31,"__destroyWebGLContextAfterRender"],[1,4783,248,75],[1,4787,248,79,"StaticWebGLRenderer"],[1,4789,248,99,"canvas"],[1,4791,248,107,"pd"],[1,4794,248,113],[1,4798,248,117,"WebGLRenderer"],[1,4800,248,131,"canvas"],[1,4802,248,139,"pd"],[1,4805,249,10,"pictureRef"],[1,4807,249,21,"current"],[1,4816,250,8,"renderer"],[1,4818,250,17,"current"],[1,4826,250,25,"draw"],[1,4831,250,30,"pictureRef"],[1,4833,250,41,"current"],[1,4843,253,8,"onLayout"],[1,4846,254,6,"onLayout"],[1,4848,254,15,"evt"],[1,4852,256,5],[1,4853,256,6,"onLayout"],[1,4855,256,16,"props"],[1,4857,256,22,"__destroyWebGLContextAfterRender"],[1,4893,257,2],[1,4895,257,2,"useImperativeHandle"],[1,4897,257,21,"useImperativeHandle"],[1,4918,257,22,"ref"],[1,4920,257,27],[1,4926,258,4,"setPicture"],[1,4939,259,4,"getSize"],[1,4949,260,4,"redraw"],[1,4958,261,4,"makeImageSnapshot"],[1,4978,262,4,"measure"],[1,4988,263,4,"measureInWindow"],[1,5006,264,4],[1,5019,264,8,"canvasRef"],[1,5022,265,6],[1,5028,265,13],[1,5032,265,19,"canvasRef"],[1,5034,265,29,"current"],[1,5041,266,4],[1,5045,267,6],[1,5046,267,7,"setPicture"],[1,5048,267,19,"getSize"],[1,5050,267,28,"redraw"],[1,5052,267,36,"makeImageSnapshot"],[1,5054,267,55,"measure"],[1,5056,267,64,"measureInWindow"],[1,5061,268,2],[1,5063,268,2,"useEffect"],[1,5065,268,11,"useEffect"],[1,5076,268,12],[1,5081,269,4],[1,5085,269,8,"_props$nativeID"],[1,5087,270,4],[1,5093,270,10,"nativeID"],[1,5095,270,60],[1,5103,270,22,"_props$nativeID"],[1,5105,270,40,"props"],[1,5107,270,46,"nativeID"],[1,5123,270,83,"undefined"],[1,5127,270,68,"_props$nativeID"],[1,5129,270,97,"_props$nativeID"],[1,5131,270,115],[1,5134,270,118,"SkiaViewNativeId"],[1,5136,270,134,"SkiaViewNativeId"],[1,5153,270,135,"current"],[1,5163,271,4,"global"],[1,5165,271,11,"SkiaViewApi"],[1,5177,271,23,"registerView"],[1,5190,271,36,"nativeID"],[1,5192,271,46],[1,5193,272,6,"setPicture"],[1,5206,273,6,"getSize"],[1,5216,274,6,"redraw"],[1,5225,275,6,"makeImageSnapshot"],[1,5245,276,6,"measure"],[1,5255,277,6,"measureInWindow"],[1,5276,279,5],[1,5277,279,6,"setPicture"],[1,5279,279,18,"getSize"],[1,5281,279,27,"redraw"],[1,5283,279,35,"makeImageSnapshot"],[1,5285,279,54,"measure"],[1,5287,279,63,"measureInWindow"],[1,5289,279,80,"props"],[1,5291,279,86,"nativeID"],[1,5303,280,2],[1,5305,280,2,"useEffect"],[1,5307,280,11,"useEffect"],[1,5318,280,12],[1,5323,281,8,"props"],[1,5325,281,14,"picture"],[1,5334,282,6,"setPicture"],[1,5336,282,17,"props"],[1,5338,282,23,"picture"],[1,5348,284,5],[1,5349,284,6,"setPicture"],[1,5351,284,18,"props"],[1,5353,284,24,"picture"],[1,5364,285,2],[1,5366,285,2,"useEffect"],[1,5368,285,11,"useEffect"],[1,5379,285,12],[1,5384,286,4,"tick"],[1,5388,287,11],[1,5393,288,6,"cancelAnimationFrame"],[1,5414,288,27,"requestIdRef"],[1,5416,288,40,"current"],[1,5425,289,10,"renderer"],[1,5427,289,19,"current"],[1,5437,290,8,"renderer"],[1,5439,290,17,"current"],[1,5447,290,25,"dispose"],[1,5457,291,8,"renderer"],[1,5459,291,17,"current"],[1,5467,291,27],[1,5475,294,5],[1,5476,294,6,"tick"],[1,5481,295,2],[1,5483,295,2,"useEffect"],[1,5485,295,11,"useEffect"],[1,5496,295,12],[1,5501,296,8,"renderer"],[1,5503,296,17,"current"],[1,5512,296,28,"pictureRef"],[1,5514,296,39,"current"],[1,5523,297,6,"renderer"],[1,5525,297,15,"current"],[1,5533,297,23,"draw"],[1,5538,297,28,"pictureRef"],[1,5540,297,39,"current"],[1,5550,299,5],[1,5551,299,6,"picture"],[1,5553,299,15,"redraw"],[1,5557,300,2],[1,5563,300,8,"debug"],[1,5569,301,4,"debug"],[1,5572,301,12],[1,5574,302,4,"ref"],[1,5578,302,9,"_ref"],[1,5583,303,7,"viewProps"],[1,5586,304,6,"props"],[1,5588,305,2],[1,5595,305,22,"React"],[1,5597,305,27,"default"],[1,5605,305,28,"createElement"],[1,5619,305,42,"Platform"],[1,5621,305,50,"Platform"],[1,5630,305,51,"View"],[1,5635,305,57,"_extends"],[1,5637,305,66],[1,5638,305,67],[1,5640,305,70,"viewProps"],[1,5642,305,81],[1,5643,306,4,"onLayout"],[1,5652,306,14,"onLayoutEvent"],[1,5656,307,19,"React"],[1,5658,307,24,"default"],[1,5666,307,25,"createElement"],[1,5680,307,39],[1,5689,307,49],[1,5690,308,4,"ref"],[1,5694,308,9,"canvasRef"],[1,5696,309,4,"style"],[1,5702,309,11],[1,5703,310,6,"display"],[1,5711,310,15],[1,5718,311,6,"flex"],[1,5723,311,12],[1,5729,314,2],[1,5732]],"functionMap":{"names":["_extends","<anonymous>","<global>","_defineProperty","_toPropertyKey","_toPrimitive","dp2Pixel","WebGLRenderer","WebGLRenderer#constructor","WebGLRenderer#makeImageSnapshot","WebGLRenderer#onResize","WebGLRenderer#draw","WebGLRenderer#dispose","StaticWebGLRenderer","StaticWebGLRenderer#constructor","StaticWebGLRenderer#onResize","StaticWebGLRenderer#renderPictureToSurface","StaticWebGLRenderer#cleanupWebGLContext","StaticWebGLRenderer#draw","StaticWebGLRenderer#makeImageSnapshot","StaticWebGLRenderer#dispose","SkiaPictureView","redraw","getSize","setPicture","makeImageSnapshot","measure","measureInWindow","tick","onLayoutEvent","useImperativeHandle$argument_1","get__canvasRef","useEffect$argument_0"],"mappings":"AAA,+EC,iKD,oCE;ACC,oLD;AEC,2GF;AGC,wTH;iBIM;CJU;AKC;ECC;GDK;EEC;GFS;EGC;GHgB;EIC;GJU;EKC;GLO;CLC;AWC;ECC;GDI;EEC;GFE;EGC;GH+B;EIC;GJQ;EKC;GLoB;EMC;GNoB;EOC;GPI;CXC;+BmBE;6BCa;GDE;8BEC;GFM;iCGC;GHG;wCIC;GJK;8BKC;GLkB;sCMC;GNS;2BOC;GPQ;oCQC;GRW;2BSC;ICO;a9BC,uB8B;KDC;ITC;YWC;GXW;YWC;GXI;YWC;W/BE;K+BM;GXC;YWC;GXI;CnBe"},"hasCjsExports":false},"type":"js/module"}]}