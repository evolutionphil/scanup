{"dependencies":[{"name":"../objects/PDFName.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"n98wTd1MATuKrvcBEI04SWaKgtU=","exportNames":["*"],"imports":1}},{"name":"../objects/PDFNumber.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":48,"index":93}}],"key":"+oWVcRhlrMLCTcVWzoq+cIYZJ6o=","exportNames":["*"],"imports":1}},{"name":"./PDFFlateStream.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":49,"index":143}}],"key":"2KlmqjdaZjVl1T+ubVBJBrT677Y=","exportNames":["*"],"imports":1}},{"name":"../syntax/CharCodes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":144},"end":{"line":4,"column":47,"index":191}}],"key":"+DBwAmT9NZfRH+sDMoR59/8CQ3Q=","exportNames":["*"],"imports":1}},{"name":"../../utils/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":192},"end":{"line":5,"column":66,"index":258}}],"key":"AUCnYNcCot7PlCuuOg5nVchJREc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _objectsPDFNameJs = require(_dependencyMap[0], \"../objects/PDFName.js\");\n  var PDFName = _interopDefault(_objectsPDFNameJs);\n  var _objectsPDFNumberJs = require(_dependencyMap[1], \"../objects/PDFNumber.js\");\n  var PDFNumber = _interopDefault(_objectsPDFNumberJs);\n  var _PDFFlateStreamJs = require(_dependencyMap[2], \"./PDFFlateStream.js\");\n  var PDFFlateStream = _interopDefault(_PDFFlateStreamJs);\n  var _syntaxCharCodesJs = require(_dependencyMap[3], \"../syntax/CharCodes.js\");\n  var CharCodes = _interopDefault(_syntaxCharCodesJs);\n  var _utilsIndexJs = require(_dependencyMap[4], \"../../utils/index.js\");\n  class PDFObjectStream extends PDFFlateStream.default {\n    constructor(context, objects, encode = true) {\n      super(context.obj({}), encode);\n      this.objects = objects;\n      this.offsets = this.computeObjectOffsets();\n      this.offsetsString = this.computeOffsetsString();\n      this.dict.set(PDFName.default.of('Type'), PDFName.default.of('ObjStm'));\n      this.dict.set(PDFName.default.of('N'), PDFNumber.default.of(this.objects.length));\n      this.dict.set(PDFName.default.of('First'), PDFNumber.default.of(this.offsetsString.length));\n    }\n    getObjectsCount() {\n      return this.objects.length;\n    }\n    clone(context) {\n      return PDFObjectStream.withContextAndObjects(context || this.dict.context, this.objects.slice(), this.encode);\n    }\n    getContentsString() {\n      let value = this.offsetsString;\n      for (let idx = 0, len = this.objects.length; idx < len; idx++) {\n        const [, object] = this.objects[idx];\n        value += `${object}\\n`;\n      }\n      return value;\n    }\n    getUnencodedContents() {\n      const buffer = new Uint8Array(this.getUnencodedContentsSize());\n      let offset = (0, _utilsIndexJs.copyStringIntoBuffer)(this.offsetsString, buffer, 0);\n      for (let idx = 0, len = this.objects.length; idx < len; idx++) {\n        const [, object] = this.objects[idx];\n        offset += object.copyBytesInto(buffer, offset);\n        buffer[offset++] = CharCodes.default.Newline;\n      }\n      return buffer;\n    }\n    getUnencodedContentsSize() {\n      return this.offsetsString.length + (0, _utilsIndexJs.last)(this.offsets)[1] + (0, _utilsIndexJs.last)(this.objects)[1].sizeInBytes() + 1;\n    }\n    computeOffsetsString() {\n      let offsetsString = '';\n      for (let idx = 0, len = this.offsets.length; idx < len; idx++) {\n        const [objectNumber, offset] = this.offsets[idx];\n        offsetsString += `${objectNumber} ${offset} `;\n      }\n      return offsetsString;\n    }\n    computeObjectOffsets() {\n      let offset = 0;\n      const offsets = new Array(this.objects.length);\n      for (let idx = 0, len = this.objects.length; idx < len; idx++) {\n        const [ref, object] = this.objects[idx];\n        offsets[idx] = [ref.objectNumber, offset];\n        offset += object.sizeInBytes() + 1; // '\\n'\n      }\n      return offsets;\n    }\n  }\n  PDFObjectStream.withContextAndObjects = (context, objects, encode = true) => new PDFObjectStream(context, objects, encode);\n  var _default = PDFObjectStream;\n});","lineCount":85,"map":[[12,2,66,0,"Object"],[12,8,66,0],[12,9,66,0,"defineProperty"],[12,23,66,0],[12,24,66,0,"exports"],[12,31,66,0],[13,4,66,0,"enumerable"],[13,14,66,0],[14,4,66,0,"get"],[14,7,66,0],[14,18,66,0,"get"],[14,19,66,0],[15,6,66,0],[15,13,66,0,"_default"],[15,21,66,0],[16,4,66,0],[17,2,66,0],[18,2,1,0],[18,6,1,0,"_objectsPDFNameJs"],[18,23,1,0],[18,26,1,0,"require"],[18,33,1,0],[18,34,1,0,"_dependencyMap"],[18,48,1,0],[19,2,1,0],[19,6,1,0,"PDFName"],[19,13,1,0],[19,16,1,0,"_interopDefault"],[19,31,1,0],[19,32,1,0,"_objectsPDFNameJs"],[19,49,1,0],[20,2,2,0],[20,6,2,0,"_objectsPDFNumberJs"],[20,25,2,0],[20,28,2,0,"require"],[20,35,2,0],[20,36,2,0,"_dependencyMap"],[20,50,2,0],[21,2,2,0],[21,6,2,0,"PDFNumber"],[21,15,2,0],[21,18,2,0,"_interopDefault"],[21,33,2,0],[21,34,2,0,"_objectsPDFNumberJs"],[21,53,2,0],[22,2,3,0],[22,6,3,0,"_PDFFlateStreamJs"],[22,23,3,0],[22,26,3,0,"require"],[22,33,3,0],[22,34,3,0,"_dependencyMap"],[22,48,3,0],[23,2,3,0],[23,6,3,0,"PDFFlateStream"],[23,20,3,0],[23,23,3,0,"_interopDefault"],[23,38,3,0],[23,39,3,0,"_PDFFlateStreamJs"],[23,56,3,0],[24,2,4,0],[24,6,4,0,"_syntaxCharCodesJs"],[24,24,4,0],[24,27,4,0,"require"],[24,34,4,0],[24,35,4,0,"_dependencyMap"],[24,49,4,0],[25,2,4,0],[25,6,4,0,"CharCodes"],[25,15,4,0],[25,18,4,0,"_interopDefault"],[25,33,4,0],[25,34,4,0,"_syntaxCharCodesJs"],[25,52,4,0],[26,2,5,0],[26,6,5,0,"_utilsIndexJs"],[26,19,5,0],[26,22,5,0,"require"],[26,29,5,0],[26,30,5,0,"_dependencyMap"],[26,44,5,0],[27,2,6,0],[27,8,6,6,"PDFObjectStream"],[27,23,6,21],[27,32,6,30,"PDFFlateStream"],[27,46,6,44],[27,47,6,44,"default"],[27,54,6,44],[27,55,6,45],[28,4,7,4,"constructor"],[28,15,7,15,"constructor"],[28,16,7,16,"context"],[28,23,7,23],[28,25,7,25,"objects"],[28,32,7,32],[28,34,7,34,"encode"],[28,40,7,40],[28,43,7,43],[28,47,7,47],[28,49,7,49],[29,6,8,8],[29,11,8,13],[29,12,8,14,"context"],[29,19,8,21],[29,20,8,22,"obj"],[29,23,8,25],[29,24,8,26],[29,25,8,27],[29,26,8,28],[29,27,8,29],[29,29,8,31,"encode"],[29,35,8,37],[29,36,8,38],[30,6,9,8],[30,10,9,12],[30,11,9,13,"objects"],[30,18,9,20],[30,21,9,23,"objects"],[30,28,9,30],[31,6,10,8],[31,10,10,12],[31,11,10,13,"offsets"],[31,18,10,20],[31,21,10,23],[31,25,10,27],[31,26,10,28,"computeObjectOffsets"],[31,46,10,48],[31,47,10,49],[31,48,10,50],[32,6,11,8],[32,10,11,12],[32,11,11,13,"offsetsString"],[32,24,11,26],[32,27,11,29],[32,31,11,33],[32,32,11,34,"computeOffsetsString"],[32,52,11,54],[32,53,11,55],[32,54,11,56],[33,6,12,8],[33,10,12,12],[33,11,12,13,"dict"],[33,15,12,17],[33,16,12,18,"set"],[33,19,12,21],[33,20,12,22,"PDFName"],[33,27,12,29],[33,28,12,29,"default"],[33,35,12,29],[33,36,12,30,"of"],[33,38,12,32],[33,39,12,33],[33,45,12,39],[33,46,12,40],[33,48,12,42,"PDFName"],[33,55,12,49],[33,56,12,49,"default"],[33,63,12,49],[33,64,12,50,"of"],[33,66,12,52],[33,67,12,53],[33,75,12,61],[33,76,12,62],[33,77,12,63],[34,6,13,8],[34,10,13,12],[34,11,13,13,"dict"],[34,15,13,17],[34,16,13,18,"set"],[34,19,13,21],[34,20,13,22,"PDFName"],[34,27,13,29],[34,28,13,29,"default"],[34,35,13,29],[34,36,13,30,"of"],[34,38,13,32],[34,39,13,33],[34,42,13,36],[34,43,13,37],[34,45,13,39,"PDFNumber"],[34,54,13,48],[34,55,13,48,"default"],[34,62,13,48],[34,63,13,49,"of"],[34,65,13,51],[34,66,13,52],[34,70,13,56],[34,71,13,57,"objects"],[34,78,13,64],[34,79,13,65,"length"],[34,85,13,71],[34,86,13,72],[34,87,13,73],[35,6,14,8],[35,10,14,12],[35,11,14,13,"dict"],[35,15,14,17],[35,16,14,18,"set"],[35,19,14,21],[35,20,14,22,"PDFName"],[35,27,14,29],[35,28,14,29,"default"],[35,35,14,29],[35,36,14,30,"of"],[35,38,14,32],[35,39,14,33],[35,46,14,40],[35,47,14,41],[35,49,14,43,"PDFNumber"],[35,58,14,52],[35,59,14,52,"default"],[35,66,14,52],[35,67,14,53,"of"],[35,69,14,55],[35,70,14,56],[35,74,14,60],[35,75,14,61,"offsetsString"],[35,88,14,74],[35,89,14,75,"length"],[35,95,14,81],[35,96,14,82],[35,97,14,83],[36,4,15,4],[37,4,16,4,"getObjectsCount"],[37,19,16,19,"getObjectsCount"],[37,20,16,19],[37,22,16,22],[38,6,17,8],[38,13,17,15],[38,17,17,19],[38,18,17,20,"objects"],[38,25,17,27],[38,26,17,28,"length"],[38,32,17,34],[39,4,18,4],[40,4,19,4,"clone"],[40,9,19,9,"clone"],[40,10,19,10,"context"],[40,17,19,17],[40,19,19,19],[41,6,20,8],[41,13,20,15,"PDFObjectStream"],[41,28,20,30],[41,29,20,31,"withContextAndObjects"],[41,50,20,52],[41,51,20,53,"context"],[41,58,20,60],[41,62,20,64],[41,66,20,68],[41,67,20,69,"dict"],[41,71,20,73],[41,72,20,74,"context"],[41,79,20,81],[41,81,20,83],[41,85,20,87],[41,86,20,88,"objects"],[41,93,20,95],[41,94,20,96,"slice"],[41,99,20,101],[41,100,20,102],[41,101,20,103],[41,103,20,105],[41,107,20,109],[41,108,20,110,"encode"],[41,114,20,116],[41,115,20,117],[42,4,21,4],[43,4,22,4,"getContentsString"],[43,21,22,21,"getContentsString"],[43,22,22,21],[43,24,22,24],[44,6,23,8],[44,10,23,12,"value"],[44,15,23,17],[44,18,23,20],[44,22,23,24],[44,23,23,25,"offsetsString"],[44,36,23,38],[45,6,24,8],[45,11,24,13],[45,15,24,17,"idx"],[45,18,24,20],[45,21,24,23],[45,22,24,24],[45,24,24,26,"len"],[45,27,24,29],[45,30,24,32],[45,34,24,36],[45,35,24,37,"objects"],[45,42,24,44],[45,43,24,45,"length"],[45,49,24,51],[45,51,24,53,"idx"],[45,54,24,56],[45,57,24,59,"len"],[45,60,24,62],[45,62,24,64,"idx"],[45,65,24,67],[45,67,24,69],[45,69,24,71],[46,8,25,12],[46,14,25,18],[46,17,25,21,"object"],[46,23,25,27],[46,24,25,28],[46,27,25,31],[46,31,25,35],[46,32,25,36,"objects"],[46,39,25,43],[46,40,25,44,"idx"],[46,43,25,47],[46,44,25,48],[47,8,26,12,"value"],[47,13,26,17],[47,17,26,21],[47,20,26,24,"object"],[47,26,26,30],[47,30,26,34],[48,6,27,8],[49,6,28,8],[49,13,28,15,"value"],[49,18,28,20],[50,4,29,4],[51,4,30,4,"getUnencodedContents"],[51,24,30,24,"getUnencodedContents"],[51,25,30,24],[51,27,30,27],[52,6,31,8],[52,12,31,14,"buffer"],[52,18,31,20],[52,21,31,23],[52,25,31,27,"Uint8Array"],[52,35,31,37],[52,36,31,38],[52,40,31,42],[52,41,31,43,"getUnencodedContentsSize"],[52,65,31,67],[52,66,31,68],[52,67,31,69],[52,68,31,70],[53,6,32,8],[53,10,32,12,"offset"],[53,16,32,18],[53,19,32,21],[53,23,32,21,"copyStringIntoBuffer"],[53,36,32,41],[53,37,32,41,"copyStringIntoBuffer"],[53,57,32,41],[53,59,32,42],[53,63,32,46],[53,64,32,47,"offsetsString"],[53,77,32,60],[53,79,32,62,"buffer"],[53,85,32,68],[53,87,32,70],[53,88,32,71],[53,89,32,72],[54,6,33,8],[54,11,33,13],[54,15,33,17,"idx"],[54,18,33,20],[54,21,33,23],[54,22,33,24],[54,24,33,26,"len"],[54,27,33,29],[54,30,33,32],[54,34,33,36],[54,35,33,37,"objects"],[54,42,33,44],[54,43,33,45,"length"],[54,49,33,51],[54,51,33,53,"idx"],[54,54,33,56],[54,57,33,59,"len"],[54,60,33,62],[54,62,33,64,"idx"],[54,65,33,67],[54,67,33,69],[54,69,33,71],[55,8,34,12],[55,14,34,18],[55,17,34,21,"object"],[55,23,34,27],[55,24,34,28],[55,27,34,31],[55,31,34,35],[55,32,34,36,"objects"],[55,39,34,43],[55,40,34,44,"idx"],[55,43,34,47],[55,44,34,48],[56,8,35,12,"offset"],[56,14,35,18],[56,18,35,22,"object"],[56,24,35,28],[56,25,35,29,"copyBytesInto"],[56,38,35,42],[56,39,35,43,"buffer"],[56,45,35,49],[56,47,35,51,"offset"],[56,53,35,57],[56,54,35,58],[57,8,36,12,"buffer"],[57,14,36,18],[57,15,36,19,"offset"],[57,21,36,25],[57,23,36,27],[57,24,36,28],[57,27,36,31,"CharCodes"],[57,36,36,40],[57,37,36,40,"default"],[57,44,36,40],[57,45,36,41,"Newline"],[57,52,36,48],[58,6,37,8],[59,6,38,8],[59,13,38,15,"buffer"],[59,19,38,21],[60,4,39,4],[61,4,40,4,"getUnencodedContentsSize"],[61,28,40,28,"getUnencodedContentsSize"],[61,29,40,28],[61,31,40,31],[62,6,41,8],[62,13,41,16],[62,17,41,20],[62,18,41,21,"offsetsString"],[62,31,41,34],[62,32,41,35,"length"],[62,38,41,41],[62,41,42,12],[62,45,42,12,"last"],[62,58,42,16],[62,59,42,16,"last"],[62,63,42,16],[62,65,42,17],[62,69,42,21],[62,70,42,22,"offsets"],[62,77,42,29],[62,78,42,30],[62,79,42,31],[62,80,42,32],[62,81,42,33],[62,84,43,12],[62,88,43,12,"last"],[62,101,43,16],[62,102,43,16,"last"],[62,106,43,16],[62,108,43,17],[62,112,43,21],[62,113,43,22,"objects"],[62,120,43,29],[62,121,43,30],[62,122,43,31],[62,123,43,32],[62,124,43,33],[62,125,43,34,"sizeInBytes"],[62,136,43,45],[62,137,43,46],[62,138,43,47],[62,141,44,12],[62,142,44,13],[63,4,45,4],[64,4,46,4,"computeOffsetsString"],[64,24,46,24,"computeOffsetsString"],[64,25,46,24],[64,27,46,27],[65,6,47,8],[65,10,47,12,"offsetsString"],[65,23,47,25],[65,26,47,28],[65,28,47,30],[66,6,48,8],[66,11,48,13],[66,15,48,17,"idx"],[66,18,48,20],[66,21,48,23],[66,22,48,24],[66,24,48,26,"len"],[66,27,48,29],[66,30,48,32],[66,34,48,36],[66,35,48,37,"offsets"],[66,42,48,44],[66,43,48,45,"length"],[66,49,48,51],[66,51,48,53,"idx"],[66,54,48,56],[66,57,48,59,"len"],[66,60,48,62],[66,62,48,64,"idx"],[66,65,48,67],[66,67,48,69],[66,69,48,71],[67,8,49,12],[67,14,49,18],[67,15,49,19,"objectNumber"],[67,27,49,31],[67,29,49,33,"offset"],[67,35,49,39],[67,36,49,40],[67,39,49,43],[67,43,49,47],[67,44,49,48,"offsets"],[67,51,49,55],[67,52,49,56,"idx"],[67,55,49,59],[67,56,49,60],[68,8,50,12,"offsetsString"],[68,21,50,25],[68,25,50,29],[68,28,50,32,"objectNumber"],[68,40,50,44],[68,44,50,48,"offset"],[68,50,50,54],[68,53,50,57],[69,6,51,8],[70,6,52,8],[70,13,52,15,"offsetsString"],[70,26,52,28],[71,4,53,4],[72,4,54,4,"computeObjectOffsets"],[72,24,54,24,"computeObjectOffsets"],[72,25,54,24],[72,27,54,27],[73,6,55,8],[73,10,55,12,"offset"],[73,16,55,18],[73,19,55,21],[73,20,55,22],[74,6,56,8],[74,12,56,14,"offsets"],[74,19,56,21],[74,22,56,24],[74,26,56,28,"Array"],[74,31,56,33],[74,32,56,34],[74,36,56,38],[74,37,56,39,"objects"],[74,44,56,46],[74,45,56,47,"length"],[74,51,56,53],[74,52,56,54],[75,6,57,8],[75,11,57,13],[75,15,57,17,"idx"],[75,18,57,20],[75,21,57,23],[75,22,57,24],[75,24,57,26,"len"],[75,27,57,29],[75,30,57,32],[75,34,57,36],[75,35,57,37,"objects"],[75,42,57,44],[75,43,57,45,"length"],[75,49,57,51],[75,51,57,53,"idx"],[75,54,57,56],[75,57,57,59,"len"],[75,60,57,62],[75,62,57,64,"idx"],[75,65,57,67],[75,67,57,69],[75,69,57,71],[76,8,58,12],[76,14,58,18],[76,15,58,19,"ref"],[76,18,58,22],[76,20,58,24,"object"],[76,26,58,30],[76,27,58,31],[76,30,58,34],[76,34,58,38],[76,35,58,39,"objects"],[76,42,58,46],[76,43,58,47,"idx"],[76,46,58,50],[76,47,58,51],[77,8,59,12,"offsets"],[77,15,59,19],[77,16,59,20,"idx"],[77,19,59,23],[77,20,59,24],[77,23,59,27],[77,24,59,28,"ref"],[77,27,59,31],[77,28,59,32,"objectNumber"],[77,40,59,44],[77,42,59,46,"offset"],[77,48,59,52],[77,49,59,53],[78,8,60,12,"offset"],[78,14,60,18],[78,18,60,22,"object"],[78,24,60,28],[78,25,60,29,"sizeInBytes"],[78,36,60,40],[78,37,60,41],[78,38,60,42],[78,41,60,45],[78,42,60,46],[78,43,60,47],[78,44,60,48],[79,6,61,8],[80,6,62,8],[80,13,62,15,"offsets"],[80,20,62,22],[81,4,63,4],[82,2,64,0],[83,2,65,0,"PDFObjectStream"],[83,17,65,15],[83,18,65,16,"withContextAndObjects"],[83,39,65,37],[83,42,65,40],[83,43,65,41,"context"],[83,50,65,48],[83,52,65,50,"objects"],[83,59,65,57],[83,61,65,59,"encode"],[83,67,65,65],[83,70,65,68],[83,74,65,72],[83,79,65,77],[83,83,65,81,"PDFObjectStream"],[83,98,65,96],[83,99,65,97,"context"],[83,106,65,104],[83,108,65,106,"objects"],[83,115,65,113],[83,117,65,115,"encode"],[83,123,65,121],[83,124,65,122],[84,2,66,0],[84,6,66,0,"_default"],[84,14,66,0],[84,17,66,15,"PDFObjectStream"],[84,32,66,30],[85,0,66,31],[85,3]],"functionMap":{"names":["<global>","PDFObjectStream","constructor","getObjectsCount","clone","getContentsString","getUnencodedContents","getUnencodedContentsSize","computeOffsetsString","computeObjectOffsets","withContextAndObjects"],"mappings":"AAA;ACK;ICC;KDQ;IEC;KFE;IGC;KHE;IIC;KJO;IKC;KLS;IMC;KNK;IOC;KPO;IQC;KRS;CDC;wCUC,kFV"},"hasCjsExports":false},"type":"js/module"}]}