{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":40,"index":144}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"./analytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":145},"end":{"line":4,"column":44,"index":189}}],"key":"Wq1/hNtnG4SYctbqvN6XajKGNCk=","exportNames":["*"],"imports":1}},{"name":"./crashlytics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":190},"end":{"line":5,"column":124,"index":314}}],"key":"u7ezk4wLEXpqZtHRqMa4l7uDIPk=","exportNames":["*"],"imports":1}},{"name":"./messaging","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":315},"end":{"line":6,"column":123,"index":438}}],"key":"IK8gRkK9nLlEPfhEsx4lMxX4by8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"initializeFirebase\", {\n    enumerable: true,\n    get: function () {\n      return initializeFirebase;\n    }\n  });\n  Object.defineProperty(exports, \"setupPushNotifications\", {\n    enumerable: true,\n    get: function () {\n      return setupPushNotifications;\n    }\n  });\n  Object.defineProperty(exports, \"setUserContext\", {\n    enumerable: true,\n    get: function () {\n      return setUserContext;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _analytics = require(_dependencyMap[2], \"./analytics\");\n  Object.keys(_analytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _analytics[k];\n        }\n      });\n    }\n  });\n  var _crashlytics = require(_dependencyMap[3], \"./crashlytics\");\n  Object.keys(_crashlytics).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _crashlytics[k];\n        }\n      });\n    }\n  });\n  var _messaging = require(_dependencyMap[4], \"./messaging\");\n  Object.keys(_messaging).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) {\n      Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () {\n          return _messaging[k];\n        }\n      });\n    }\n  });\n  // Central Firebase/Notification initialization service\n  // Using Expo Notifications instead of Firebase\n\n  // Initialize all services\n  var initializeFirebase = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* () {\n      if (_reactNative.Platform.OS === 'web') {\n        console.log('[Services] Skipping initialization on web');\n        return;\n      }\n      console.log('[Services] Initializing services...');\n      try {\n        // Initialize Analytics (NO-OP for now)\n        yield (0, _analytics.initAnalytics)();\n\n        // Initialize Crashlytics (NO-OP for now)\n        yield (0, _crashlytics.initCrashlytics)();\n\n        // Initialize Expo Notifications\n        yield (0, _messaging.initMessaging)();\n        console.log('[Services] All services initialized');\n      } catch (error) {\n        console.error('[Services] Init error:', error);\n      }\n    });\n    return function initializeFirebase() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  // Setup push notifications - call after user grants permission\n  var setupPushNotifications = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (userId) {\n      if (_reactNative.Platform.OS === 'web') {\n        return null;\n      }\n      try {\n        // Get Expo Push Token\n        var pushToken = yield (0, _messaging.getPushToken)();\n        if (pushToken) {\n          console.log('[Services] Push token obtained');\n\n          // Subscribe to all users topic (handled by backend)\n          yield (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.ALL_USERS);\n          if (userId) {\n            yield (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.NEW_FEATURES);\n          }\n        }\n        return pushToken;\n      } catch (error) {\n        console.error('[Services] Push notification setup error:', error);\n        return null;\n      }\n    });\n    return function setupPushNotifications(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  // Set user context\n  var setUserContext = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (userId, email, isPremium) {\n      if (_reactNative.Platform.OS === 'web') {\n        return;\n      }\n      try {\n        // Set user ID in Crashlytics (NO-OP)\n        yield (0, _crashlytics.setUserId)(userId);\n\n        // Set additional attributes (NO-OP)\n        yield (0, _crashlytics.setAttributes)({\n          email: email || 'unknown',\n          is_premium: isPremium ? 'true' : 'false'\n        });\n\n        // Subscribe to appropriate notification topics based on premium status\n        if (isPremium) {\n          yield (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.PREMIUM_USERS);\n        } else {\n          yield (0, _messaging.subscribeToTopic)(_messaging.NotificationTopics.FREE_USERS);\n        }\n        console.log('[Services] User context set');\n      } catch (error) {\n        console.error('[Services] Set user context error:', error);\n      }\n    });\n    return function setUserContext(_x2, _x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  // Export all services\n});","lineCount":158,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"initializeFirebase"],[15,31,9,0],[16,4,9,0],[17,2,9,0],[18,2,34,0,"Object"],[18,8,34,0],[18,9,34,0,"defineProperty"],[18,23,34,0],[18,24,34,0,"exports"],[18,31,34,0],[19,4,34,0,"enumerable"],[19,14,34,0],[20,4,34,0,"get"],[20,7,34,0],[20,18,34,0,"get"],[20,19,34,0],[21,6,34,0],[21,13,34,0,"setupPushNotifications"],[21,35,34,0],[22,4,34,0],[23,2,34,0],[24,2,62,0,"Object"],[24,8,62,0],[24,9,62,0,"defineProperty"],[24,23,62,0],[24,24,62,0,"exports"],[24,31,62,0],[25,4,62,0,"enumerable"],[25,14,62,0],[26,4,62,0,"get"],[26,7,62,0],[26,18,62,0,"get"],[26,19,62,0],[27,6,62,0],[27,13,62,0,"setUserContext"],[27,27,62,0],[28,4,62,0],[29,2,62,0],[30,2,88,2],[30,6,88,2,"_babelRuntimeHelpersAsyncToGenerator"],[30,42,88,2],[30,45,88,2,"require"],[30,52,88,2],[30,53,88,2,"_dependencyMap"],[30,67,88,2],[31,2,88,2],[31,6,88,2,"_asyncToGenerator"],[31,23,88,2],[31,26,88,2,"_interopDefault"],[31,41,88,2],[31,42,88,2,"_babelRuntimeHelpersAsyncToGenerator"],[31,78,88,2],[32,2,3,0],[32,6,3,0,"_reactNative"],[32,18,3,0],[32,21,3,0,"require"],[32,28,3,0],[32,29,3,0,"_dependencyMap"],[32,43,3,0],[33,2,4,0],[33,6,4,0,"_analytics"],[33,16,4,0],[33,19,4,0,"require"],[33,26,4,0],[33,27,4,0,"_dependencyMap"],[33,41,4,0],[34,2,91,0,"Object"],[34,8,91,0],[34,9,91,0,"keys"],[34,13,91,0],[34,14,91,0,"_analytics"],[34,24,91,0],[34,26,91,0,"forEach"],[34,33,91,0],[34,44,91,0,"k"],[34,45,91,0],[35,4,91,0],[35,8,91,0,"k"],[35,9,91,0],[35,28,91,0,"Object"],[35,34,91,0],[35,35,91,0,"prototype"],[35,44,91,0],[35,45,91,0,"hasOwnProperty"],[35,59,91,0],[35,60,91,0,"call"],[35,64,91,0],[35,65,91,0,"exports"],[35,72,91,0],[35,74,91,0,"k"],[35,75,91,0],[36,6,91,0,"Object"],[36,12,91,0],[36,13,91,0,"defineProperty"],[36,27,91,0],[36,28,91,0,"exports"],[36,35,91,0],[36,37,91,0,"k"],[36,38,91,0],[37,8,91,0,"enumerable"],[37,18,91,0],[38,8,91,0,"get"],[38,11,91,0],[38,22,91,0,"get"],[38,23,91,0],[39,10,91,0],[39,17,91,0,"_analytics"],[39,27,91,0],[39,28,91,0,"k"],[39,29,91,0],[40,8,91,0],[41,6,91,0],[42,4,91,0],[43,2,91,0],[44,2,5,0],[44,6,5,0,"_crashlytics"],[44,18,5,0],[44,21,5,0,"require"],[44,28,5,0],[44,29,5,0,"_dependencyMap"],[44,43,5,0],[45,2,92,0,"Object"],[45,8,92,0],[45,9,92,0,"keys"],[45,13,92,0],[45,14,92,0,"_crashlytics"],[45,26,92,0],[45,28,92,0,"forEach"],[45,35,92,0],[45,46,92,0,"k"],[45,47,92,0],[46,4,92,0],[46,8,92,0,"k"],[46,9,92,0],[46,28,92,0,"Object"],[46,34,92,0],[46,35,92,0,"prototype"],[46,44,92,0],[46,45,92,0,"hasOwnProperty"],[46,59,92,0],[46,60,92,0,"call"],[46,64,92,0],[46,65,92,0,"exports"],[46,72,92,0],[46,74,92,0,"k"],[46,75,92,0],[47,6,92,0,"Object"],[47,12,92,0],[47,13,92,0,"defineProperty"],[47,27,92,0],[47,28,92,0,"exports"],[47,35,92,0],[47,37,92,0,"k"],[47,38,92,0],[48,8,92,0,"enumerable"],[48,18,92,0],[49,8,92,0,"get"],[49,11,92,0],[49,22,92,0,"get"],[49,23,92,0],[50,10,92,0],[50,17,92,0,"_crashlytics"],[50,29,92,0],[50,30,92,0,"k"],[50,31,92,0],[51,8,92,0],[52,6,92,0],[53,4,92,0],[54,2,92,0],[55,2,6,0],[55,6,6,0,"_messaging"],[55,16,6,0],[55,19,6,0,"require"],[55,26,6,0],[55,27,6,0,"_dependencyMap"],[55,41,6,0],[56,2,93,0,"Object"],[56,8,93,0],[56,9,93,0,"keys"],[56,13,93,0],[56,14,93,0,"_messaging"],[56,24,93,0],[56,26,93,0,"forEach"],[56,33,93,0],[56,44,93,0,"k"],[56,45,93,0],[57,4,93,0],[57,8,93,0,"k"],[57,9,93,0],[57,28,93,0,"Object"],[57,34,93,0],[57,35,93,0,"prototype"],[57,44,93,0],[57,45,93,0,"hasOwnProperty"],[57,59,93,0],[57,60,93,0,"call"],[57,64,93,0],[57,65,93,0,"exports"],[57,72,93,0],[57,74,93,0,"k"],[57,75,93,0],[58,6,93,0,"Object"],[58,12,93,0],[58,13,93,0,"defineProperty"],[58,27,93,0],[58,28,93,0,"exports"],[58,35,93,0],[58,37,93,0,"k"],[58,38,93,0],[59,8,93,0,"enumerable"],[59,18,93,0],[60,8,93,0,"get"],[60,11,93,0],[60,22,93,0,"get"],[60,23,93,0],[61,10,93,0],[61,17,93,0,"_messaging"],[61,27,93,0],[61,28,93,0,"k"],[61,29,93,0],[62,8,93,0],[63,6,93,0],[64,4,93,0],[65,2,93,0],[66,2,1,0],[67,2,2,0],[69,2,8,0],[70,2,9,7],[70,6,9,13,"initializeFirebase"],[70,24,9,31],[71,4,9,31],[71,8,9,31,"_ref"],[71,12,9,31],[71,19,9,31,"_asyncToGenerator"],[71,36,9,31],[71,37,9,31,"default"],[71,44,9,31],[71,46,9,34],[71,59,9,46],[72,6,10,2],[72,10,10,6,"Platform"],[72,22,10,14],[72,23,10,14,"Platform"],[72,31,10,14],[72,32,10,15,"OS"],[72,34,10,17],[72,39,10,22],[72,44,10,27],[72,46,10,29],[73,8,11,4,"console"],[73,15,11,11],[73,16,11,12,"log"],[73,19,11,15],[73,20,11,16],[73,63,11,59],[73,64,11,60],[74,8,12,4],[75,6,13,2],[76,6,15,2,"console"],[76,13,15,9],[76,14,15,10,"log"],[76,17,15,13],[76,18,15,14],[76,55,15,51],[76,56,15,52],[77,6,17,2],[77,10,17,6],[78,8,18,4],[79,8,19,4],[79,14,19,10],[79,18,19,10,"initAnalytics"],[79,28,19,23],[79,29,19,23,"initAnalytics"],[79,42,19,23],[79,44,19,24],[79,45,19,25],[81,8,21,4],[82,8,22,4],[82,14,22,10],[82,18,22,10,"initCrashlytics"],[82,30,22,25],[82,31,22,25,"initCrashlytics"],[82,46,22,25],[82,48,22,26],[82,49,22,27],[84,8,24,4],[85,8,25,4],[85,14,25,10],[85,18,25,10,"initMessaging"],[85,28,25,23],[85,29,25,23,"initMessaging"],[85,42,25,23],[85,44,25,24],[85,45,25,25],[86,8,27,4,"console"],[86,15,27,11],[86,16,27,12,"log"],[86,19,27,15],[86,20,27,16],[86,57,27,53],[86,58,27,54],[87,6,28,2],[87,7,28,3],[87,8,28,4],[87,15,28,11,"error"],[87,20,28,16],[87,22,28,18],[88,8,29,4,"console"],[88,15,29,11],[88,16,29,12,"error"],[88,21,29,17],[88,22,29,18],[88,46,29,42],[88,48,29,44,"error"],[88,53,29,49],[88,54,29,50],[89,6,30,2],[90,4,31,0],[90,5,31,1],[91,4,31,1],[91,20,9,13,"initializeFirebase"],[91,38,9,31,"initializeFirebase"],[91,39,9,31],[92,6,9,31],[92,13,9,31,"_ref"],[92,17,9,31],[92,18,9,31,"apply"],[92,23,9,31],[92,30,9,31,"arguments"],[92,39,9,31],[93,4,9,31],[94,2,9,31],[94,5,31,1],[96,2,33,0],[97,2,34,7],[97,6,34,13,"setupPushNotifications"],[97,28,34,35],[98,4,34,35],[98,8,34,35,"_ref2"],[98,13,34,35],[98,20,34,35,"_asyncToGenerator"],[98,37,34,35],[98,38,34,35,"default"],[98,45,34,35],[98,47,34,38],[98,58,34,45,"userId"],[98,64,34,60],[98,66,34,65],[99,6,35,2],[99,10,35,6,"Platform"],[99,22,35,14],[99,23,35,14,"Platform"],[99,31,35,14],[99,32,35,15,"OS"],[99,34,35,17],[99,39,35,22],[99,44,35,27],[99,46,35,29],[100,8,36,4],[100,15,36,11],[100,19,36,15],[101,6,37,2],[102,6,39,2],[102,10,39,6],[103,8,40,4],[104,8,41,4],[104,12,41,10,"pushToken"],[104,21,41,19],[104,30,41,28],[104,34,41,28,"getPushToken"],[104,44,41,40],[104,45,41,40,"getPushToken"],[104,57,41,40],[104,59,41,41],[104,60,41,42],[105,8,43,4],[105,12,43,8,"pushToken"],[105,21,43,17],[105,23,43,19],[106,10,44,6,"console"],[106,17,44,13],[106,18,44,14,"log"],[106,21,44,17],[106,22,44,18],[106,54,44,50],[106,55,44,51],[108,10,46,6],[109,10,47,6],[109,16,47,12],[109,20,47,12,"subscribeToTopic"],[109,30,47,28],[109,31,47,28,"subscribeToTopic"],[109,47,47,28],[109,49,47,29,"NotificationTopics"],[109,59,47,47],[109,60,47,47,"NotificationTopics"],[109,78,47,47],[109,79,47,48,"ALL_USERS"],[109,88,47,57],[109,89,47,58],[110,10,49,6],[110,14,49,10,"userId"],[110,20,49,16],[110,22,49,18],[111,12,50,8],[111,18,50,14],[111,22,50,14,"subscribeToTopic"],[111,32,50,30],[111,33,50,30,"subscribeToTopic"],[111,49,50,30],[111,51,50,31,"NotificationTopics"],[111,61,50,49],[111,62,50,49,"NotificationTopics"],[111,80,50,49],[111,81,50,50,"NEW_FEATURES"],[111,93,50,62],[111,94,50,63],[112,10,51,6],[113,8,52,4],[114,8,54,4],[114,15,54,11,"pushToken"],[114,24,54,20],[115,6,55,2],[115,7,55,3],[115,8,55,4],[115,15,55,11,"error"],[115,20,55,16],[115,22,55,18],[116,8,56,4,"console"],[116,15,56,11],[116,16,56,12,"error"],[116,21,56,17],[116,22,56,18],[116,65,56,61],[116,67,56,63,"error"],[116,72,56,68],[116,73,56,69],[117,8,57,4],[117,15,57,11],[117,19,57,15],[118,6,58,2],[119,4,59,0],[119,5,59,1],[120,4,59,1],[120,20,34,13,"setupPushNotifications"],[120,42,34,35,"setupPushNotifications"],[120,43,34,35,"_x"],[120,45,34,35],[121,6,34,35],[121,13,34,35,"_ref2"],[121,18,34,35],[121,19,34,35,"apply"],[121,24,34,35],[121,31,34,35,"arguments"],[121,40,34,35],[122,4,34,35],[123,2,34,35],[123,5,59,1],[125,2,61,0],[126,2,62,7],[126,6,62,13,"setUserContext"],[126,20,62,27],[127,4,62,27],[127,8,62,27,"_ref3"],[127,13,62,27],[127,20,62,27,"_asyncToGenerator"],[127,37,62,27],[127,38,62,27,"default"],[127,45,62,27],[127,47,62,30],[127,58,62,37,"userId"],[127,64,62,51],[127,66,62,53,"email"],[127,71,62,67],[127,73,62,69,"isPremium"],[127,82,62,88],[127,84,62,93],[128,6,63,2],[128,10,63,6,"Platform"],[128,22,63,14],[128,23,63,14,"Platform"],[128,31,63,14],[128,32,63,15,"OS"],[128,34,63,17],[128,39,63,22],[128,44,63,27],[128,46,63,29],[129,8,64,4],[130,6,65,2],[131,6,67,2],[131,10,67,6],[132,8,68,4],[133,8,69,4],[133,14,69,10],[133,18,69,10,"setCrashlyticsUser"],[133,30,69,28],[133,31,69,28,"setUserId"],[133,40,69,28],[133,42,69,29,"userId"],[133,48,69,35],[133,49,69,36],[135,8,71,4],[136,8,72,4],[136,14,72,10],[136,18,72,10,"setCrashlyticsAttributes"],[136,30,72,34],[136,31,72,34,"setAttributes"],[136,44,72,34],[136,46,72,35],[137,10,73,6,"email"],[137,15,73,11],[137,17,73,13,"email"],[137,22,73,18],[137,26,73,22],[137,35,73,31],[138,10,74,6,"is_premium"],[138,20,74,16],[138,22,74,18,"isPremium"],[138,31,74,27],[138,34,74,30],[138,40,74,36],[138,43,74,39],[139,8,75,4],[139,9,75,5],[139,10,75,6],[141,8,77,4],[142,8,78,4],[142,12,78,8,"isPremium"],[142,21,78,17],[142,23,78,19],[143,10,79,6],[143,16,79,12],[143,20,79,12,"subscribeToTopic"],[143,30,79,28],[143,31,79,28,"subscribeToTopic"],[143,47,79,28],[143,49,79,29,"NotificationTopics"],[143,59,79,47],[143,60,79,47,"NotificationTopics"],[143,78,79,47],[143,79,79,48,"PREMIUM_USERS"],[143,92,79,61],[143,93,79,62],[144,8,80,4],[144,9,80,5],[144,15,80,11],[145,10,81,6],[145,16,81,12],[145,20,81,12,"subscribeToTopic"],[145,30,81,28],[145,31,81,28,"subscribeToTopic"],[145,47,81,28],[145,49,81,29,"NotificationTopics"],[145,59,81,47],[145,60,81,47,"NotificationTopics"],[145,78,81,47],[145,79,81,48,"FREE_USERS"],[145,89,81,58],[145,90,81,59],[146,8,82,4],[147,8,84,4,"console"],[147,15,84,11],[147,16,84,12,"log"],[147,19,84,15],[147,20,84,16],[147,49,84,45],[147,50,84,46],[148,6,85,2],[148,7,85,3],[148,8,85,4],[148,15,85,11,"error"],[148,20,85,16],[148,22,85,18],[149,8,86,4,"console"],[149,15,86,11],[149,16,86,12,"error"],[149,21,86,17],[149,22,86,18],[149,58,86,54],[149,60,86,56,"error"],[149,65,86,61],[149,66,86,62],[150,6,87,2],[151,4,88,0],[151,5,88,1],[152,4,88,1],[152,20,62,13,"setUserContext"],[152,34,62,27,"setUserContext"],[152,35,62,27,"_x2"],[152,38,62,27],[152,40,62,27,"_x3"],[152,43,62,27],[152,45,62,27,"_x4"],[152,48,62,27],[153,6,62,27],[153,13,62,27,"_ref3"],[153,18,62,27],[153,19,62,27,"apply"],[153,24,62,27],[153,31,62,27,"arguments"],[153,40,62,27],[154,4,62,27],[155,2,62,27],[155,5,88,1],[157,2,90,0],[158,0,90,0],[158,3]],"functionMap":{"names":["<global>","initializeFirebase","setupPushNotifications","setUserContext"],"mappings":"AAA;kCCQ;CDsB;sCEG;CFyB;8BGG;CH0B"},"hasCjsExports":false},"type":"js/module"}]}